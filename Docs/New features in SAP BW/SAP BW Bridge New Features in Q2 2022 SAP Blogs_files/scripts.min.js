"use strict";jQuery(document).ready(function(c){var a=".dm-collapse__wrapper",d=".dm-icon-encoded",i="dm-icon-encoded--arrow-right",t="dm-icon-encoded--arrow-down",r="ds-collapse--open",s="ds-icon--arrow-up",l="ds-icon--arrow-down",n=c('.dm-comment-alerted__title[data-toggle="collapse"]'),e=c(".ds-blog-post-comment__alert-toggle");function o(n,e){var o=c(n).closest(a).find(d);o.removeClass(e?i:t),o.addClass(e?t:i)}function p(n,e){m(n,e,"ds-message--error","ds-icon--close-outline")}function m(n,e,o,a){var d=n.find(".ds-message__content"),i=n.find("i").clone();i.addClass("ds-icon--close-outline"),d.text(e).prepend(i),n.addClass(o),n.show()}n.on("shown.dm.collapse",function(n){o(n.target,!0)}),n.on("hidden.dm.collapse",function(n){o(n.target,!1)}),e.on("click",function(n){var e=c(this).find("i");e.toggleClass(s),e.toggleClass(l);var o=c(this).siblings(".ds-blog-post-comment__alert-info");o.toggleClass(r);var a=o.hasClass(r);c(this).attr("aria-expanded",a)}),c(".wprc-submit-v3").click(function(){var a=c(this),n=a.attr("name"),e=c(this).parents(".wprc-content-v3"),d=e.find(".wprc-form-v3"),i=e.find(".wprc-message-v3"),o=e.find('input[name="wprc_content_id"]').val(),t=e.find('input[name="wprc_content_type"]').val(),r=e.find(".ds-choicesSelect__input").text(),s=e.find(".input-details-v3").val();"Select Reason for Alert"!==r&&s?(a.prop("disabled",!0),c.ajax({type:"POST",url:wprcajaxhandler.ajaxurl,data:{action:"wprc_add_report",_ajax_nonce:n,id:o,type:t,reason:r,details:s,redirect:window.location.pathname},beforeSend:function(){!function(n){c(n).append('<div class="dm-loading-indicator"><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar1"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar2"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar3"></div></div>')}(e)},complete:function(){!function(n){c(n).find(".dm-loading-indicator").remove()}(e)},success:function(n,e,o){(n=c.parseJSON(n)).success?(function(n,e){m(n,e,"ds-message--success")}(i,n.message),function(n){n.children(":not(.wprc-message-v3)").each(function(n){this.remove()})}(d)):(p(i,n.message),a.prop("disabled",!1))},error:function(n,e,o){p(i,"An unexpected error has occurred."),console.log("Moderation Alert is not saved. Error status: "+e+", error Thrown: "+o),a.prop("disabled",!1)}})):p(i,"Please provide a reason and description for the alert.")}).prop("disabled",!1)});