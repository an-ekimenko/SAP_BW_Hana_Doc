!function(){function e(r){var o=i[r];if(void 0!==o)return o.exports;var n=i[r]={id:r,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.exports}var t={7262:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".w66tAWFA2{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:auto;visibility:hidden;overflow:hidden;z-index:0}",""]),o.locals={AdPodContainer:"w66tAWFA2"},e.exports=o},3857:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,'.rBN2d3{border-radius:12px;background:#fff;padding:12px 12px 16px;position:relative;line-height:var(--pc-line-height)}.rBN2d3 .ZqM{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%}.VL0S2Jd{display:flex;flex-direction:row;padding:12px}.DRRCrzXX0k{width:100%;height:50%;border-radius:4px;object-fit:cover}.VL0S2Jd .DRRCrzXX0k{height:100%;width:40%}.tNG5{padding-top:3%;height:50%;display:flex;flex-direction:column;justify-content:space-between}.VL0S2Jd .tNG5{padding-top:0;padding-left:8px;width:60%;height:100%}.ov4FfbBMd{white-space:nowrap;overflow:hidden}.cGMz{font-size:1.67em;color:#000}.qUr9aA70{color:#ff4c52}.Xdy5{font-size:1.2em;color:#a3acbf;margin-left:10px;position:relative}.Xdy5:after{content:"";left:0;top:50%;width:100%;height:1px;position:absolute;background:#f95146;transform:rotate(-2deg)}.Mxm7b30u{color:rgba(32,53,96,.6);flex:1;padding-top:3%;min-height:1px}.R1e7S{display:-webkit-box;-webkit-line-clamp:var(--pc-lines-count);-webkit-box-orient:vertical;line-clamp:var(--pc-lines-count);overflow:hidden}.ve91OV{white-space:nowrap;text-align:center;font-size:.93em;color:#37f;overflow:hidden}.RFJr{color:inherit;text-decoration:none}',""]),o.locals={EcomProductCard:"rBN2d3",ClickThroughLink:"ZqM",EcomProductCard_horizontal:"VL0S2Jd",EcomProductCard__Image:"DRRCrzXX0k",EcomProductCard__Details:"tNG5",EcomProductCard__pricesContainer:"ov4FfbBMd",EcomProductCard__price:"cGMz",EcomProductCard__price_withOldPrice:"qUr9aA70",EcomProductCard__oldPrice:"Xdy5",EcomProductCard__textContainer:"Mxm7b30u",EcomProductCard__text:"R1e7S",EcomProductCard__linkContainer:"ve91OV",EcomProductCard__link:"RFJr"},e.exports=o},9759:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".JxWcM *,[class^=EcomProductsCarousel]{box-sizing:border-box}.JxWcM{display:flex;height:100%}.K6hrdD6N{display:flex;flex-direction:column;justify-content:center}.LondfpO,.YCKxlYrf2{font:inherit;display:flex;justify-content:center;align-items:center;width:2.4em;height:2.4em;padding:10.75px 8px;border-radius:2.4em;border:none;background:#fff;cursor:pointer}.LondfpO:disabled,.YCKxlYrf2:disabled{cursor:auto}.Bl9u29,.F5XxQPv9W3{width:100%}.mHPr{flex:1;display:flex;align-items:center;border-radius:12px;overflow:auto;scroll-behavior:smooth;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none}.mHPr::-webkit-scrollbar{display:none}.srGl8{justify-content:center}.bDHN4NDcT{display:flex;justify-content:center;align-items:center;width:var(--pc-card-container-width);min-width:var(--pc-card-container-width);height:100%;padding:0 max(4px,calc(var(--pc-card-container-width)/2 - var(--pc-card-width)/2));scroll-snap-align:start}.GAU4KygZNh .rBN2d3{min-height:min(calc(var(--pc-card-width)*7/5),100%);max-height:calc(var(--pc-card-width)*2)}.OOcFxj0At .rBN2d3{min-height:min(calc(var(--pc-card-width)/3),100%);max-height:calc(var(--pc-card-width)/2)}.bDHN4NDcT .rBN2d3{width:100%;height:100%}.tev{display:flex;flex-direction:column;justify-content:center}",""]),o.locals={EcomProductsCarousel:"JxWcM",EcomProductsCarousel__slideToLeftContainer:"K6hrdD6N",EcomProductsCarousel__slideToLeft:"LondfpO",EcomProductsCarousel__slideToRight:"YCKxlYrf2",EcomProductsCarousel__slideToLeftIcon:"Bl9u29",EcomProductsCarousel__slideToRightIcon:"F5XxQPv9W3",EcomProductsCarousel__productCards:"mHPr",EcomProductsCarousel__productCards_noScroll:"srGl8",EcomProductsCarousel__productCardContainer:"bDHN4NDcT",EcomProductsCarousel__productCardContainer_verticalCards:"GAU4KygZNh",EcomProductCard:"rBN2d3",EcomProductsCarousel__productCardContainer_horizontalCards:"OOcFxj0At",EcomProductsCarousel__slideToRightContainer:"tev"},e.exports=o},4873:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(9792),s=i(2840),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".oUae7x,.oUae7x *{font-family:"+n.locals.AD_FONT+";box-sizing:border-box}.oUae7x{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);padding:4px 10px 68px}.Kyok8Ea{text-align:right;padding-right:2.4em}.hSgnxyPo{padding:0;color:#fff;background:none;border:none;font:inherit;cursor:pointer;opacity:1;visibility:visible;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" visibility "+s.locals.default_transition_timing_function+"}.obV2{visibility:hidden;opacity:0}.BPQ9c{height:24px;width:24px}.bbEK .JxWcM{max-width:33.33333%;margin:0 auto}.bbEK.gBx7wzgSh .JxWcM{max-width:unset;margin:unset}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,EcomProductsPackshotScreen:"oUae7x",EcomProductsPackshotScreen__closeButtonContainer:"Kyok8Ea",EcomProductsPackshotScreen__closeButton:"hSgnxyPo",EcomProductsPackshotScreen__closeButton_hidden:"obV2",EcomProductsPackshotScreen__closeIcon:"BPQ9c",EcomProductsPackshotScreen_singleVisibleItem:"bbEK",EcomProductsCarousel:"JxWcM",EcomProductsPackshotScreen_vertical:"gBx7wzgSh"},e.exports=l},1256:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".BhfABd6Fn{display:inline-block;color:#000;font-size:16px;font-family:"+n.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.SS9sWMrTuh{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,HoneypotButton:"BhfABd6Fn",HoneypotButton__content:"SS9sWMrTuh"},e.exports=a},6383:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".UjQN5Rwu{background-color:#000;opacity:.5}",""]),o.locals={HoneypotOverlay:"UjQN5Rwu"},e.exports=o},5046:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".tHrvI{position:relative}.yJIKnHFQxU{cursor:pointer}.J1Qq{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.Tw5t4lMCtq{position:absolute;top:0;left:0}",""]),o.locals={HoneypotScreen:"tHrvI",HoneypotScreen_clickable:"yJIKnHFQxU",HoneypotScreen__buttonWrapper:"J1Qq",HoneypotScreen__honeypotOverlayWrapper:"Tw5t4lMCtq"},e.exports=o},5432:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".ZqM{color:inherit;text-decoration:none;pointer-events:auto}.ZqM[data-pointer-events]{pointer-events:none}",""]),o.locals={ClickThroughLink:"ZqM"},e.exports=o},7480:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".STyj1uyW{display:inline-block;color:#000;font-size:16px;font-family:"+n.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.nR1FXSCE{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,PackshotButton:"STyj1uyW",PackshotButton__content:"nR1FXSCE"},e.exports=a},4368:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".qmnSoN2U{background-color:#000;opacity:.5}",""]),o.locals={PackshotOverlay:"qmnSoN2U"},e.exports=o},3162:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".adq0R{position:relative}.nkND1oDk4{cursor:pointer}.xCAXqZqF2{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}.owew31CUk{font-weight:700;cursor:pointer}.c3Aj6bQgot,.owew31CUk{box-sizing:border-box;text-align:center;margin:4px 0;width:100%;color:#fff;font-family:"+n.locals.AD_FONT+"}.xEZ{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.RKcR{justify-content:center;display:flex;margin:8px}.pHdLrUoCXJ{position:absolute;top:0;left:0}.m8nid{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+n.locals.AD_FONT+"}.aoJxwSgsv{position:absolute;bottom:0;width:100%;padding:4px;color:#fff;opacity:.85;font-family:"+n.locals.AD_FONT+"}.ZtH{justify-content:left}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,PackshotScreen:"adq0R",PackshotScreen_clickable:"nkND1oDk4",PackshotScreen__content:"xCAXqZqF2",PackshotScreen__title:"owew31CUk",PackshotScreen__body:"c3Aj6bQgot",PackshotScreen__buttonWrapper:"xEZ",PackshotScreen__buttonWrapper_newDesign:"RKcR",PackshotScreen__packshotOverlayWrapper:"pHdLrUoCXJ",PackshotScreen__textBlock:"m8nid",PackshotScreen__textBlock_newDesgin:"aoJxwSgsv",PackshotScreen__buttonWrapper_newDesign_float_left:"ZtH"},e.exports=a},5817:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(5092),s=i(1307),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".S7Jq{display:inline-flex;align-items:center;height:15px;box-sizing:border-box;padding:0 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+n.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.F2Xfs{font-size:8px;height:17px}.CAYTx{cursor:pointer}.dPG0{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.F2Xfs .dPG0{font-size:6px}.kY0zjgt{font-size:8px;background:#eef1f4;text-shadow:none}.kY0zjgt .dPG0{font-size:8px}.lIr5Asd4I{}.S7Jq.BG6fXmoEI3,.S7Jq.Q8J{-webkit-backdrop-filter:none;backdrop-filter:none;text-shadow:none}.S7Jq.Q8J{background:hsla(0,0%,100%,.8);color:#3a3c40}.S7Jq.BG6fXmoEI3{background:rgba(26,43,77,.4);color:#fff}.keI{}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,AD_LABEL_SMALL_HEIGHT:""+a.locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+s.locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"S7Jq",AdLabel_fullSize:"F2Xfs",AdLabel_clickable:"CAYTx",AdLabel__delimiter:"dPG0",AdLabel_survey:"kY0zjgt",AdLabel__ageLabel:"lIr5Asd4I",AdLabel_dark:"BG6fXmoEI3",AdLabel_light:"Q8J",AdLabel__domain:"keI"},e.exports=l},7769:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".serpgZ{display:flex;align-items:center}",""]),o.locals={AdLabelsPanel:"serpgZ"},e.exports=o},9843:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".q7t7z{pointer-events:auto;display:block;position:relative;height:17px;width:17px;margin-left:3px;border-radius:20px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.XAw8YCJNq{height:15px;width:15px;margin-left:2px}.q7t7z>svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),o.locals={BusinessUnitAdLabel:"q7t7z",BusinessUnitAdLabel_small:"XAw8YCJNq"},e.exports=o},3614:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".Thzk6h{display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+n.locals.AD_FONT+";text-decoration:none;white-space:nowrap;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,SocialAdvertisingAdLabel:"Thzk6h"},e.exports=a},2935:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".wbILW6{height:100%;opacity:0}.q9zYLn3m{opacity:1}.YmXn03G5WC{height:calc(100% - var(--ctat-margin-top) - var(--ctat-margin-bottom));display:flex;align-items:center;justify-content:center;margin-left:var(--ctat-horizontal-margin);margin-right:var(--ctat-horizontal-margin);margin-top:var(--ctat-margin-top);position:relative;z-index:0}.b1BZbacus,.dNMDqok{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-family:"+n.locals.AD_FONT+";font-weight:600;text-shadow:0 0 16px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 1px 1px rgba(0,0,0,.05)}.q9zYLn3m .dNMDqok .Y2E{--ctat-animation-delay-line:calc(var(--ctat-animation-title-part-duration)*3*var(--stw-text-line-index));--ctat-animation-delay-third:calc(var(--ctat-animation-title-part-duration)*var(--stw-text-char-inside-line-third));--ctat-animation-overlap-char:calc(var(--ctat-animation-delay-third) + var(--ctat-animation-delay-line));animation-name:sM8;animation-duration:var(--ctat-animation-title-part-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-overlap-char) + var(--ctat-animation-title-animation-show-delay));animation-fill-mode:both;animation-timing-function:ease-in-out;animation-play-state:var(--ctat-animation-playing-state)}@keyframes sM8{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.b1BZbacus .FyAzKZ,.dNMDqok .FyAzKZ{overflow:clip;pointer-events:auto}.q9zYLn3m .dNMDqok .FyAzKZ{--ctat-animation-title-animation-enlarge-current-line-delay:calc(var(--ctat-animation-title-animation-enlargement-delay) + (var(--ctat-animation-title-animation-enlargement-duration) + var(--ctat-animation-title-enlargement-next-line-delay))*var(--stw-text-line-index));--ctat-animation-title-animation-hide-current-line-delay:calc(var(--ctat-animation-title-animation-hide-delay) + var(--ctat-animation-title-animation-hide-duration)*var(--stw-text-line-index));animation-name:F9DcncBKN,dUYHAe;animation-duration:var(--ctat-animation-title-animation-enlargement-duration),var(--ctat-animation-title-animation-hide-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-enlarge-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-hide-current-line-delay));animation-fill-mode:both,forwards;animation-timing-function:cubic-bezier(.35,0,.65,1),ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}@keyframes F9DcncBKN{0%{transform:scale(1) translateY(0)}to{transform:scale(1.1) translateY(0)}}@keyframes dUYHAe{0%{transform:scale(1.1) translateY(0);opacity:1}99%{transform:scale(1.1) translateY(100%);opacity:0}to{transform:scale(1.1) translateY(9999px);opacity:0}}.q9zYLn3m .b1BZbacus .FyAzKZ{--ctat-animation-body-animation-show-current-line-delay:calc(var(--ctat-animation-body-animation-show-delay) + (var(--ctat-animation-body-animation-show-duration)*0.5 + var(--ctat-animation-body-animation-show-line-delay))*var(--stw-text-line-index));--ctat-animation-body-animation-enlargement-current-line-delay:calc(var(--ctat-animation-body-animation-enlargement-delay) + var(--ctat-animation-body-animation-show-duration)*var(--stw-text-line-index));animation-name:h3g,MWmguORL;animation-duration:var(--ctat-animation-body-animation-show-duration),var(--ctat-animation-body-animation-enlargement-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-enlargement-current-line-delay));animation-fill-mode:both,none;animation-timing-function:ease-in-out,ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}.q9zYLn3m .b1BZbacus{z-index:0;animation-name:QJUtXlL8a;animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-delay));animation-duration:.1s;animation-timing-function:linear;animation-fill-mode:both}.q9zYLn3m .dNMDqok{z-index:1}@keyframes QJUtXlL8a{0%{z-index:0}to{z-index:1}}@keyframes h3g{0%{transform:translateY(9999px);opacity:0}1%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes MWmguORL{0%{transform:scale(1);letter-spacing:normal}33%{transform:scale(1.1);letter-spacing:.1em}to{transform:scale(1);letter-spacing:normal}}.PhFq97Tb{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.1)}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,CallToActionText:"wbILW6",CallToActionText__animated:"q9zYLn3m",CallToActionText__overlay:"YmXn03G5WC",CallToActionText__body:"b1BZbacus",CallToActionText__title:"dNMDqok",SplitTextLinesWrapper__char:"Y2E","title-char-reveal":"sM8",SplitTextLinesWrapper__textLine:"FyAzKZ","title-line-enlargement":"F9DcncBKN","title-line-hide":"dUYHAe","body-line-show":"h3g","body-line-enlargement":"MWmguORL","body-show":"QJUtXlL8a",CallToActionTextContainer:"PhFq97Tb"},e.exports=a},5655:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".n8J{display:flex;align-items:center;pointer-events:auto;border:none;font:inherit;height:100%;min-height:32px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:inherit;background-color:rgba(38,38,38,.65);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:0 10px;cursor:pointer}.megprp{height:2em}.wM0PjIz{margin-left:8px;text-align:left}.mGBW2jW{font-weight:500;text-transform:capitalize}.M55FxKqsP{position:relative;font-size:.86em;text-transform:lowercase}.dLzKDCMP{visibility:hidden}.ae1YFEEX7{position:absolute;top:0;left:0}",""]),o.locals={EcomShopSkinButton:"n8J",EcomShopSkinButton__ShowHideIcon:"megprp",EcomShopSkinButton__Text:"wM0PjIz",EcomShopSkinButton__TextMainLine:"mGBW2jW",EcomShopSkinButton__TextDetailsLine:"M55FxKqsP",EcomShopSkinButton__Placeholder:"dLzKDCMP",EcomShopSkinButton__TextDetailsContent:"ae1YFEEX7"},e.exports=o},6479:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".w0Bkx5ta{position:absolute;box-shadow:0 10px 20px -4px rgba(0,0,0,.36);background-color:#2f2f32;border-radius:6px;font-family:"+n.locals.AD_FONT+";color:#fff;font-weight:400;font-size:13px;line-height:16px;letter-spacing:-.31px}.dOU{position:absolute;width:24px;height:8px}.dOU svg{position:absolute;left:0;top:0}.lgUt{display:flex}.zkLuGw{padding:5px 8px 7px}.HTILrPp{pointer-events:auto;padding:5px 5px 0 0}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,Tooltip:"w0Bkx5ta",Tooltip__arrow:"dOU",Tooltip__body:"lgUt",Tooltip__text:"zkLuGw",Tooltip__closeContainer:"HTILrPp"},e.exports=a},7121:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".axSUCZm{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}",""]),o.locals={TooltipContainer:"axSUCZm"},e.exports=o},8866:function(e,t,i){var r=i(1907),o=i(6939),n=i(9792),a=i(2840),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".lilwn6{border-radius:16px;cursor:pointer;transition:"+n.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.lilwn6:not(.RFZ1k3ey),.RFZ1k3ey{background-color:rgba(35,37,38,.1)}.lilwn6:not(.RFZ1k3ey):hover,.RFZ1k3ey:hover{background-color:rgba(35,37,38,.4)}.pWk{transform:translate(12px,12px);will-change:transform}.Zy24EfmL{transform:rotate(45deg);opacity:0}.tm6usoiGMW,.Zy24EfmL{transition:"+n.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+n.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.RFZ1k3ey .tm6usoiGMW{opacity:0}.RFZ1k3ey .Zy24EfmL{opacity:1}.RFZ1k3ey .UrBVFTbY1{transform:translateY(6px)}.RFZ1k3ey .QvbCzBlM0{transform:translateY(-6px)}.RFZ1k3ey .SolB4EEaEU{transform:rotate(0deg)}.RFZ1k3ey .ZW9lMGGl{transform:rotate(90deg)}",""]),s.locals={default_transition_duration:""+n.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"lilwn6",AbuseAnimationIcon_cross:"RFZ1k3ey",AbuseAnimationIcon__lines:"pWk",AbuseAnimationIcon__line:"Zy24EfmL",AbuseAnimationIcon__dot:"tm6usoiGMW",AbuseAnimationIcon__dot_top:"UrBVFTbY1",AbuseAnimationIcon__dot_bottom:"QvbCzBlM0",AbuseAnimationIcon__line_left:"SolB4EEaEU",AbuseAnimationIcon__line_right:"ZW9lMGGl"},e.exports=s},2020:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(7441),s=i(1154),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".MNKM8JSbw2{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+n.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jXOwPRyf2{cursor:pointer}.lmcDcYp8Y{text-decoration:none}.WVs3X{display:flex;align-items:center;height:"+s.locals.small_button_height+";opacity:.6}.jXOwPRyf2 .WVs3X{opacity:.915}.jXOwPRyf2:hover .WVs3X{opacity:1}.YrWkWr6Bsg{padding:4px;pointer-events:auto}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,small_button_height:""+s.locals.small_button_height,Button:"MNKM8JSbw2",Button_active:"jXOwPRyf2",Button_link:"lmcDcYp8Y",Button__content:"WVs3X",Button__clickable:"YrWkWr6Bsg"},e.exports=l},5050:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".fQI3{position:absolute;bottom:0;left:0;width:100%;height:88px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.3) 35%,rgba(0,0,0,.6) 99%);pointer-events:none;transition:opacity .3s ease-in-out}.YvYIg{opacity:0}",""]),o.locals={ControlsBottomShadow:"fQI3",ControlsBottomShadow_hidden:"YvYIg"},e.exports=o},1796:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".UH9IC{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.B4c17ejKLn{width:100%;height:100%}",""]),o.locals={MuteIcon:"UH9IC",MuteIcon_Fill:"B4c17ejKLn"},e.exports=o},4115:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"@keyframes jZLrOv{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.i3Aqrl6aO{animation-name:jZLrOv;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),o.locals={SpinnerIcon__css_animated:"i3Aqrl6aO",spin:"jZLrOv"},e.exports=o},5751:function(e,t,i){var r=i(1907),o=i(6939),n=i(1154),a=i(4430),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".FyF{font-size:18px}.FyF .orJMoC{height:"+n.locals.middle_button_height+"}.a0KNH8a0{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.a0KNH8a0 .Atuk{position:relative;background-color:"+a.locals.button_inactive_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.SXYM0D .Atuk{background-color:"+a.locals.button_active_background_color+"}.a0KNH8a0.SXYM0D:hover .Atuk{background-color:"+a.locals.button_hovered_background_color+"}.SXYM0D .WVs3X{opacity:1}",""]),s.locals={middle_button_height:""+n.locals.middle_button_height,button_active_background_color:""+a.locals.button_active_background_color,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_inactive_background_color:""+a.locals.button_inactive_background_color,SquareButton_fullSize:"FyF",SquareButton__basecontent:"orJMoC",SquareButton:"a0KNH8a0",SquareButton__basebutton:"Atuk",SquareButton_active:"SXYM0D",Button__content:"WVs3X"},e.exports=s},1172:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".ndlLrexUH{width:100%;transform-origin:0;will-change:transform}.ndlLrexUH,.zmTPEw2Hae{position:absolute;height:2px}.lEMMBCfvTB{background-color:#ff1a2d;transform:scaleX(0)}.TgnUYouI8k{background-color:#cdcdcd;transform:scaleX(1)}",""]),o.locals={TimelineBar:"ndlLrexUH",TimelineBar__container:"zmTPEw2Hae",TimelineBar__progress:"lEMMBCfvTB",TimelineBar__background:"TgnUYouI8k"},e.exports=o},1197:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".U3A3AIA{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));width:26px;height:24px}.i5xtDgV{width:100%;height:100%}",""]),o.locals={UnmuteIcon:"U3A3AIA",UnmuteIcon_Fill:"i5xtDgV"},e.exports=o},1155:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".isc4O{}",""]),o.locals={AbuseContainer:"isc4O"},e.exports=o},7486:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(9792),s=i(2840),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Z8bE{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.Z8bE:not(.huc){visibility:hidden}.huc{opacity:1;pointer-events:auto}.Z8bE:not(.yl6b7jZX25){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.yl6b7jZX25{top:0;right:0;bottom:0;left:0}.be7mZKL{box-sizing:border-box;padding:8px}.yl6b7jZX25 .be7mZKL{height:100%;overflow:auto}.kIKJzfC{display:flex;align-items:center;height:36px}.QdW{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+n.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.QdW:focus{border-color:#498bff}.Nlb{margin-top:8px;background-color:#498bff;border-radius:8px}.Nlb:hover{background-color:#2e71e5}.pX4a{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.DklDjWQ{padding:8px;color:#3a3d40}.pX4a,.Q6EG4AnR,.DklDjWQ{font-size:15px}.Q6EG4AnR{color:#a3acbf;line-height:16px;word-break:break-word}.Q6EG4AnR,.DklDjWQ{font-weight:600;font-family:"+n.locals.AD_FONT+";line-height:16px}.fv2 .Q6EG4AnR,.qsqPs4 .Q6EG4AnR{padding:10px 8px}.aOO4Cwc .Q6EG4AnR{margin-right:15px;margin-left:10px}.CqYu7E1{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.CqYu7E1:hover{background-color:#f4f8ff}.ef5xqhy{display:flex;flex-direction:column}.dqrB{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+n.locals.AD_FONT+";line-height:14px;white-space:pre-line}.yl6b7jZX25 .dqrB{margin-right:18px}.yl6b7jZX25 .ef5xqhy{height:calc(100% - 36px);min-height:120px}.yl6b7jZX25 .aOO4Cwc,.yl6b7jZX25 .QdW{height:100%}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"Z8bE",AbuseDisplay_visible:"huc",AbuseDisplay_fullSize:"yl6b7jZX25",AbuseDisplay__content:"be7mZKL",AbuseDisplay__customReasonDisplayHeader:"kIKJzfC",AbuseDisplay__customReasonDisplayTextarea:"QdW",AbuseDisplay__customReasonDisplayButton:"Nlb",AbuseDisplay__customReasonDisplayButtonContent:"pX4a",AbuseDisplay__text:"DklDjWQ",AbuseDisplay__hint:"Q6EG4AnR",AbuseDisplay__complaintDisplay:"fv2",AbuseDisplay__hideDisplay:"qsqPs4",AbuseDisplay__customReasonDisplay:"aOO4Cwc",AbuseDisplay__arrowLeftIcon:"CqYu7E1",AbuseDisplay__messageBox:"ef5xqhy",AbuseDisplay__legal:"dqrB"},e.exports=l},8561:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".ozcBdaxxEj{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.jbypGOd3e{justify-content:center}.h40Jvl{justify-content:left}.h40Jvl .SKUn{max-width:200px;margin-left:20px}.jbypGOd3e .SKUn{text-align:center}.PXXVSH{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+n.locals.AD_FONT+";line-height:22px}.UUorm{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+n.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,AbusePlaceholder:"ozcBdaxxEj",AbusePlaceholder_place_center:"jbypGOd3e",AbusePlaceholder_place_left:"h40Jvl",AbusePlaceholder__container:"SKUn",AbusePlaceholder__text:"PXXVSH",AbusePlaceholder__hint:"UUorm"},e.exports=a},8237:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".Kj8r{font-family:"+n.locals.AD_FONT+";padding:0 6px;display:grid;grid-template-columns:fit-content(1ch) 1fr fit-content(1ch);align-items:end;font-size:var(--ctalc-font-size);color:#fff}.Kj8r .AIzPSh .MFok{padding:4px 4px 4px 10px}.aHN5D4v{font-size:var(--ctalc-skip-button-font-size)}.gwD .AIzPSh{grid-column:1/2}.IufnO1x{height:100%}.gwD .IufnO1x{grid-column:2}.gwD .aHN5D4v{grid-column:3/4}.Zz8 .AIzPSh{grid-row:2;grid-column:1/2}.Zz8 .aHN5D4v{grid-row:2;grid-column:3/4}.Zz8 .IufnO1x{grid-row:1;grid-column:1/2}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,CallToActionControls:"Kj8r",CallToActionControls_SkinActionPanel:"AIzPSh",ActionPanel__clickableLayer:"MFok",CallToActionControls__SkipButton:"aHN5D4v",CallToActionControls_oneLine:"gwD",CallToActionControls_SkinProductsPackshotButton:"IufnO1x",CallToActionControls_twoLines:"Zz8"},e.exports=a},7012:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".sUcV{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),o.locals={CenterControls:"sUcV"},e.exports=o},873:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,'.JvjQZt{padding-top:4px;margin:0 16px;display:flex;align-items:flex-end}.yYaMqz56W{flex:1;letter-spacing:.01em;display:flex;pointer-events:auto;color:#fff;opacity:.85;text-shadow:0 0 4px rgba(0,0,0,.75);font-size:12px;white-space:nowrap;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yYaMqz56W>:not(:last-child):after{content:"\u2022";padding:0 .3em}.DWiIT9{flex:0 0 auto}',""]),o.locals={Backpack:"JvjQZt",Backpack_labels:"yYaMqz56W",Backpack_buttons:"DWiIT9"},e.exports=o},4647:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".VJKcrYIXX{pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}",""]),o.locals={BackpackAdLabel:"VJKcrYIXX"},e.exports=o},2219:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,'.dxKXv{position:relative;display:flex;flex-flow:column nowrap;z-index:0;height:100%;overflow:visible;justify-content:flex-end}.dxKXv:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.004) 6.67%,rgba(0,0,0,.018) 13.33%,rgba(0,0,0,.04) 20%,rgba(0,0,0,.073) 26.67%,rgba(0,0,0,.115) 33.33%,rgba(0,0,0,.165) 40%,rgba(0,0,0,.221) 46.67%,rgba(0,0,0,.278) 53.33%,rgba(0,0,0,.334) 60%,rgba(0,0,0,.384) 66.67%,rgba(0,0,0,.426) 73.33%,rgba(0,0,0,.459) 80%,rgba(0,0,0,.482) 86.67%,rgba(0,0,0,.495) 93.33%,rgba(0,0,0,.5));opacity:.65}.jcP:before{content:none}.kPGnsu.dxKXv:before{top:30px}.mUz6mctkY{opacity:1;transition:none}.kPGnsu .mUz6mctkY{order:-1;opacity:0;transition:opacity .3s ease-in-out,order 0s .3s}.PHeXGefR{min-height:3px;margin:4px 16px 0;transition:none}.kPGnsu .PHeXGefR,.Rh8veeN8NK .PHeXGefR{margin:4px 0 0;transition:margin 0s .3s}',""]),o.locals={ControlPanel:"dxKXv",ControlPanel_WithoutShadow:"jcP",ControlPanel_minimized:"kPGnsu",ControlPanel__controls:"mUz6mctkY",ControlPanel__timeLine:"PHeXGefR",ControlPanel_small:"Rh8veeN8NK"},e.exports=o},8409:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".mx3Sr{width:43px;height:43px;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto}.K688p{cursor:default}.mx3Sr svg{fill:#fff;opacity:.85;width:40px;height:44px}.K688p svg{opacity:.5}.mx3Sr:hover svg{opacity:1}.K688p:hover svg{opacity:.5}",""]),o.locals={ControlPanelButton:"mx3Sr",ControlPanelButton_disabled:"K688p"},e.exports=o},8265:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".WV4W{display:flex;padding:0 16px;pointer-events:auto}.t2ZiDbc{margin-left:auto}",""]),o.locals={ControlPanelControls:"WV4W",ControlPanelControls__fullscreenButton:"t2ZiDbc"},e.exports=o},6535:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".YKfhuEcq2{cursor:pointer;display:flex}.ywmHH{will-change:width;width:0;height:43px;position:relative;overflow:hidden;transition:width .2s ease-out}.NgewN1bz2 .ywmHH{width:48px}.BvZ7l6s1{position:absolute;left:0;right:0;top:50%;box-shadow:0 0 1px 0 rgba(0,0,0,.75);height:2px;background:#fff;transform:translateY(-50%);opacity:.5}.JMWxXsTAF{position:absolute;top:0;bottom:0;left:0;width:calc(100% - 10px)}.UlzoVqljN{position:absolute;background:#fff;width:10px;height:10px;border-radius:5px;top:50%;transform:translateY(-50%);will-change:left}",""]),o.locals={ControlPanelSoundButton:"YKfhuEcq2",ControlPanelSoundButton__SliderContainer:"ywmHH",ControlPanelSoundButton_opened:"NgewN1bz2",ControlPanelSoundButton__SliderContainerLiner:"BvZ7l6s1",ControlPanelSoundButton__SliderContainerThumbContainer:"JMWxXsTAF",ControlPanelSoundButton__SliderContainerThumb:"UlzoVqljN"},e.exports=o},9740:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".UJGs6{height:3px;background-color:rgba(0,0,0,.2);position:relative;display:flex}.Fpi4rUa8E{width:100%;border-radius:3px;border-bottom-left-radius:0;border-top-left-radius:0;background-color:#f8cc46}",""]),o.locals={ControlPanelTimeLine:"UJGs6",ControlPanelTimeLine_bar:"Fpi4rUa8E"},e.exports=o},6719:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(1154),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".yfF31D3H1{font-family:"+n.locals.AD_FONT+";font-size:var(--new-skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto;grid-template-columns:auto auto 1fr auto 35px}.J5D{grid-template-rows:auto 1fr auto auto 10%}.rCn9{grid-row:1;grid-column:1;padding:4px 0 0 4px}.yAP{grid-row:1;grid-column:1/5}.OamQcyWh6O{grid-row:1;grid-column:1}.v5tT8Rq8H{text-align:right}.fLv{grid-row:4;grid-column:4/6;font-size:var(--new-skin-skip-button-font-size);padding-right:6px;align-self:flex-end}.JFSgHqEl .mK2tYkZR5{padding-top:0;padding-bottom:0}.JFSgHqEl .GlBK{height:"+a.locals.small_button_height+"}.j9Ex{grid-row:2;grid-column:1/6;padding:10px 36px;overflow:hidden;position:relative}.ZhTK{pointer-events:auto}.rMyMmHbX5y .j9Ex,.rL6miPUvHe .j9Ex,.rL6miPUvHe.rMyMmHbX5y .j9Ex{grid-row:2;grid-column:1/6;padding:10px 20px}.NOE7jwt{grid-row:4;grid-column:1;padding:6px 0 4px 16px;overflow:hidden}.JFSgHqEl .NOE7jwt{padding-top:0;padding-left:6px;padding-bottom:0;align-self:flex-end}.PRpTBnR9{grid-row:4;grid-column:1;padding:6px 0 4px 16px;height:4em}.JFSgHqEl .PRpTBnR9{height:auto;padding-left:6px}.NOE7jwt+.PRpTBnR9{grid-column:2}.rMyMmHbX5y .NOE7jwt+.PRpTBnR9{grid-row:4;grid-column:2}.rL6miPUvHe.rMyMmHbX5y .NOE7jwt+.PRpTBnR9{grid-row:3;grid-column:1;align-self:flex-end}.PNsv3{grid-row:5;grid-column:1/6}.cn8a90G{position:absolute;right:0;bottom:0;left:0}.PhFq97Tb .wbILW6{overflow:hidden}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,NewSkin:"yfF31D3H1",NewSkin_CtaAlwaysOnTenPercentOverBottom:"J5D",NewSkin__AdLabelContainer:"rCn9",NewSkin__TopControlsContainer:"yAP",NewSkin_TopMuteButtonContainer:"OamQcyWh6O",NewSkin_TopMuteButtonContainer_rightPosition:"v5tT8Rq8H",NewSkin__SkipButtonContainer:"fLv",NewSkin_smallControls:"JFSgHqEl",SkipButton:"mK2tYkZR5",SkipButton__clickable:"GlBK",NewSkin__ProductsPackshotContainer:"j9Ex",NewSkin__ProductsPackshotContainer_visible:"ZhTK",NewSkin_twoControlLines:"rMyMmHbX5y",NewSkin_vertical:"rL6miPUvHe",NewSkin__CtaContainer:"NOE7jwt",NewSkin__ProductsPackshotButton:"PRpTBnR9",NewSkin_BottomControlsContainer:"PNsv3",NewSkin__DisclaimerContainer:"cn8a90G",CallToActionTextContainer:"PhFq97Tb",CallToActionText:"wbILW6"},e.exports=s},8315:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".S9D{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}.ZqKeV{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background-color:rgba(0,0,0,.2);display:grid;align-items:center;justify-items:center;place-items:center;pointer-events:auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}.ZqKeV svg{fill:#fff;width:40px;height:43px}.NYRANMKf{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:auto}",""]),o.locals={OverlayLayer__spinnerContainer:"S9D",OverlayLayer__playButtonContainer:"ZqKeV",OverlayLayer__pauseContainer:"NYRANMKf"},e.exports=o},9931:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".R7cInE8D{display:flex}.R7cInE8D .VYR{margin-left:auto}.R7cInE8D .e9XTCH{width:28px;height:28px;padding:2px}.R7cInE8D .e9XTCH svg{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#f2f2f2;opacity:1}",""]),o.locals={TopControlsLayer:"R7cInE8D",TopControlsLayer__skipButton:"VYR",TopControlsLayer__playButton:"e9XTCH"},e.exports=o},1209:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".F7ieEOob{pointer-events:auto;position:absolute;top:0;right:0;bottom:0;left:0}",""]),o.locals={UnderlyingLayer:"F7ieEOob"},e.exports=o},9997:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".PS3731gO6{width:40px;height:44px;cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;padding:0;border:0;background-color:transparent;outline:0;outline-offset:-2px;overflow:visible;opacity:.85}.bLZ{opacity:.5}.PS3731gO6:not(.bLZ):hover{opacity:1}",""]),o.locals={PlayerButtonMimic:"PS3731gO6",PlayerButtonMimic_disabled:"bLZ"},e.exports=o},8183:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".NK7DVZUND{position:absolute;left:0;right:0;bottom:0;display:flex;flex-flow:column nowrap}",""]),o.locals={PlayerLikeBottomControls:"NK7DVZUND"},e.exports=o},6515:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".L69b9{padding:0 10px;position:relative;display:flex;justify-content:space-between;align-items:stretch;pointer-events:auto;opacity:1;transition:opacity .3s ease-in-out}.xpD{opacity:0}.PcAkp{display:flex}.qrDETLjJ{display:flex;margin-left:auto}",""]),o.locals={PlayerLikeControlLine:"L69b9",PlayerLikeControlLine_hidden:"xpD",PlayerLikeControlLine__leftButtons:"PcAkp",PlayerLikeControlLine__rightButtons:"qrDETLjJ"},e.exports=o},3030:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".GZG{width:100%;height:16px;pointer-events:none;position:relative;margin-bottom:-4px;opacity:1;transition:opacity .1s ease-in-out}.tTd3g{opacity:0}.jEPZgwuR{position:absolute;left:10px;right:10px;top:0;bottom:0}.IzXyT{position:absolute;overflow:hidden;top:10px;height:4px;width:100%;transform:scaleY(.5) translateX(0);transition-property:transform;transition-duration:.2s;will-change:transform;box-shadow:0 1px 1px 1px rgba(0,0,0,.1)}.EwL1{border-radius:5px 5px 4.9px;transform:scaleY(1)}.fQ0YbN{width:100%;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;opacity:.4}.rwrcBewR3{width:100%;position:absolute;top:0;bottom:0;left:0;transform-origin:0;background:#fc0}",""]),o.locals={PlayerLikeTimeline:"GZG",PlayerLikeTimeline_hidden:"tTd3g",PlayerLikeTimeline__innerContainer:"jEPZgwuR",PlayerLikeTimeline__backgroundTrack:"IzXyT",PlayerLikeTimeline__backgroundTrack_mobile:"EwL1",PlayerLikeTimeline__background:"fQ0YbN",PlayerLikeTimeline__timeLine:"rwrcBewR3"},e.exports=o},4483:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(1154),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".bkA2IfsF{font-family:"+n.locals.AD_FONT+";font-size:var(--skin-font-size);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto auto auto auto;grid-template-columns:auto auto 1fr auto}.bTtaUsL8O{grid-row:1;grid-column:1;padding:4px 0 0 4px;justify-self:flex-start}.XEHnN38{grid-row:4;grid-column:4;font-size:var(--skin-skip-button-font-size);padding-right:6px;align-self:end}.Rrm .mK2tYkZR5{padding-top:0;padding-bottom:0}.Rrm .GlBK{height:"+a.locals.small_button_height+"}.Oam3MdZf{grid-row:2;grid-column:1/5;padding:0 36px;overflow:hidden}.D9Ty .Oam3MdZf{grid-column:1/5}.ESSM3iDlI .Oam3MdZf,.ESSM3iDlI.D9Ty .Oam3MdZf{grid-row:2/3;grid-column:1/5;padding:10px}.JrxkWtQ{pointer-events:auto}.ESSM3iDlI .eR32U1D{max-width:unset;margin:unset}.kiM7d1{grid-row:4;grid-column:1;padding:6px 0 4px 10px;overflow:hidden}.Rrm .kiM7d1{padding-top:0;padding-bottom:0;padding-left:6px;align-self:flex-end}.SZHQAFkxK{grid-row:4;grid-column:1;padding:6px 0 4px 10px;height:4em}.Rrm .SZHQAFkxK{height:auto}.kiM7d1+.SZHQAFkxK{grid-column:2}.ESSM3iDlI.D9Ty .kiM7d1+.SZHQAFkxK{grid-row:3;grid-column:1}.gu4hOfIvTN{grid-row:5;grid-column:1/5;padding:2px 6px 10px;display:flex;align-items:flex-end;flex-wrap:wrap}.d9d{width:100%;margin-bottom:2px;margin-top:-2px}.d9d .NTK{padding:4px}.Rr6x{order:1;flex:1;margin:0}.Rr6x .NTK{padding:4px 10px}.A2iLvG4N{grid-row:6;grid-column:1/5;min-height:6px}.oTY{grid-row:6;grid-column:1/5}.PhFq97Tb .wbILW6{overflow:hidden}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,small_button_height:""+a.locals.small_button_height,Skin:"bkA2IfsF",Skin__AdLabelContainer:"bTtaUsL8O",Skin__SkipButtonContainer:"XEHnN38",Skin_smallControls:"Rrm",SkipButton:"mK2tYkZR5",SkipButton__clickable:"GlBK",Skin__ProductsPackshotContainer:"Oam3MdZf",Skin_twoControlLines:"D9Ty",Skin_vertical:"ESSM3iDlI",Skin__ProductsPackshotContainer_visible:"JrxkWtQ",Skin__ProductsPackshotContainer_singleVisibleItem:"eR32U1D",Skin__CtaContainer:"kiM7d1",Skin__ProductsPackshotButton:"SZHQAFkxK",Skin__MuteButtonAndSubtitlesContainer:"gu4hOfIvTN",Skin__SubtitlesContainer:"d9d",Subtitles__container:"NTK",Skin__SubtitlesContainer_bottom:"Rr6x",Skin__DisclaimerContainer:"A2iLvG4N",Skin__VideoInComboControlsContainer:"oTY",CallToActionTextContainer:"PhFq97Tb",CallToActionText:"wbILW6"},e.exports=s},4061:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(4430),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".NTK{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+n.locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.hqPo{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:"+a.locals.button_active_background_color+";border-radius:4px}",""]),s.locals={AD_FONT:""+n.locals.AD_FONT,button_active_background_color:""+a.locals.button_active_background_color,Subtitles__container:"NTK",Subtitles__subtitle:"hqPo"},e.exports=s},4499:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".ucPgD{padding:4px}.ucPgD .Nj7LHj{position:absolute;top:0;right:35px}",""]),o.locals={TopControls:"ucPgD",TopControls__skinButton:"Nj7LHj"},e.exports=o},1895:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".bSGx4a{display:flex;align-items:flex-end;min-height:48px}.vISzz{position:relative}.gkzcL{visibility:visible;opacity:1}.b3HHuUF3Ip{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.jufGW0{visibility:visible;opacity:1}.mWHq{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.b3HHuUF3Ip .mHrqElD8Tz,.gkzcL .mHrqElD8Tz{padding:10px 10px 4px 21px}",""]),o.locals={VideoInComboControls:"bSGx4a",DisclaimerContainer:"vISzz",ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:"gkzcL",ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden:"b3HHuUF3Ip",ComboVideoControls__controlsBottomShadow_visible:"jufGW0",ComboVideoControls__controlsBottomShadow_hidden:"mWHq",MuteUnmuteButtonWithoutBackground:"mHrqElD8Tz"},e.exports=o},8971:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".Yw63axJ{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.AZn26ZN{z-index:2}",""]),o.locals={AbuseBurgerButton:"Yw63axJ",AbuseBurgerButton_inFullSize:"AZn26ZN"},e.exports=o},2645:function(e,t,i){var r=i(1907),o=i(6939),n=i(9792),a=i(2840),s=o(r);s.i(n,"",!0),s.i(a,"",!0),s.push([e.id,".fo5cKE{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+n.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.tKhZ{display:flex;align-items:center;margin-right:13px}.CFnn74jCn{margin-left:auto}.fo5cKE:hover{background-color:#e5f2ff}.fo5cKE .YrWkWr6Bsg{padding:0}.TbO{padding:8px}.tw0o2ZGse{height:auto;font-size:15px;line-height:16px}",""]),s.locals={default_transition_duration:""+n.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"fo5cKE",AbuseOptionButton__leftIcon:"tKhZ",AbuseOptionButton__rightIcon:"CFnn74jCn",Button__clickable:"YrWkWr6Bsg",AbuseOptionButton__clickable:"TbO",AbuseOptionButton__content:"tw0o2ZGse"},e.exports=s},7276:function(e,t,i){var r=i(1907),o=i(6939),n=i(1154),a=o(r);a.i(n,"",!0),a.push([e.id,".Ls5IBjxmG8{cursor:pointer}.B8WLl{font-size:18px}.B8WLl .ONO{height:"+n.locals.middle_button_height+"}.UtXltbaLDq{width:60px;height:60px}.tOafRGeJj{width:80px;height:80px}",""]),a.locals={middle_button_height:""+n.locals.middle_button_height,CirclePlayButton:"Ls5IBjxmG8",CirclePlayButton_fullSize:"B8WLl",CirclePlayButton__basecontent:"ONO",CirclePlayButton__icon:"UtXltbaLDq",CirclePlayButton__icon_fullSize:"tOafRGeJj"},e.exports=a},4659:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".Vug{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.P3Y7d8Rp{text-transform:uppercase}",""]),o.locals={DisclaimerSvg:"Vug",DisclaimerSvg_text:"P3Y7d8Rp"},e.exports=o},550:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".YA7Y{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),o.locals={Disclaimer:"YA7Y"},e.exports=o},9130:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".BTT{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),o.locals={Spinner:"BTT"},e.exports=o},3683:function(e,t,i){var r=i(1907),o=i(6939),n=i(1154),a=o(r);a.i(n,"",!0),a.push([e.id,".df86hlKeZ{}.U7tr{visibility:hidden}.NPOR{display:flex;align-items:center;justify-content:center}.Y4AdD{}.oCfzVv{display:flex;align-items:center;justify-content:center;width:"+n.locals.small_button_height+";height:"+n.locals.small_button_height+"}.ZNgGDmry17{width:"+n.locals.middle_button_height+";height:"+n.locals.middle_button_height+"}.yXajDHsgzw{width:29px;height:24px}.urF5tikQ{}.hv3{position:relative;bottom:1px;margin-right:"+n.locals.small_button_left_right_margin+"}.op8Zg1q{white-space:nowrap;transform-origin:left center}.AU5oU{margin-right:"+n.locals.middle_button_left_right_margin+"}",""]),a.locals={small_button_height:""+n.locals.small_button_height,middle_button_height:""+n.locals.middle_button_height,small_button_left_right_margin:""+n.locals.small_button_left_right_margin,middle_button_left_right_margin:""+n.locals.middle_button_left_right_margin,MuteButton:"df86hlKeZ",MuteButton__hidden:"U7tr",VolumeButton__content:"NPOR",VolumeButton:"Y4AdD",VolumeButton__iconContainer:"oCfzVv",VolumeButton__iconContainer_fullSize:"ZNgGDmry17",VolumeButton__icon:"yXajDHsgzw",UnmuteButton:"urF5tikQ",UnmuteButton__text:"hv3",UnmuteButton__text_animation:"op8Zg1q",UnmuteButton__text_fullSize:"AU5oU"},e.exports=a},8453:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".mHrqElD8Tz{width:28px;height:28px;padding:4px;cursor:pointer;pointer-events:auto}.izT{width:var(--mute-unmute-responsive-width);height:var(--mute-unmute-responsive-height)}",""]),o.locals={MuteUnmuteButtonWithoutBackground:"mHrqElD8Tz",MuteUnmuteButtonWithoutBackground_Size_Responsive:"izT"},e.exports=o},2563:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".G7OdqNP{line-height:3;display:flex;align-items:center;box-sizing:border-box;min-width:0;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+n.locals.AD_FONT+";white-space:nowrap;background-color:#ffd500;border-radius:4px;cursor:pointer;pointer-events:auto}.Qntnc{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.I6f8M9pnc6,.ie3BQ{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,ActionButton:"G7OdqNP",ActionButton__textWrapper:"Qntnc",ActionButton__content_middle:"I6f8M9pnc6",ActionButton__content_small:"ie3BQ"},e.exports=a},6246:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=o(r);a.i(n,"",!0),a.push([e.id,".NbGzzEDAbh{flex:1 1 0;margin-right:13px;color:#fff;font-weight:700;font-size:1em;font-family:"+n.locals.AD_FONT+";line-height:1.3;max-width:10em}.Y4dybTP{line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ecQ{white-space:nowrap}.RmOYyQ,.ecQ{font-weight:400;font-size:.8em}.ecQ,.Y4dybTP{overflow:hidden;text-overflow:ellipsis}",""]),a.locals={AD_FONT:""+n.locals.AD_FONT,InfoBlock:"NbGzzEDAbh",InfoBlock__title:"Y4dybTP",InfoBlock__greenUrl:"ecQ",InfoBlock__ageRestriction:"RmOYyQ"},e.exports=a},9461:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(2100),s=i(4430),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".vXTvM{height:100%;font-family:"+n.locals.AD_FONT+"}.MFok{overflow:hidden;cursor:pointer;pointer-events:auto;height:4em;max-width:calc(23.33333em + 20px)}.q8UmU93bD{position:relative;min-width:200px;height:100%}.dYQvG3I{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;background-color:"+s.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+";max-width:calc(23.33333em + 20px)}.V9u{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.GzToWX7q{display:flex;flex-wrap:nowrap;align-items:center;margin-left:35pt;overflow:hidden}.zgF9gDFVn{margin-left:10px}.V9u img{border-radius:2px;width:100%;height:100%}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_active_background_color:""+s.locals.button_active_background_color,ActionPanel:"vXTvM",ActionPanel__clickableLayer:"MFok",ActionPanel__content:"q8UmU93bD",ActionPanel__mask:"dYQvG3I",ActionPanel__favicon:"V9u",ActionPanel__wrapper:"GzToWX7q",ActionPanel__wrapper_wide:"zgF9gDFVn"},e.exports=l},6413:function(e,t,i){var r=i(1907),o=i(6939),n=i(6799),a=i(4430),s=i(1154),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".TgSj{padding:4px;cursor:pointer;pointer-events:auto}.LdT4{position:relative;display:flex;align-items:center;height:"+s.locals.small_button_height+";background-color:"+a.locals.button_active_background_color+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding-left:4px}.Ys3mz6X:hover .LdT4{background-color:"+a.locals.button_hovered_background_color+"}.RbYmWK8{width:100%;height:100%;border-radius:4px}.NJgBqx{display:flex;align-items:center;width:20px;min-width:20px;height:20px;margin-right:.35em;font-size:2em;padding-left:3px}.EIOISeO6n .NJgBqx{width:26px;height:26px}.ZTiLs32GNd{display:inline-block;max-width:90px;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.EIOISeO6n .ZTiLs32GNd{max-width:120px;margin-left:17px}",""]),l.locals={AD_FONT:""+n.locals.AD_FONT,button_hovered_background_color:""+a.locals.button_hovered_background_color,button_active_background_color:""+a.locals.button_active_background_color,middle_button_height:""+s.locals.middle_button_height,small_button_height:""+s.locals.small_button_height,ActionPanelSmall__clickableContainer:"TgSj",ActionPanelSmall:"LdT4",ActionPanelSmall__container:"Ys3mz6X",ActionPanelSmall__favIcon:"RbYmWK8",ActionPanelSmall__favIconContainer:"NJgBqx",ActionPanelSmall__middle:"EIOISeO6n",ActionPanelSmall__label:"ZTiLs32GNd"},e.exports=l},3765:function(e,t,i){var r=i(1907),o=i(6939),n=i(7441),a=i(2100),s=i(4430),l=o(r);l.i(n,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".GlBK{position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+n.locals.AD_FONT_WEIGHT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.mK2tYkZR5{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+s.locals.button_inactive_background_color+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+a.locals.button_backdrop_filter+";backdrop-filter:"+a.locals.button_backdrop_filter+"}.yez{cursor:pointer}.yez>.mK2tYkZR5{background-color:"+s.locals.button_active_background_color+";opacity:1}.GlBK.yez:hover>.mK2tYkZR5{background-color:"+s.locals.button_hovered_background_color+"}.YYdaoqr,.Re6E59qMM{display:flex;align-items:center;height:100%}.Re6E59qMM{justify-content:center;width:2.5em}.aZzjuRBEz{margin-left:.8em}.vlSLPg{height:100%;border-radius:4px}.moc{width:100%}.L2hpyv{display:inline-block;width:50%;text-align:right}.e3G{display:inline-block;width:50%}.TYjb{width:.8em;height:1.2em}",""]),l.locals={AD_FONT_WEIGHT:""+n.locals.AD_FONT_WEIGHT,button_backdrop_filter:""+a.locals.button_backdrop_filter,button_inactive_background_color:""+s.locals.button_inactive_background_color,button_active_background_color:""+s.locals.button_active_background_color,button_hovered_background_color:""+s.locals.button_hovered_background_color,SkipButton__clickable:"GlBK",SkipButton:"mK2tYkZR5",SkipButton_active:"yez",SkipButton__contentLeft:"YYdaoqr",SkipButton__contentRight:"Re6E59qMM",SkipButton__skipText:"aZzjuRBEz",SkipButton__leftImage:"vlSLPg",SkipButton__timeToSkipString:"moc",SkipButton__timeToSkipString__leftDigit:"L2hpyv",SkipButton__timeToSkipString__rightDigit:"e3G",SkipButton__icon:"TYjb"},e.exports=l},7864:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".rxs7rIrXlR{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),o.locals={Timeline:"rxs7rIrXlR"},e.exports=o},5676:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".VRMcvQ{--stw-max-width:100%;font-size:0;pointer-events:none}.bXqXzebRgd{text-align:center}.nWJI{position:absolute;top:0;left:0;width:100%;width:var(--stw-max-width);height:100%;font:var(--stw-font);pointer-events:none}.FyAzKZ{display:inline-block;white-space:nowrap}.Y2E,.qSg80m1bi{display:inline-block;font:var(--stw-font)}",""]),o.locals={SplitTextLinesWrapper__container:"VRMcvQ",SplitTextLinesWrapper__lines:"bXqXzebRgd",SplitTextLinesWrapper__canvas:"nWJI",SplitTextLinesWrapper__textLine:"FyAzKZ",SplitTextLinesWrapper__char:"Y2E",SplitTextLinesWrapper__word:"qSg80m1bi"},e.exports=o},6416:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,".AySQqFhog{animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-fill:balance;grid-column-gap:normal;column-gap:normal;column-rule:medium none currentColor;column-span:1;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-feature-settings:normal;font-variant:normal;font-weight:400;font-stretch:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;all:initial;display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;pointer-events:none;font-size:16px;overflow:hidden;line-height:normal}",""]),o.locals={AdDisplayControllerSkinContainer:"AySQqFhog"},e.exports=o},1154:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={small_button_height:"32px",middle_button_height:"40px",small_button_left_right_margin:"8px",middle_button_left_right_margin:"12px"},e.exports=o},6799:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'},e.exports=o},7441:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={AD_FONT_WEIGHT:"500"},e.exports=o},1307:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={AD_LABEL_MIDDLE_HEIGHT:"10px"},e.exports=o},5092:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={AD_LABEL_SMALL_HEIGHT:"10px"},e.exports=o},2100:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={button_backdrop_filter:"blur(8px)"},e.exports=o},4430:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={button_inactive_background_color:"rgba(38, 38, 38, 0.3)",button_active_background_color:"rgba(38, 38, 38, 0.65)",button_hovered_background_color:"rgba(0, 0, 0, 0.65)"},e.exports=o},9792:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={default_transition_duration:"100ms"},e.exports=o},2840:function(e,t,i){var r=i(1907),o=i(6939)(r);o.push([e.id,"",""]),o.locals={default_transition_timing_function:"ease-in"},e.exports=o},7176:function(e,t,i){"use strict";function r(e,t,i,r,o,n,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:n},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+o+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return r}})},4478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HAS_URL=void 0,t.HAS_URL=(()=>{try{return new URL("https://yandex.ru"),!0}catch(e){return!1}})()},9233:function(e,t,i){"use strict";var r=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.CSPLogger=void 0;const o=i(4478),n=i(4385);t.CSPLogger=class{constructor(e,t){void 0===t&&(t={});var{url:i="https://csp.yandex.net/csp"}=e,o=r(e,["url"]);this.additional=t,this.cspEventListener=e=>{try{const t=new URL(e.blockedURI);if(this.url===t.origin+t.pathname&&"1"===t.searchParams.get("js_client"))return this.unsubscribe(),void(console.warn&&console.warn("URL for logging CSP was blocked"))}catch(o){}const t={"csp-report":{"blocked-uri":e.blockedURI,"column-number":e.columnNumber,disposition:e.disposition,"document-uri":e.documentURI,"effective-directive":e.effectiveDirective,"line-number":e.lineNumber,"original-policy":e.originalPolicy,referrer:e.referrer,"script-sample":e.sample,"status-code":e.statusCode,"violated-directive":e.violatedDirective}},i=JSON.stringify(t),r=this.addParamsToUrl(this.url,Object.assign(Object.assign(Object.assign({},this.config),this.additional),{js_client:"1"}));n.sendLog(r,i)},this.url=i,this.config=o}setAdditional(e){this.additional=Object.assign(Object.assign({},this.additional),e)}addParamsToUrl(e,t){const i=new URL(e);for(const r in t){const e=t[r];e&&"string"===typeof e&&t.hasOwnProperty(r)&&i.searchParams.append(r,e)}return i.toString()}subscribe(e){void 0===e&&(e=document),"onsecuritypolicyviolation"in document&&o.HAS_URL&&e.addEventListener("securitypolicyviolation",this.cspEventListener)}unsubscribe(e){void 0===e&&(e=document),e.removeEventListener("securitypolicyviolation",this.cspEventListener)}}},4385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=void 0,t.sendLog=function(e,t){if(navigator.sendBeacon&&navigator.sendBeacon(e,t))return;const i=new XMLHttpRequest;i.open("POST",e),i.send(t)}},6939:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",r="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,r,o,n){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&a[c[0]]||("undefined"!==typeof n&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},1907:function(e){"use strict";e.exports=function(e){return e[1]}},5335:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}},3438:function(e){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},3716:function(e){"use strict";e.exports=JSON.parse('{"be":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u0443\u0435 \u043d\u0430 \u0442\u044d\u0445\u043d\u0430\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"en":{"adsdk":{"ABUSE_ADS_TEXT":"Ad","ABUSE_COPIED":"Copied","ABUSE_COPY_TEXT":"Copy link","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Enter your message","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"Submit","ABUSE_IMPROVE_REASON_TEXT":"State the reason:","ABUSE_OPTION_ABOUT":"Ads on Yandex","ABUSE_OPTION_ADVERTISER_INFO":"Advertiser info","ABUSE_OPTION_ALREADY_PURCHASED":"Already purchased","ABUSE_OPTION_ANOTHER_REASON":"Another reason","ABUSE_OPTION_COMPLAINT":"Report","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Speculation","ABUSE_OPTION_HIDE":"Hide","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Illegal goods or services","ABUSE_OPTION_NOT_INTERESTED":"Not interested","ABUSE_OPTION_OVERLAP_CONTENT":"Covers page content","ABUSE_OPTION_POLITICAL_SOCIAL":"Political ad","ABUSE_OPTION_SCAMMERS":"Scammers","ABUSE_OPTION_SEEN_TOO_OFTEN":"I see this ad too often","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Shocking content","ABUSE_OPTION_UNPLEASANT_CONTENT":"I don\'t like it","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Thanks! The moderators will review this ad","ABUSE_PLACEHOLDER_HINT_HIDE":"We use your responses to suggest ads that will be interesting for you","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"Report registered","ABUSE_PLACEHOLDER_TEXT_HIDE":"Ad hidden","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"We try to show you ads that match your interests. Tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_DESCRIPTION_SHORT":"Please tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_TITLE":"Report this ad","ABUSE_VARIANT_ANNOYING":"Intrusive or annoying","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"False information","ABUSE_VARIANT_NOT_INTERESTED":"I\'m not interested in this","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"I\'m not interested in this","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Political ad","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Shocking content","ABUSE_VARIANT_SPAM":"Inappropriate content or spam","ABUSE_VARIANT_SPAM_SHORT":"Looks like spam","AD_TITLE":"Ad","BU_LABEL_TOOLTIP_TEXT":"Based on Yandex technologies","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Learn more","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"For more information, see the advertiser\'s website","MORE":"More","MOTION_BTN":"Learn more","MOTION_BTN_WITHOUT_GREEN_URL":"Address and phone number","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"of","PREV_ECOM_PRODUCT":"","REPEAT":"Repeat","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sec","SKIP":"Skip","SKIP_TIME_LEFT":"Skip ad","SOCIAL_ADVERTISING_AD_LABEL":"Social ad","SURVEY_AD_LABEL":"Survey","SURVEY_AD_LABEL_OF_QUESTIONS":"questions","SURVEY_CONTINUE_BUTTON_TEXT":"Continue","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"Select up to $x responses","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"Select 1 or more responses","SURVEY_PACKSHOT_COMPANY":"Yandex Surveys","SURVEY_PACKSHOT_FROM":"Survey powered by","SURVEY_PACKSHOT_TEXT":"Thank you!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"Select 1 response","SURVEY_SKIP_BUTTON_TEXT":"Skip","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Read more","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Read more on the website","THEME_EMPTY_ACTION_BUTTON_LABEL":"Go","TIME_LEFT":"Ad","UNMUTE":"Unmute","UNMUTE_INVITE":"Move mouse over ad<br>to hear sound","VISIT_SITE":"Go to advertiser\u2019s site","YANDEX_DIRECT":"Yandex.Direct","YANDEX_DIRECT_LINK":""}},"kk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043b\u0430\u0440\u044b\u043d\u0434\u0430 \u0436\u04b1\u043c\u044b\u0441 \u0456\u0441\u0442\u0435\u0439\u0434\u0456","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"ru":{"adsdk":{"ABUSE_ADS_TEXT":"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435","ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_DESCRIPTION_SHORT":"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_TITLE":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_VARIANT_ANNOYING":"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_VARIANT_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_VARIANT_SPAM":"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c","ABUSE_VARIANT_SPAM_SHORT":"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","BU_LABEL_TOOLTIP_TEXT":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ECOM_PRODUCTS_BUTTON_SHOW":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","MORE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN_WITHOUT_GREEN_URL":"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DISTANCE_SALES":"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","MOTION_HIDE_DISCLAIMER":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443","MOTION_SHOW_DISCLAIMER":"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","NEXT_ECOM_PRODUCT":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","OF":"\u0438\u0437","PREV_ECOM_PRODUCT":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","SECONDS":"\u0441\u0435\u043a","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SKIP_TIME_LEFT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0440\u0435\u043a\u043b\u0430\u043c\u0430","SURVEY_AD_LABEL":"\u041e\u043f\u0440\u043e\u0441","SURVEY_AD_LABEL_OF_QUESTIONS":"\u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","SURVEY_CONTINUE_BUTTON_TEXT":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e $x \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432","SURVEY_PACKSHOT_COMPANY":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0412\u0437\u0433\u043b\u044f\u0434","SURVEY_PACKSHOT_FROM":"\u041e\u043f\u0440\u043e\u0441 \u0441\u0434\u0435\u043b\u0430\u043d \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445","SURVEY_PACKSHOT_TEXT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 1 \u043e\u0442\u0432\u0435\u0442","SURVEY_SKIP_BUTTON_TEXT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIME_LEFT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","UNMUTE":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","UNMUTE_INVITE":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","VISIT_SITE":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","YANDEX_DIRECT":"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442","YANDEX_DIRECT_LINK":"https://direct.yandex.ru/?partner"}},"tr":{"adsdk":{"ABUSE_ADS_TEXT":"Reklam","ABUSE_COPIED":"Kopyaland\u0131","ABUSE_COPY_TEXT":"Ba\u011flant\u0131y\u0131 kopyala","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Mesaj\u0131n\u0131z\u0131 girin","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"G\xf6nder","ABUSE_IMPROVE_REASON_TEXT":"Nedenini a\xe7\u0131klay\u0131n:","ABUSE_OPTION_ABOUT":"Yandex\'te reklam","ABUSE_OPTION_ADVERTISER_INFO":"Reklam veren hakk\u0131nda","ABUSE_OPTION_ALREADY_PURCHASED":"Zaten sat\u0131n al\u0131nd\u0131","ABUSE_OPTION_ANOTHER_REASON":"Ba\u015fka bir neden var","ABUSE_OPTION_COMPLAINT":"\u015eikayet et","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Yanl\u0131\u015f bilgi","ABUSE_OPTION_HIDE":"Gizle","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Yasad\u0131\u015f\u0131 mal/hizmet","ABUSE_OPTION_NOT_INTERESTED":"\u0130lgilenmiyorum","ABUSE_OPTION_OVERLAP_CONTENT":"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor","ABUSE_OPTION_POLITICAL_SOCIAL":"Siyasi i\xe7erikli reklam","ABUSE_OPTION_SCAMMERS":"Doland\u0131r\u0131c\u0131lar","ABUSE_OPTION_SEEN_TOO_OFTEN":"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Rahats\u0131z edici i\xe7erik","ABUSE_OPTION_UNPLEASANT_CONTENT":"Ho\u015fuma gitmiyor","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Te\u015fekk\xfcr ederiz! Moderat\xf6r k\u0131sa s\xfcre i\xe7erisinde reklam\u0131 kontrol edecektir","ABUSE_PLACEHOLDER_HINT_HIDE":"Size en uygun reklam\u0131 se\xe7mek i\xe7in yan\u0131tlar\u0131n\u0131z\u0131 de\u011ferlendiriyoruz","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u015eikayet kay\u0131t alt\u0131na al\u0131nd\u0131","ABUSE_PLACEHOLDER_TEXT_HIDE":"Reklam gizlendi","ABUSE_REPORT_PROBLEM":"Report a bug","ABUSE_SCREEN_DESCRIPTION":"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_DESCRIPTION_SHORT":"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_TITLE":"Reklam\u0131 \u015fikayet et","ABUSE_VARIANT_ANNOYING":"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"Yanl\u0131\u015f bilgi","ABUSE_VARIANT_NOT_INTERESTED":"Bu konuyla ilgilenmiyorum","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"Konu ilgimi \xe7ekmiyor","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Siyasi i\xe7erikli reklam","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Rahats\u0131z edici i\xe7erik","ABUSE_VARIANT_SPAM":"G\xfcvenilir olmayan i\xe7erik veya spam","ABUSE_VARIANT_SPAM_SHORT":"Spam gibi g\xf6r\xfcn\xfcyor","AD_TITLE":"Reklam","BU_LABEL_TOOLTIP_TEXT":"Bir Yandex teknolojisidir","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"Daha fazla bilgi edinin","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"Reklam verenin sitesinden daha fazla bilgi","MORE":"Daha fazla","MOTION_BTN":"Daha fazla bilgi","MOTION_BTN_WITHOUT_GREEN_URL":"Adres ve telefon","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"Tekrarla","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sn","SKIP":"Atla","SKIP_TIME_LEFT":"Reklam\u0131 atla","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"Anket","SURVEY_AD_LABEL_OF_QUESTIONS":"soru","SURVEY_CONTINUE_BUTTON_TEXT":"Devam et","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"$x yan\u0131ta kadar se\xe7ebilirsiniz","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"1 veya birka\xe7 yan\u0131t se\xe7in","SURVEY_PACKSHOT_COMPANY":"Yandex.Surveys","SURVEY_PACKSHOT_FROM":"Anket teknolojiler \xfczerine ger\xe7ekle\u015ftirildi","SURVEY_PACKSHOT_TEXT":"Te\u015fekk\xfcr ederiz!","SURVEY_SINGLE_CHOICE_HINT_TEXT":"1 yan\u0131t se\xe7in","SURVEY_SKIP_BUTTON_TEXT":"Atla","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Daha fazla bilgi","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Daha fazla bilgi i\xe7in siteye gidin","THEME_EMPTY_ACTION_BUTTON_LABEL":"Git","TIME_LEFT":"Reklam","UNMUTE":"Sesi a\xe7","UNMUTE_INVITE":"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin","VISIT_SITE":"Reklam verenin sitesine git","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"\u041f\u0440\u0430\u0446\u044e\u0454 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u044f\u0445 \u042f\u043d\u0434\u0435\u043a\u0441\u0430","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uz":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_REPORT_PROBLEM":"\u0417\u0430\u0440\u0435\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u0431\u0430\u0433","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","BU_LABEL_TOOLTIP_TEXT":"Yandex texnologiyalarida ishlaydi","ECOM_PRODUCTS_BUTTON":"","ECOM_PRODUCTS_BUTTON_HIDE":"","ECOM_PRODUCTS_BUTTON_SHOW":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","NEXT_ECOM_PRODUCT":"","OF":"","PREV_ECOM_PRODUCT":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_FIXED_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_MULTIPLE_CHOICE_HINT_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SINGLE_CHOICE_HINT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}}}')}},i={};e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function t(e){return"number"===typeof e&&isFinite(e)}function i(e){return"number"===typeof e&&isFinite(e)&&e>0}function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o.apply(this,arguments)}function n(e){const n=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(r(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?o({},jl,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):jl}(e),{droppedVideoFrames:a,totalVideoFrames:s}=n;let l=Yl.droppedVideoFramesRatio;return i(s)&&t(a)&&(l=a/s),o({},n,{droppedVideoFramesRatio:l})}function a(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function s(e){return"string"===typeof e}function l(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const i in e)d(e,i)&&t.push(i);return t}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},u.apply(this,arguments)}function h(e){return s(e)&&e.length>0}function p(e,t){try{return e()}catch(eg){"function"===typeof t&&t(eg)}}function m(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function A(e){return"function"===typeof e||"Function"===Jl(e)}function _(e){let t="";for(let i=0;i<e;i++)t+=(16*gd()|0).toString(16);return t}function v(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}function g(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!function(e){void 0===e&&(e=window);return function(e){void 0===e&&(e=window);const t=Ed(e);return"boolean"===typeof t?-1:t}(e)>11}(e)}function f(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function y(e,t){if(!A(e.matchMedia))return!1;const i=e.matchMedia(t);return f(i)&&Boolean(i.matches)}function T(e){return void 0===e&&(e=window),g(e)||function(e){return y(e,Pd)}(e)||function(e){return y(e,Od)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}function E(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){void 0===e&&(e=window);return e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}function S(e,t){if(void 0===t&&(t=!0),wd&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(eg){return t}}}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t,i){for(const r in e)b(e,r)&&t.call(i,e[r],r,e)}function P(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function O(e){const t=S(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:P(e.defaultView),referrer:e.referrer})))}function w(e,t){let i=e[t];if(!m(i)){const r=i;try{delete e[t];const o=e[t];"function"===typeof o&&(i=o),e[t]=r}catch(eg){}}return i}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}function N(e){Ud.href=e;let t=Ud.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(Ud.search||"")+(Ud.hash||""),r=e.lastIndexOf(i),o=-1===r?e:e.slice(0,r);if(Fd.test(e)){const t=N(e.replace(Fd,"https:"));return Ud.href=e,I({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:Ud.href})}const n=Ud.protocol&&/^[a-z\-]+:/i.test(Ud.protocol)?Ud.protocol:"";return{originalPath:o,href:Ud.href,protocol:n,host:Ud.host,hostname:Ud.hostname,port:Ud.port,pathname:t,search:Ud.search,hash:Ud.hash}}function D(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function k(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let o,n;if(-1===e?(o=Hd(i[r]),n=""):(o=Hd(i[r].slice(0,e)),n=i[r].slice(e+1)),o){const e=Boolean(/(\[\])$/.exec(o));o=o.replace(/\[\]$/,""),e?void 0===t[o]?t[o]=[Hd(n)]:t[o]=[].concat(t[o],Hd(n)):t[o]=Hd(n)}}return t}function R(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Bd(r)?t.push(zd(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function V(e,t,i){let{override:r=!0,saveOriginalPath:o=!1}=void 0===i?{}:i;const n=N(e),a=k(n.search);C(t,((e,t)=>{(void 0===a[t]||r)&&(a[t]=e)}));return D(I({},n,{search:R(a)}),o)}function L(e,t){return-1!==e.indexOf(t)}function B(e){return Boolean(e)}function x(e){return e}function M(e){return"function"===typeof e}function U(e){r(console)&&M(console.warn)&&console.warn(e)}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},F.apply(this,arguments)}function H(e,t){const i=z(j(e,{}),t);if(r=t,$d.has(r)){return(0,Zd[t])(i)}var r;return i}function z(e,t){for(const{sourceName:i,getter:r}of e){const e=p((()=>r(t)));if(h(e))return U("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+i+"]"),e}}function j(e,t){const i={},r=O(e.document);for(const{location:n}of r){C(k(N(n).search),((e,t)=>{i[t]=e}))}const o=function(e){return{adsdktracelogs:e.VAS_TRACE_LOGS,adsdksecuremode:e.VAS_SECURE_MODE,adsdkwithcredentials:e.VAS_WITH_CREDENTIALS,adsdkabflags:e.VAS_AB_FLAGS,adsdkuaas:e.VAS_UAAS,[jd]:e.VAS_AIM_BANNER_ID,[Yd]:e.VAS_AIM_DESIGN_ID,[Wd]:e.VAS_AIM_DESIGN_NAME,[Gd]:e.VAS_AIM_SUBDESIGN_ID,adsdkhoneypotforced:e.VAS_HONEYPOT_FORCED,adsdkgrforced:e.VAS_GR_FORCED,vasconsolelogs:e.VAS_CONSOLE_LOGS,vasnetworklogs:e.VAS_NETWORK_LOGS,vasdebug:e.VAS_DEBUG,vasfulldebug:e.VAS_FULL_DEBUG}}(t);return[{sourceName:"UrlParams",getter:e=>i[e]},{sourceName:"LocalStorage",getter:t=>Jd(e,t)},{sourceName:"GlobalVariable",getter:t=>{for(const o of Vd(e)){var i,r;const e=null==(i=o.Ya)||null==(r=i.hardcodedParams)?void 0:r[t];if(e)return String(e)}}},{sourceName:"ABFlag",getter:e=>o[e]}]}function Y(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}function W(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function G(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];td(e)&&$l(e,(e=>{"function"===typeof e&&e(...i)}))}function X(){}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},q.apply(this,arguments)}function K(e,t){return function(e){const i=kd||window,r=i.console;if(!t||void 0===r)return;const o="AdSDKJS[AdLoader]:";for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];null==r.log||r.log(o,e,...a)}}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Z.apply(this,arguments)}function J(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function Q(e,t){$l(e,(e=>{J(e,t)}))}function $(e,t){const i={};return $l(c(e),(r=>{i[r]=t(e[r],r)})),i}function ee(e){setTimeout((()=>{throw e}),0)}function te(e){return bc?W(e.location.ancestorOrigins):[]}function ie(e){let t="",i="";if(e){O(e).reverse().forEach((e=>{let{location:r,referrer:o}=e;t=t||r,i=i||o}))}return{location:t,referrer:i}}function re(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function oe(){}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ne.apply(this,arguments)}function ae(e){const{method:t,url:i,async:r=!0,data:o,responseType:n="text",onBeforeSend:a=oe,onRetry:s=oe,checkStatus:l=(e=>Dc===e),headers:d={},xhrConstructor:c=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:p,onAbort:m,onSetup:A}=e;if(!c)return;const _=e.onSuccess?re(e.onSuccess):oe,v=e.onError?re(e.onError):oe;let g,f=!1,y=0,T=e=>{f=!0,T=oe,g=e,E(new Error("Abort request")),"function"===typeof m&&m(e)};const E=t=>{S.onerror=null,S.onreadystatechange=null,y&&clearTimeout(y);if(y&&4!==S.readyState||f)try{S.abort()}catch(t){}if(!f)if(u>0){const i=s(t,S);if("boolean"!==typeof i||Boolean(i)||T(),f)return;ae(ne({},e,{onSetup:e=>{let{abort:t}=e;T=e=>t(e),f&&t(g)},retries:u-1}))}else T=oe,v(t,S)},S=new c;try{S.open(t,i,r)}catch(eg){return void E(eg)}if(S.responseType=n,S.withCredentials=Boolean(p),C(d,((e,t)=>{try{S.setRequestHeader(t,e)}catch(eg){}})),h>0&&isFinite(h)&&(y=window.setTimeout((()=>{E(new Error("Request timeout, "+i))}),h)),S.onerror=E,S.onreadystatechange=()=>{if(4===S.readyState){const{status:e}=S;l(e)?(T=oe,clearTimeout(y),_(S)):E(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof A||(A({abort:e=>T(e)}),!f))&&(a(S,e),!f))try{S.send(o)}catch(eg){E(eg)}}function se(e){return Fc(e)&&Boolean(e.code)}function le(e,t){void 0===t&&(t=window);return("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function de(e){var t;return(void 0===t&&(t=window),void 0===zc&&(zc=t.JSON),zc).stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(o){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=ic(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,o)=>{if(M(o))return s(o.name)?o.name:"[Function]";if(Ql(o))return Hc(o);if(!r(o))return o;if(jc(o))return function(e){if(e.id)return e.id;if(e.className)return e.className;return"HTML Element"}(o);const n=t.get(o);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==o;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:o}),t.set(o,a),o}}())}function ce(e){return"ontouchstart"in e}function ue(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}function he(){if(kd&&void 0!==kd.document&&"function"===typeof kd.document.hasFocus)try{return kd.document.hasFocus()}catch(e){}}function pe(e){return"function"===typeof Object.entries?Object.entries(e):nu(c(e),(t=>[t,e[t]]))}function me(e){const t=[];for(const[i,r]of e){const e=Ae(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function Ae(e,t){const i=function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2);return _e(i,t)}function _e(e,t){return v(e,t,"0")}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ve.apply(this,arguments)}function ge(e,t){void 0===t&&(t=!0);const i=du(e);if(!i)return t;return!e[i]}function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fe.apply(this,arguments)}function ye(e){const t=function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=uu.indexOf(e.charAt(i++)),o=uu.indexOf(e.charAt(i++)),n=uu.indexOf(e.charAt(i++)),a=uu.indexOf(e.charAt(i++)),s=r<<2|o>>4,l=(15&o)<<4|n>>2,d=(3&n)<<6|a;t.push(String.fromCharCode(s)),64!==n&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const o=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&o)),i+=2}else{const o=e.charCodeAt(i+1),n=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&o)<<6|63&n)),i+=3}}return t.join("")}(t)}function Te(e){const{hostname:t,pathname:i}=N(e),r=hu.test(t),o=t===hc&&i.startsWith("/adfox"),n=t===pc&&pu.test(i);return r||o||n}function Ee(e,t){return t===e.substring(e.length-t.length)}function Se(e){if(!e)return!1;const{hostname:t}=N(e);return!(!t||0===t.length)&&mu(Au,(e=>e===t||Ee(t,"."+e)))}function be(e){let t,{remainingLoadWrapperVastCount:i,isAdFox:r,url:o,adBreakType:n,adPlacementOptions:a,adConfig:s}=e;return t=r||o&&Te(o)?"AD_FOX":o&&Se(o)?"YANDEX":"EXTERNAL",{adPlacementOptions:a,vastSourceType:t,vastTimeout:3e3,remainingLoadWrapperVastCount:i,adBreakType:n,requestMethod:_u({secureMode:s.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function Ce(e){if(!r(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!r(t)||!r(t.data_params))return;const i=Su(t.data_params);if(!r(i))return;const o=i.target_url;return h(o)?o:void 0}function Pe(e){let{type:t}=e;return h(t)&&Cu.indexOf(t)>-1?"js":"video"}function Oe(e){const t=e===Pu.CAUCASUS,i=e===Pu.MOROZ,r=e===Pu.LAKE;return t||i||r}function we(e,t){const i=e===Pu.EMPTY,o=Oe(e);if(!(i||o))return!1;if(!r(t))return!1;const{AUCTION_DC_PARAMS:n}=t;if(!r(n))return!1;const{data_params:a}=n;if(!r(a))return!1;const{misc:s}=a;if(!r(s))return!1;const{layout_type:l}=s;return"clickable_video"===l}function Ie(e){return function(e){return""+Du+e+"/"}(e)}function Ne(e){if(!r(e))throw new Zc({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersObject:e}});const{theme:t}=e;if(t===Pu.INTERACTIVE_VIEWER)return{url:Iu,adFormatType:"interactiveViewer",detectionMethod:"ivTheme"};if(we(t,e))return{url:xu,adFormatType:"clickableVideo",detectionMethod:"clickableOnlyVideo"};if(t===Pu.EMPTY)return{url:xu,adFormatType:"themeEmpty",detectionMethod:"emptyTheme"};if(t===Pu.SURVEY)return{url:xu,adFormatType:"survey",detectionMethod:"surveyTheme"};if(t===Pu.MOTION)return{url:ku,adFormatType:"motion",detectionMethod:"motionTheme"};if(Oe(t))return{url:xu,adFormatType:"themeEmpty",detectionMethod:"oldVastFormat"};throw new Zc({code:"CANNOT_DETECT_CREATIVE_BY_AD_PARAMETERS",details:{adParametersObject:e}})}function De(e){const t=null==e?void 0:e.mediaFiles[0];if(!r(t))return"external";const{type:i,url:o}=t;if("js"!==Pe({type:i}))return"video";if(!Se(o))return"external";try{if(e.adParametersObject){const{adFormatType:t}=Ne(e.adParametersObject);return t}}catch(n){}return"external"}function ke(e,t){return{AB_FLAGS_STORE:t,VSID:e.VSID,VAS_USER_SESSION_RANDOM:e.VAS_USER_SESSION_RANDOM,AB_FLAGS:e.AB_FLAGS,ICOOKIE:e.ICOOKIE,TEST_IDS:e.TEST_IDS,VAS_UAAS_CONFIG:e.VAS_UAAS_CONFIG,AdditionalStatsRootFields:e.AdditionalStatsRootFields,STATS_ROOT_PARAMS:e.STATS_ROOT_PARAMS,loaderLoadedFromAnYandexRu:e.loaderLoadedFromAnYandexRu,ActiveTestIds:e.activeTestIds,grWasSent:e.grWasSent}}function Re(e){let{element:t,eventName:i,listener:r,options:o,ignoreBubbling:n=!1}=e;const a=n?function(e){e.target===t&&r.call(this,e)}:r,s=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(o),l=ju?s:s.capture,d=s.once&&!Hu?function(e){c(),a.call(this,e)}:a,c=()=>{M(t.removeEventListener)&&t.removeEventListener(i,d,l)};return t.addEventListener(i,d,l),c}function Ve(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function Le(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[Zu(r)]=t[r]}}function Be(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)b(e,i)&&t.push(i);return t}}function xe(e,t){Be(t).forEach((i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)}))}function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Me.apply(this,arguments)}function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ue.apply(this,arguments)}function Fe(e,t){try{return e()}catch(eg){"function"===typeof t&&t(eg)}}function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},He.apply(this,arguments)}function ze(e){const t={};return $l(e,(e=>{let[i,r]=e;t[i]=r})),t}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},je.apply(this,arguments)}function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ye.apply(this,arguments)}function We(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ge.apply(this,arguments)}function Xe(e){let{url:t,data:i,timeout:r,doRequest:o=bh,withCredentials:n}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return Ud.href=e,Ud.protocol="https:",Ud.href}(t));const s=Ch(r),l=o({url:t,data:i,withCredentials:n});try{const t=await Promise.race([l,s]);if(t){return e(Ge({},t,{xml:We(t.responseText)}))}return a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function qe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ke.apply(this,arguments)}function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ze.apply(this,arguments)}function Je(e){let{url:t,options:i,ignoreAbd:r=!1,win:o}=e;if(M(tu(o))&&!r)return t;if(!Se(t)&&!Te(t))return t;const n=Jh(i.size),a=Math.round(100*i.visibility),s=Math.round(100*i.videoVolume),l=Math.round(i.videoAvatarSize.width),d=Math.round(i.videoAvatarSize.height),c=he(),u="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_REMOVE_OLD_SIZE_PARAMS_FROM_VMAP_REQUEST");return V(t,Ze({"adsdk-bundle-version":ql,"adsdk-bundle-name":ac,"adsdk-container-visibility":String(a)},!u&&{"adsdk-container-width":String(n.width),"adsdk-container-height":String(n.height)},{"video-avatar-width":String(l),"video-avatar-height":String(d),[Uc]:String(lu.serialize()),"ad-session-id":qh(),[Oh]:gc,shyid:Kh(o),"top-ancestor":Ic,"top-ancestor-undetermined":Nc?"0":"1","client-ts":String(Date.now()),"client-timezone-offset":String((new Date).getTimezoneOffset()),"viewability-undetermined":ep()?"0":"1","video-volume":String(s),"video-muted":i.videoMuted?"1":"0","pcode-active-testids":Ec.getActiveTestIds().join(";")||void 0,"document-has-focus":void 0===c?"unknown":String(c),"is-fullscreen":void 0===i.isFullscreen?"unknown":String(i.isFullscreen),"device-orientation":ce(o)?ue(o):void 0,[Dh]:void 0===i.adPodId?"unknown":i.adPodId}),{override:!1})}function Qe(e){return[].concat.apply([],e)}function $e(e){return-1!==e.search(/[rR]each/)}function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},et.apply(this,arguments)}function tt(){return tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},tt.apply(this,arguments)}function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},it.apply(this,arguments)}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},rt.apply(this,arguments)}function ot(e){const t=[];if(!td(e))return t;for(const i of e){const e=nt(i);e&&t.push(e)}return t}function nt(e){if(!r(e))return;const{width:t,height:o,url:n,type:a}=e;if(!h(n))return;return rt({},i(t)&&i(o)?{width:t,height:o}:void 0,h(a)?{type:a}:void 0,{url:n})}function at(){return at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},at.apply(this,arguments)}function st(e){if(!r(e))return dp;const{type:t,poster:i}=e;return at({},t in sp?{type:t}:void 0,{poster:ot(i)})}function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lt.apply(this,arguments)}function dt(e){return!!r(e)&&(!!e.id&&!!h(e.description))}function ct(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!=(r=null==i?void 0:i.trim())?r:""}return i}function ut(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function ht(e){return Boolean(e&&ut(e).length)}function pt(e){const t=parseInt(ct(e,"width",0),10),r=parseInt(ct(e,"height",0),10),o=parseInt(ct(e,"bitrate",0),10),n=ct(e,"minBitrate",""),a=n?parseInt(n,10):void 0,s=ct(e,"maxBitrate",""),l=s?parseInt(s,10):void 0,d=ct(e,"vmafAvg",""),c=d?parseFloat(d):void 0,u=ct(e,"codec",""),p={width:t,height:r,bitrate:o,type:ct(e,"type"),url:ut(e)};return h(u)&&(p.codec=u),i(a)&&(p.minBitrate=a),i(l)&&(p.maxBitrate=l),i(a)&&i(l)&&a>l&&yu.error({error:new Zc({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:p}})}),i(c)&&(p.vmafAvg=c),p.url?p.type?p:(yu.error({error:new Zc({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:p}})}),null):(yu.error({error:new Zc({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:p}})}),null)}function mt(e){var t,i,o;if(!r(e))return;const n=null==(t=e.AUCTION_DC_PARAMS)||null==(i=t.data_params)||null==(o=i.misc)?void 0:o.productType;return h(n)?n:void 0}function At(e){return void 0===e&&(e=window),void 0===vp&&(vp=function(e){void 0===e&&(e=window);return e.JSON&&m(e.JSON.stringify)&&m(e.JSON.parse)}(e)?e.JSON:{stringify:gp("stringify"),parse:gp("parse")}),vp}function _t(e){return At().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(o){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=_p(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(A(r))return s(r.name)?r.name:"[Function]";if(!f(r))return r;const o=t.get(r);if(o)return"[Circular "+o+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const n=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:n,value:r}),t.set(r,n),r}}())}function vt(e){const t={};return r(e)&&$l(c(e),(i=>{const r=e[i];Array.isArray(r)&&(t[i]=fc(r,(e=>"string"===typeof e)))})),t}function gt(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return $l(i,(t=>{$l(c(t),(i=>{const r=e[i]||[],o=t[i]||[];e[i]=[...r,...o]}))})),e}function ft(e){if(void 0===e)return;const t=Number(e);return i(t)?t:void 0}function yt(e,t){const i={};return $l(c(e),(r=>{t(e[r],r)&&(i[r]=e[r])})),i}function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Tt.apply(this,arguments)}function Et(e){const t=ip(Rp);if(!r(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),r(e.controlsSettings)&&(r(e.controlsSettings.controlsVisibility)&&C(e.controlsSettings.controlsVisibility,((e,i)=>{Dp.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)})),!1===e.controlsSettings.visibility)){const e=yt(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=Tt({},kp,e)}return delete t.visibility,t}function St(){return St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},St.apply(this,arguments)}function bt(e){const{packshotSettings:t}=e;if(!r(t))return Vp;const{isEnabled:i,disableButton:o,disableOverlay:n,disableTitle:a}=t;return St({},Vp,{isEnabled:!1!==i&&void 0,disableButton:o,disableOverlay:n,disableTitle:a})}function Ct(e){const t=r(e)?e:{},o="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,wp):void 0;return{config:{pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,videoTimeout:i(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:i(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:o,bufferEmptyLimit:i(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?vt(t.trackingEvents):{},controlsSettings:Et(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:ft(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Pp,packshotSettings:bt(t),contentAfterAd:st(t.contentAfterAd)},errors:[]}}function Pt(e){try{return"string"===typeof e?JSON.parse(e):void 0}catch(eg){return}}function Ot(e){(new Image).src=e}function wt(e,t){if(Se(e)||Te(e)){const i=function(e,t){return!!Lp&&window.navigator.sendBeacon(e,t)}(e,t);if(i)return}else Se(e)&&yu.log({name:"TrackYandexUrlWithImage",data:{url:e},probability:xc});Ot(e)}function It(e){let{error:t,trackingUrls:i}=e;ou("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=nu(e,(e=>Je({url:e,options:Gl,win:window})));$l(t,(e=>wt(e)))}(i)}function Nt(e,t){void 0===t&&(t=[]),yu.errorToStats(e),It({error:e,trackingUrls:t})}function Dt(e){return"string"!==typeof e?NaN:Rd(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function kt(e){if(e.indexOf("%")>-1){const i=parseFloat(e);return t(i)?{unit:"portion",value:i/100}:void 0}const i=Dt(e);if(t(i))return{unit:"seconds",value:i}}function Rt(e){return"number"===typeof e&&isFinite(e)&&e>=0}function Vt(){return Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Vt.apply(this,arguments)}function Lt(e){return void 0===e&&(e=""),e.replace(Mp,(e=>e in Up?Up[e]:e))}function Bt(e){if(!r(e))return;const{AUCTION_DC_PARAMS:t}=e;return r(t)&&r(t.data_params)?Su(t.data_params):void 0}function xt(e){const t=Bt(e);if(!t)return;const{text:i}=t;return r(i)?i:void 0}function Mt(e){const t=xt(e);if(!t||!r(e))return{};const{HAS_TITLE:i,HAS_BODY:o}=e;return{title:h(t.title)?Lt(t.title):void 0,body:h(t.body)?Lt(t.body):void 0,hasBody:"boolean"===typeof o?o:void 0,hasTitle:"boolean"===typeof i?i:void 0}}function Ut(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return h(i)?i:h(r)?r:h(t)?t:void 0}function Ft(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return r(t)&&h(t[Pp])?t[Pp]:h(i)?i:void 0}function Ht(e){const t=Bt(e);if(!r(t))return;if(r(t.unmoderated))return t.unmoderated;if(!r(t.text))return;const{text:i}=t;return r(i.unmoderated)?(Fp(),i.unmoderated):void 0}function zt(e){return i(e)&&function(e){return t(e)&&Math.floor(e)===e}(e)}function jt(e){return!c(e).length}function Yt(e){var t,i;const{AUCTION_DC_PARAMS:o}=e;if(!r(o)||!r(o.data_params))return;const n=Su(o.data_params);if(!r(n))return;const a=(null==(t=n.click_url)?void 0:t.action_button)||(null==(i=n.click_url)?void 0:i.text_name);return h(a)?a:void 0}function Wt(e){if(!r(e))return!1;const{pythia:t}=e;if(!r(t))return!1;const{extra:i}=t;if(!s(i))return!1;return void 0!==k(i).bl_adg}function Gt(){return Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Gt.apply(this,arguments)}function Xt(e){$l(e,(e=>yu.error({error:e})))}function qt(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function Kt(e){let{win:t,methodName:i,data:r,id:o}=e;t.postMessage({methodName:i,data:r,id:o},"*")}function Zt(e){const t=Object.values;if("function"===typeof t)return t(e);const i=[];for(const r in e)d(e,r)&&i.push(e[r]);return i}function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Jt.apply(this,arguments)}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qt.apply(this,arguments)}function $t(){return{width:window.innerWidth,height:window.innerHeight}}function ei(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case sm.BLUETOOTH:return 3;case am.CELL_2G:return.384;case am.CELL_3G:case sm.CELLULAR:return 2;case sm.WIMAX:return 37;case sm.NONE:return 0;case am.ETHERNET:case sm.ETHERNET:case am.WIFI:case sm.WIFI:case sm.MIXED:return 10;case am.UNKNOWN:case sm.UNKNOWN:case sm.OTHER:}return-1}function ti(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function ii(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);let n;if(o<128?n=String.fromCharCode(o):o>127&&o<2048?(n=String.fromCharCode(o>>6|192),n+=String.fromCharCode(63&o|128)):(n=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128),n+=String.fromCharCode(63&o|128)),i.length+n.length>t)break;i+=n}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),o=e.charCodeAt(i++),n=e.charCodeAt(i++),a=r>>2,s=(3&r)<<4|o>>4;let l=(15&o)<<2|n>>6,d=63&n;isNaN(o)?l=d=64:isNaN(n)&&(d=64),t=t+um.charAt(a)+um.charAt(s)+um.charAt(l)+um.charAt(d)}return t}(i)}function ri(e,t){const i=window,r=i.document;if(t&&(o=function(e){return e.location.host}(i))&&o&&0!==o.length&&((e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1})(cm,(e=>{return e===o||(i="."+e)===(t=o).substring(t.length-i.length);var t,i})))return t;var o;let n=oi(e,r);if("t\n"===n&&i.top!==i.self)try{n=oi(e,i.parent.document)}catch(eg){}return ii(n,e)}function oi(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let o=1;o<4&&r<e;o++){const e=t.getElementsByTagName("h"+o),n=e.length;for(let t=0;t<n;t++){const n=ni(e[t]);r+=n.length,i.push(""+o+n)}}return i.join("\n")+"\n"}function ni(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function ai(e){return Boolean(e.YA_TURBO_PAGES)}function si(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);let n;if(o<128?n=String.fromCharCode(o):o>127&&o<2048?(n=String.fromCharCode(o>>6|192),n+=String.fromCharCode(63&o|128)):(n=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128),n+=String.fromCharCode(63&o|128)),i.length+n.length>t)break;i+=n}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),o=e.charCodeAt(i++),n=e.charCodeAt(i++),a=r>>2,s=(3&r)<<4|o>>4;let l=(15&o)<<2|n>>6,d=63&n;isNaN(o)?l=d=64:isNaN(n)&&(d=64),t=t+uu.charAt(a)+uu.charAt(s)+uu.charAt(l)+uu.charAt(d)}return t}(i)}function li(e){let t;try{t=JSON.stringify(e)}catch(eg){}return t}function di(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ci(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return di(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function ui(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return pm()+e}function hi(e){return void 0===e&&(e=window),String(e.location)}function pi(e){return void 0===e&&(e=window),si(((e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(eg){}const r=/(%[0-9A-Z]{2})+/g;let o;for(let n=0;n<i.length;n++){const e=i[n].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(a.replace(r,decodeURIComponent),t===i){o=decodeURIComponent(a);break}}catch(eg){return}}return o})(e.document,"_ym_uid")||"")}function mi(e){return void 0===e&&(e=window),e.location.hostname}function Ai(){return Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ai.apply(this,arguments)}function _i(){return _i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_i.apply(this,arguments)}function vi(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:o=!1,reloadCounter:n}=e,a=_i({},function(e){const t=e.win||window,i=void 0===e.isTurbo?ai(t):e.isTurbo,r=mu(gm,(e=>e.test(t.location.hostname)));return(e=>{let{win:t,date:i=new Date,pr1:r,pr:o,testtag:n,isTurbo:a=ai(t),addsSsSkipToken:s=!1,layoutConfig:l=new dm,cookies:d,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:m,extid_tag_loader:A}=e;l.set("req_no",(()=>{0;return vm++})()),l.set("ad_no",ui());const _=Ai({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:o=_m(),location:n,extid_loader:a,extid_tag_loader:s}=e;const l=di(t)&&t.context&&t.context.sourceUrl||void 0,d=l||t.document.referrer;return{dl:l||n||hi(t),date:Am(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:o,pr:i,prr:d,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===a?pi(t):a,extid_tag_loader:void 0===s?mi(t):s}})({win:t,date:i,pr1:r,pr:o,location:p,extid_loader:m,extid_tag_loader:A}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:n?n.toString():"","is-turbo":Number(a),"skip-token":ci(),"ad-session-id":h||Xh(),"layout-config":l.toString(),"enable-flat-highlight":1},d);s&&(_["ss-skip-token-length"]=20,_["allow-repeat-ads"]=0);return _})(_i({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},o?{"matchid-direct":1}:{},{"enable-page-options":65536});if($l(fm,(e=>{a[e]=void 0})),a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(eg){}if(r){const e=nu(r,(e=>_i({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=si(li(e)||"")}return a.grab=ri(2048-t.length),a.utf8="\u2713",n&&(a.adf_refresh=n),a}function gi(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:o,domain:n=ym}=e;return t=r?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+n+"/"+o+"/"+t}(e);return{base:t,queryParams:vi(e,t)}}function fi(){const e=window;var t,i,r;"number"!==typeof e.pr&&(e.pr=(null==e||null==(t=e.Ya)?void 0:t.headerBidding)&&(null==e||null==(i=e.Ya)||null==(r=i.headerBidding)?void 0:r.pr)||_m());return e.pr}function yi(){return yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},yi.apply(this,arguments)}function Ti(e,t){const i=tu(window);let r;try{const t=vc.loaderLoadedFromAnYandexRu?hc+"/adfox":pc+"/ads/adfox";r=function(e){const{base:t,queryParams:i}=gi(e);return V(t,i)}(yi({},e,{layoutConfig:new dm,useXhr:!0,domain:t,pr:fi()}))}catch(n){throw new Zc(n,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!ti(r))throw new Zc({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const o=Je({url:r,options:t,ignoreAbd:!0,win:window});return i?i(o):o}async function Ei(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:o,__requestInfoForLogs:n={}}=e;const a=Ti(t,i);n.adFoxUrl=a;const s=_u({secureMode:o,url:a})?Sh:bh;try{const e=await s({url:a,withCredentials:!0});if(n.responseText=e.responseText,n.responseHeaders=e.responseHeaders,200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=Pt(e),i=[];if(!r(t))throw new Zc({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{errors:o,data:n}=t;if(Array.isArray(o)&&o.length>0){if(t.errors&&1===t.errors.length&&"204"===t.errors[0].status)throw new Zc({code:"NO_AD_SECTION",details:{reason:"status-204"}});throw new Zc({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}})}if(!Array.isArray(n))throw new Zc({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=fc(n,((e,o)=>{if(!r(e)||!r(e.attributes))return i.push(new Zc({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:o}})),!1;const{campaignId:n,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||"string"===typeof n&&n.length>0||(i.push(new Zc({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:o}})),!1)}));if(0===a.length)throw new Zc({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new Zc({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return Xt(i),t}catch(l){if(se(l))throw l;throw new Zc(l,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:a}})}}function Si(){return Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Si.apply(this,arguments)}function bi(){return bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},bi.apply(this,arguments)}function Ci(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=fc(i,(e=>"video"===Pe(e)||Se(e.url)))),i}function Pi(e,t){const i=Ci(e,t);return nu(i,(e=>"video"!==Pe(e)?e:Cm(e)))}function Oi(e){let{secureMode:t,vastAd:i}=e;const r=Pi(i.mediaFiles,t);return!!r.length&&im(r,(e=>"video"===Pe(e)))}function wi(e,t,i){for(const r in e)d(e,r)&&t.call(i,e[r],r,e)}function Ii(e){const t={};return wi(e,((e,i)=>{t[e]=i})),t}function Ni(){return Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ni.apply(this,arguments)}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Di.apply(this,arguments)}function ki(){return ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ki.apply(this,arguments)}function Ri(){return Ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ri.apply(this,arguments)}function Vi(){return Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Vi.apply(this,arguments)}function Li(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}function Bi(e){var t;const{adParametersObject:i,description:o}=e;if(!r(i))throw new Zc({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:n,interactiveElements:a,mediaFiles:s,adTitle:l}=i,d=Li(i,Lm),c=n&&n.isVisible&&h(n.text),u=Array.isArray(a)&&a.length>0,p=!(!c&&!u&&"DO_NOT_LOAD"===Ec.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"));if(l){const{errors:t,params:i}=qp(l);null!=t&&t.length?yu.error({error:new Zc({code:"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_AD_PARAMETERS",details:{errors:t}})}):(yu.log({name:"UsingAdTitleExtensionInAdParametersVast",probability:xc}),e.adTitleParameters=i)}const m=Vi({},d,{adParameters:{description:o,tickerData:n,interactiveElements:a},mediaFiles:p?[...s,km]:s}),{clickUrlData:A}=e,_=null!=(t=A.serializablePlaybackParametersClickUrl)?t:A.vastClickUrl,v=Vi({},e.serializablePlaybackParameters,{clickThroughUrl:_});return Vi({},e,{mediaFiles:[ap],adParametersObject:m,adParameters:JSON.stringify(m),originallyConvertedFromVast:e,serializablePlaybackParameters:v})}function xi(e){const{adParametersObject:t}=e;if(!r(t))throw new Zc({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:o,HAS_AGE:n,HAS_LEGAL:a,LEGAL_TEXT:s}=t,l=Vi({},Li(t,Bm),{adParameters:Vi({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:o}:{},"HAS_AGE"in t?{HAS_AGE:n}:{},"HAS_LEGAL"in t?{HAS_LEGAL:a}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[Rm]});return Vi({},e,{mediaFiles:[ap],adParametersObject:l,adParameters:JSON.stringify(l),originallyConvertedFromVast:e})}function Mi(e){const{adParametersObject:t}=e;if(!r(t))throw new Zc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!(td(t.mediaFiles)&&t.mediaFiles.length>0))throw new Zc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const o=Vi({},t,{mediaFiles:i,adParameters:Vi({},t),adCreativeConversionType:"theme-empty"});return Vi({},e,{mediaFiles:[ap],adParametersObject:o,adParameters:JSON.stringify(o),originallyConvertedFromVast:e})}function Ui(e){let{secureMode:t,vastAd:i}=e;const{trackingEvents:r}=i,o=Ci(i.mediaFiles,t);if(0===o.length)throw new Zc({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:i}});const n={adParameters:{},interactiveElements:[],mediaFiles:o,tickerData:{}},a=de(n),s=i.clickUrlData.vastClickUrl;return Vi({},i,{mediaFiles:[ap],adParametersObject:n,adParameters:a,serializablePlaybackParameters:{clickThroughUrl:s,trackingEvents:r,controlsSettings:{controlsVisibility:{}},lang:"ru",packshotSettings:{},contentAfterAd:dp},clickUrlData:Vi({},i.clickUrlData,{serializablePlaybackParametersClickUrl:s}),originallyConvertedFromVast:i})}function Fi(e){const{adParametersObject:t}=e;if(!r(t))throw new Zc({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=e.clickUrlData.tgaOfferClickUrl,o=Vi({},e.adParametersObject,{adParameters:e.adParametersObject});return Vi({},e,{mediaFiles:[ap],adParametersObject:o,adParameters:JSON.stringify(o),serializablePlaybackParameters:Vi({clickThroughUrl:i},t.playbackParameters),clickUrlData:Vi({},e.clickUrlData,{serializablePlaybackParametersClickUrl:i}),originallyConvertedFromVast:e})}function Hi(e){var t;const{adParametersObject:i}=e,{vastClickUrl:o}=e.clickUrlData;if(!r(i))throw new Zc({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const n="TRUE"===Ec.getFlagValueAndActivateTestId("SHOULD_NOT_USE_SURVEY_CLICK_THROUGH_URL_AS_CLICK_TRACKING"),a=null!=(t=i.trackingEvents)?t:{};if(!n){const e=td(a.clickThrough)?a.clickThrough:[];a.clickThrough=[...e,o],yu.log({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:i}})}const s=Vi({},i,{mediaFiles:[Vm],adParameters:Vi({},i),trackingEvents:a});return Vi({},e,{mediaFiles:[ap],adParametersObject:s,adParameters:JSON.stringify(s),originallyConvertedFromVast:e})}function zi(e){var t;let{vastAd:i,secureMode:r}=e;if(void 0===i.mediaFiles[0])return{vastAd:i,reason:"ConvertNothingWithoutMediaFile"};if(Oi({secureMode:r,vastAd:i}))return{vastAd:Ui({secureMode:r,vastAd:i}),reason:"ConvertVideoVastIntoAdCreative"};let o;try{o=Ne(i.adParametersObject),yu.log({name:"CreativeDetectedByParameters",sensors:{method:o.detectionMethod,source:"vastLoader"}})}catch(c){throw yu.log({name:"PrepareYandexVastDetectionError",data:{error:c},probability:1}),c}const n="motion"===o.adFormatType,a="themeEmpty"===o.adFormatType,s="survey"===o.adFormatType,l="interactiveViewer"===o.adFormatType,d="clickableVideo"===o.adFormatType;if(!i.originallyConvertedFromVast&&(null==(t=i.adParametersObject)||!t.__dontCovertMePlease__)){if(d)return{vastAd:Fi(i),reason:"ConvertClickableOnlyVideo"};if(a)return{vastAd:Mi(i),reason:"ConvertVideoBannerThemeEmpty"};if(l)return{vastAd:Bi(i),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(n)return{vastAd:xi(i),reason:"ConvertMotionVpaidIntoAdCreative"};if(s)return{vastAd:Hi(i),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:i,reason:"ConvertNothingForNonYandex"}}function ji(e){const{adParametersObject:t}=e;return!!t&&we(t.theme,t)}function Yi(e){const t=Sm(e);return L(Bu,t)}function Wi(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===np}(i)}function Gi(e){var t;const{mediaFiles:i,adParametersObject:o}=e;if(!r(null==o||null==(t=o.adParameters)?void 0:t.pythia))return!1;const[n]=i;return void 0!==n&&Wi(e)}function Xi(e){let{mediaFiles:t,adParametersObject:i}=e;if((null==i?void 0:i.theme)===Pu.SURVEY)return!0;const[r]=t;return void 0!==r&&function(e){const t=Sm(e);return L(xm,t)}(r.url)}function qi(e){const{adParametersObject:t}=e;return(null==t?void 0:t.theme)===Pu.EMPTY&&Mm(e)}function Ki(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function Zi(e){if(!r(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function Ji(e,t){const{width:i,height:r,top:o,left:n,right:a,bottom:s}=e;let l=1;const d=Math.max(Math.min(a,t.width)-Math.max(n,0),0),c=Math.max(Math.min(s,t.height)-Math.max(o,0),0);return i?l*=d/i:(n<0||a>t.width)&&(l=0),r?l*=c/r:(o<0||s>t.height)&&(l=0),l>=.5?1:0}function Qi(){return Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qi.apply(this,arguments)}function $i(){return $i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$i.apply(this,arguments)}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},er.apply(this,arguments)}function tr(e){const{adTagURI:t,sessionId:i,repeatNumber:r,adConfig:o,adPlacementOptions:n,win:a}=e;return M(tu(a))?t:function(e){const{adConfig:t,win:i,adTagURI:r,adPlacementOptions:o,repeatNumber:n,sessionId:a}=e;return Se(r)?Je({url:V(r,Ym({adConfig:t,win:i,repeatNumber:n,sessionId:a})),options:o,win:window}):r}({adConfig:o,adTagURI:t,adPlacementOptions:n,win:a,repeatNumber:r,sessionId:i})}function ir(e){if(vc.isDebugEnabled&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function rr(e){const{text:t,textColor:i,isVisible:r}=e||Xm;return{text:h(t)?t:Xm.text,textColor:i||Xm.textColor,isVisible:"boolean"===typeof r?r:Xm.isVisible}}function or(e,t){const i=[],r=[];return $l(e,((o,n)=>{t(o,n,e)?i.push(o):r.push(o)})),[i,r]}function nr(e){return!!r(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function ar(e){const t=[];if(!Array.isArray(e))throw new Zc({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Zc({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=fc(e,nr);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Zc({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const[r,o]=or(i,(e=>e.type===Pm));if(r.length>1)throw new Zc({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});return{errorCodes:t,videoMediaFiles:o,animationMediaFile:r[0]}}function sr(e){const t=[];let i={};if(r(e))i=e;else{if("string"!==typeof e)throw new Zc({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(p){throw new Zc(p,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}}if(!r(i))throw new Zc({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:o,adParameters:n,interactiveElements:a=[],mediaFiles:s}=i,{errorCodes:l,animationMediaFile:d,videoMediaFiles:c}=ar(s),u=nu(l,(t=>new Zc({code:t,details:{adParametersString:JSON.stringify(e)}})));return t.push(...u),{raw:i,parsed:{tickerData:rr(o),animationMediaFile:d,videoMediaFiles:c,adParameters:(h=n,"string"===typeof h?h:r(h)?li(h):void 0),interactiveElements:a},errors:t};var h}function lr(){return lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lr.apply(this,arguments)}function dr(e){return Rt(e.height)&&Rt(e.width)}function cr(e,t){return function(e,t,i){if(e.length<1)return;let[r]=e,o=t(r);for(let n=1;n<e.length;n++){const a=e[n],s=t(a);i(s,o)<0&&(r=a,o=s)}return r}(e,t,((e,t)=>e-t))}function ur(e,t){let{height:i}=t;const r=fc(e,dr);return void 0===i?r[0]:cr(r,(e=>{let{height:t}=e;return Math.abs(t-i)}))}function hr(e){(new Image).src=e}function pr(e){return!!h(e)&&Zm.indexOf(e.toLowerCase())>-1}function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},mr.apply(this,arguments)}function Ar(e,t){return function(){try{e(...arguments)}catch(i){yu.error({error:new Zc(i,{code:t})}),ee(i)}}}function _r(e,t){var i,r,o;return null==(i=t.ya)||null==(r=i.videoAd)||null==(o=r.loadedModules)?void 0:o[e]}function vr(e){return function(e){const{src:t,win:i,onBeforeLoad:r=X}=e,o=new Zc(new Error,{});let n=X;return{promise:new Promise(((e,a)=>{const s=i.document.createElement("script");let l=!1;n=()=>{l=!0,Ve(s)};const d=()=>{l||e()},c=e=>{l||(a(new Zc(o,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),n())};s.type="text/javascript",s.async=!0,s.onload=d,s.onerror=c,s.src=t,s.charset=sA,r(s),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(s)})),teardown:n}}(e)}function gr(){return gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gr.apply(this,arguments)}function fr(){return fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fr.apply(this,arguments)}function yr(e){const{src:t,win:i}=e,r=function(e,t){const{hostname:i}=N(e),r=tu(t);return r?-1===_c.indexOf(i)?e:r(e):e}(t,i);return vr(fr({},lA,e,{src:r}))}function Tr(e){var t;let{moduleName:i,version:r=Nu,onSuccess:o,onError:n,win:s,timeout:l}=e;const d=null!=(t=vc.hardcodedParams.adsdkecmaver)?t:aA;let c="loading";const u=Date.now(),h=a(Ar((e=>{c="success";const t=Date.now()-u;yu.log({name:"ModuleLoaded",data:{loaderVersion:ql,bundleVersion:r},values:{timeSpent:t},sensors:{bundleName:i},dailySensors:{ecmaVersion:d}}),o(e)}),"LOAD_MODULE_CALLBACK_ERROR")),p=a(Ar((e=>{c="error",yu.error({error:e}),n(e)}),"LOAD_MODULE_CALLBACK_ERROR"));if(oA(s))return yu.log({name:"LoadModuleBrokeInIE",probability:1}),p(new Zc({code:"LOAD_MODULE_REJECTED_IN_IE",details:{moduleName:i,version:r,timeout:l}})),X;const m=_r(i,s);if(m)return h(m),X;const A=(e=>{let{bundleName:t,win:i,ecmaVersion:r,version:o}=e;const n=Yu[r],a=tu(i),s=(e=>wm[e]+".bundle.js")(t),l=""+Ie(o)+n+"/"+s;return M(a)?a(l):l})({version:r,bundleName:i,win:s,ecmaVersion:d});const{promise:_,teardown:v}=(e=>{let{src:t,win:i}=e;return yr({src:t,onBeforeLoad:dA,win:i})})({src:A,win:s}),{promise:g,clear:f}=Tu(l,window),y=Re({element:s,eventName:"unload",listener:()=>{p(new Zc({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:i,version:r,timeout:l}}))}}),T=()=>{y(),f()};return g.then((()=>{p(new Zc({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:A,moduleName:i,version:r,timeout:l}}))})),_.then((()=>{T();const e=_r(i,s);e?h(e):p(new Zc({code:"CANNOT_INIT_MODULE",details:{moduleUrl:A,moduleName:i,version:r}}))})).catch((e=>{T(),p(new Zc(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:A,moduleName:i,version:r}}))})),()=>{T(),v(),"loading"===c&&yu.log({name:"LoadModuleTeardownCalled",probability:1})}}function Er(){return Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Er.apply(this,arguments)}function Sr(){return Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Sr.apply(this,arguments)}function br(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,o=Dm[r];if(r===hp)return{teardown:X,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i},duration:r}=e;const o=new hA;let n;return{startAd(e){if(!h(i))throw new Zc({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});e.dispatchAdStarted();const{filterReasons:a}=JSON.parse(i);n=t.ownerDocument.createElement("div"),Le(n,pA);const s=t.ownerDocument.createElement("h2");s.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",Le(s,mA),n.appendChild(s);const l=t.ownerDocument.createElement("p");if(l.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",n.appendChild(l),a&&a.length){l.textContent=l.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const e=t.ownerDocument.createElement("ul");Le(e,AA),$l(a,(i=>{let{id:r,description:o}=i;const n=t.ownerDocument.createElement("li");n.textContent="#"+r+": "+o,e.appendChild(n)})),n.appendChild(e)}const d=t.ownerDocument.createElement("p");d.textContent="\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b.",n.appendChild(d);const c=t.ownerDocument.createElement("p");return c.textContent="VSID: "+gc,n.appendChild(c),t.appendChild(n),yu.log({name:"NoAimScreenShowStarted",probability:1}),new Promise((e=>{o.start(),o.addCallback(r*uA,(()=>{o.destroy(),yu.log({name:"NoAimScreenShowCompleted",probability:1}),e({reason:"complete"})}))}))},stopAd(){o.destroy(),yu.log({name:"NoAimScreenShowStopped",probability:1}),Ve(n)},pauseAd(){o.stop()},resumeAd(){o.start()},getAdRemainingTime:()=>Math.max(r-o.getTime()/uA,0),getAdDuration:()=>r}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:X}}))};if(r===vA)return{teardown:X,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t}}=e;const i=new hA;let r;return{startAd:e=>(e.dispatchAdStarted(),r=t.ownerDocument.createElement("div"),Le(r,_A),r.textContent="VAS test AdCreative STARTED",t.appendChild(r),new Promise((e=>{i.start(),i.addCallback(15e3,(()=>{i.destroy(),e({reason:"complete"})}))}))),stopAd(){i.destroy(),Ve(r)},pauseAd(){r.textContent="VAS test AdCreative PAUSED",i.stop()},resumeAd(){r.textContent="VAS test AdCreative PLAYING",i.start()},getAdRemainingTime:()=>Math.max(15-i.getTime()/uA,0),getAdDuration:()=>15}}({adCreativeInitParameters:e});return{promise:Promise.resolve(t),teardown:X}}))};if(void 0!==o){0;let e=X;const t=new Promise(((t,r)=>{e=Tr({moduleName:o,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:3e4})}));return{teardown:e,promise:t}}const{promise:n,teardown:a}=yr({src:r,win:i});return{promise:n.then((()=>i.initAdCreative)),teardown:a}}function Cr(e){let{scope:t,errorType:i,error:r,details:o}=e;return new Zc(r,{code:gA(t,i),details:o})}function Pr(e,t){const i=[];i.push(Re({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push(Re({element:e,eventName:"error",listener:(e,i,r,o,n)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:o,error:n,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push(Re({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:o,effectiveDirective:n,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:o,effectiveDirective:n,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const o=new fA.CSPLogger({project:"adsdk",from:JSON.stringify({vsid:gc,version:ql})});o.subscribe(e.document),i.push((()=>{o.unsubscribe(e.document)}));const n=new yA({win:e,onReport:e=>{const{reportSourceEvent:i,reports:o,records:n}=e,a=new Error;0===o.length&&0===n.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),$l(pe({reports:o,records:n}),(e=>{let[o,n]=e;return $l(n,(e=>{t(a,function(e){if(!r(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!h(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(r(i)&&h(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:o,report:e})}))}))}});return i.push((()=>{n.destroy()})),()=>G(i)}function Or(e,t){return Pr(e,((e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(TA)>-1)return}}t(e,i,r)}))}function wr(e){return 0===bA.length&&(SA=window.setInterval((()=>{G(bA)}),EA)),bA.push(e),()=>{const t=bA.indexOf(e);t>-1&&bA.splice(t,1),0===bA.length&&window.clearInterval(SA)}}function Ir(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&xe(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Ve(i)}function Nr(){const e=Ir(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function Dr(){return Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Dr.apply(this,arguments)}function kr(){return kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},kr.apply(this,arguments)}function Rr(e){let t;try{t=e.devicePixelRatio}catch(eg){}return i(t)?t:1}function Vr(){return Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Vr.apply(this,arguments)}function Lr(e){if(!h(e))return;return e.split(",")[0].trim()}function Br(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function xr(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function Mr(e){let{mediaFile:t,abFlags:{disableVp8:r,disableVp9:o,enableH265:n,disable144p:a}}=e;const s=Lr(t.codec);if(h(s)){if(a&&144===function(e){let{width:t,height:r}=e;if(i(t)&&i(r))return Math.min(t,r)}(t))return"quality144pIsDisabled";if(!function(e){return 0===e.indexOf("avc1.")}(s))return Br(s)?r?"vp8CodecIsDisabled":void 0:function(e){return 0===e.indexOf("hev1.")}(s)||function(e){return 0===e.indexOf("hvc1.")}(s)?n?void 0:"h265CodecIsDisabled":xr(s)?o?"vp9CodecIsDisabled":void 0:"unsupportedVideoCodec"}}function Ur(e){let{mediaFile:t,canPlayType:i}=e;const{type:r}=t,o=(e=>{switch(e){case"h264":case"hevc":case"mpeg4":return UA(e),"avc1.4D401E,mp4a.40.2";default:return e}})(t.codec);if(!s(r))return"noType";if(r===BA&&wd)return"cannotPlayWebmDueToMacOSLimitations";if(!i(xA({type:r,codec:o})))return"cannotPlay";const n=Mr({mediaFile:{codec:o,width:t.width,height:t.height},abFlags:{disableVp8:"TRUE"===Ec.getFlagValueAndActivateTestId("DISABLE_VP8_CODECS"),enableH265:!0===LA,disableVp9:VA,disable144p:!0===DA}});return n||void 0}function Fr(e){let{mediaFileSize:i,slotSize:r}=e;if(!i)return{reason:"unknownVideoContentSize",value:Gl.videoPixelRatio};let{width:o,height:n}=i;if(s(o)&&(o=Number(o),FA()),s(n)&&(n=Number(n),FA()),!t(o)||!t(n))return{reason:"hasIncorrectWidthAndOrHeight",value:1e3};if(o<0||n<0)return{reason:"incorrect",value:Gl.videoPixelRatio};if(0===n||0===r.height)return{reason:"incorrect",value:Gl.videoPixelRatio};if(0===o||0===r.width)return{reason:"incorrect",value:Gl.videoPixelRatio};const a=o/n;return{reason:"normal",value:r.width/r.height>a?n/r.height:o/r.width}}function Hr(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&A(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&A(t.prototype.appendBuffer)&&A(t.prototype.remove))}(e)?t:void 0}function zr(e){let{type:t}=e;return WA||GA?!WA&&GA?"noMse":WA&&!GA?"noFetch":h(t)?-1===t.toLowerCase().indexOf(BA)?"isNotWebm":YA?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function jr(e,t,i){return e>i?i:e<t?t:e}function Yr(e,t){if(e<=t)return 0;if(t>=KA)return 1;return(jr(e,t,KA)-t)/(KA-t)}function Wr(e,t){const{value:o,reason:n}=Fr({mediaFileSize:e,slotSize:t.container}),a=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i}}=e;return t-i}({videoPixelRatio:o,opts:t}),s=Math.abs(a),l=function(e){let{bitrate:t,desiredBitrate:o}=e;if(!i(t))return 1;if(i(o))return Yr(t,o);const n=navigator;if(r(n)&&r(n.connection)){const{downlink:e}=n.connection;if(i(e))return Yr(t,1e3*e)}}({bitrate:e.bitrate,desiredBitrate:t.desiredBitrate}),d=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:r,hls:o,unknown:n,unset:a}}=e;if(!h(t))return a;const s=t.toLowerCase();return s===BA?i:"video/mp4"===s?r:pr(t)?o:n}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),c=function(e,t){return t.isVideoADB?void 0===zr(e)?0:1:0}(e,t);return{videoPixelRatio:o,videoPixelRatioReason:n,videoPixelRatioSolution:s,mediaFileTypePrioritySolution:d,adbCompatibilitySolution:c,bitrateCappingSolution:l}}function Gr(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:r,url:o,maxBitrate:n,minBitrate:a,vmafAvg:l,hasAudio:d}=e;let{width:c,height:u,bitrate:p}=e;if(c=null===c?void 0:c,u=null===u?void 0:u,p=null===p?void 0:p,void 0===p||i(p)||ZA(e),void 0===l||i(l)||e_(e),void 0===r||h(r)||JA(e),void 0===c&&void 0===u||i(c)&&i(u)||$A(e),(void 0!==a||void 0!==n)&&(!i(a)||!i(n)||a>=n))return"invalidMinMaxBitrate";if("string"!==typeof o)return"invalidUrl";if(!o.trim())return"emptyUrl";if(void 0!==t){if(!s(t))return"invalidType";0===t.trim().length&&t_(e)}return void 0!==d&&"boolean"!==typeof d&&QA(e),{type:t,codec:r,url:o,width:c,height:u,bitrate:p,maxBitrate:n,minBitrate:a,vmafAvg:l,hasAudio:d}}function Xr(){return Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xr.apply(this,arguments)}function qr(e,t,r){const o=Date.now(),n=[],a=[],l=[];for(const i of e){const e=Gr(i);if(s(e))n.push({mediaFile:i,reason:e});else{const i=e,r=Ur({mediaFile:i,canPlayType:t.canPlayType});s(r)?a.push({mediaFile:i,reason:r}):l.push(i)}}const d=nu(l,(e=>Wr(e,t))),c=i(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",u=nu(d,(e=>{let{videoPixelRatioSolution:t,mediaFileTypePrioritySolution:i,adbCompatibilitySolution:r,bitrateCappingSolution:o}=e;return t+i+r+(void 0===o?0:o*r_)})),h=nu(u,((e,t)=>Xr({},l[t],d[t],{prioritySolution:e}))),p=cr(h,(e=>{let{prioritySolution:t}=e;return t}));let m,A;var _;(ou("prioritisedMediaFiles=["+JSON.stringify(h)+"]"),ou("invalidMediaFiles=["+JSON.stringify(n)+"]"),ou("notPlayableMediaFiles=["+JSON.stringify(a)+"]"),p)&&(m=Lr(p.codec),A=null==(_=p.type)?void 0:_.split("/")[1]);const{adBreak:v,adPodId:g,initiator:f}=r;return yu.log({name:"PrioritiseMediaFiles",data:{adBreak:v,adPodId:g,initiator:f,input:Xr({},t,{dpr:Rr(window)}),output:{invalidMediaFiles:ip(n),notPlayableMediaFiles:ip(a),mediaFiles:ip(h),mediaFile:p?Xr({},p):void 0,methodType:c}},values:{timeSpent:Date.now()-o},sensors:{initiator:f,method:c,type:L(["webm","mp4","m3u8"],A)?A:"unknown",codec:L(["vp8","vp9","avc","hvc"],m)?m:"unknown"},probability:1}),{prioritisedMediaFile:p,invalidMediaFiles:n,notPlayableMediaFiles:a,playableMediaFiles:h}}function Kr(){return Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Kr.apply(this,arguments)}function Zr(e){for(const{width:t,height:r}of e){const e=Number(t),o=Number(r);if(i(e)&&i(o))return{width:e,height:o}}}function Jr(e,t){return ic(Pi(e,t),(e=>"js"===Pe(e)))}function Qr(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:-1===i?1:-1===r?-1:i-r}))}function $r(e){return function(e){return void 0===e?"Inline":Te(e)?"AdFox":Se(e)?"Yandex":""}(e)+"WrapperVASTLoaded"}function eo(e){const{adParametersObject:t}=e;return Oe(null==t?void 0:t.theme)}function to(e){return"number"===typeof e.repeatNumber}function io(){return io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},io.apply(this,arguments)}function ro(e){var t;let{adConfig:i,adBreak:r,adPlacementOptions:o,win:n}=e;const a=r.adFoxParameters||i.adFoxParameters;var s;if(a)return async function(e){return new Tm(e).loadVastPromise}({adConfig:io({},i,{adFoxParameters:a,wrapperMaxCount:null!=(s=i.wrapperMaxCount)?s:3}),adBreakType:r.adType,adPlacementOptions:o,win:n});const{loadHarmlessVastCallback:l}=i,d=i.hasOwnProperty("vast")?i.vast:void 0,c=r.inlineVast,u=vc.isDebugEnabled?(()=>{if(!vc.isDebugEnabled)return;const e=C_();if(null==e||!e.getVast)return;const t=e.getVast();return yu.log({name:"LoadInlineTestUtilsVast",data:{vast:t},probability:1}),t})():void 0,h=null!=(t=null!=u?u:d)?t:c;if(h)return em({xmlString:h,loadParameters:be({adConfig:i,adBreakType:r.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,adPlacementOptions:o}),vastUrl:void 0}).then((e=>(l&&0===e.children.length&&l({adPods:nu(e.ads,(e=>{var t;return{clickThroughUrl:null!=(t=e.clickUrlData.vastClickUrl)?t:""}}))}),e)));const p=i.vastUrl?i.vastUrl:tr({adConfig:i,adTagURI:r.adTagURI,sessionId:r.sessionId,repeatNumber:to(r)?r.repeatNumber:void 0,adPlacementOptions:o,win:n});return Qp({url:p,loadParameters:be({adConfig:i,adBreakType:r.adType,remainingLoadWrapperVastCount:3,isAdFox:!1,url:p,adPlacementOptions:o})})}async function oo(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await ro(e)}catch(d){throw se(d)||(d.details||(d.details={}),d.details.adConfig=t),Nt(d),d}const o=[];for(const c of r.ads)try{var n;const e=c.mediaFiles[0],i=null!=(n=null==e?void 0:e.url)?n:"",r={interactiveViewerCreativeSrc:(a=i,Sm(a)===Iu),motionCreativeSrc:Yi(i),themeEmpty:qi(c),clickableVideo:ji(c),survey:Xi(c),surveyAdCreative:Gi(c),videoVastAd:Oi({secureMode:t.secureMode,vastAd:c}),isOldCpcVpaidVastAd:eo(c)},s=mu(Zt(r),(e=>e));if(Boolean(e)&&s){const{vastAd:e,reason:i}=zi({secureMode:t.secureMode,vastAd:c});yu.log({name:i,data:{next:e,yandexVastCriteria:r},sensors:{source:"vastLoader"}}),o.push(e)}else o.push(c)}catch(d){yu.error({error:d})}var a;if(r.children.length>0){const e=no(r);yu.log({name:$r(r.url),data:e,probability:1})}const s=nu(o,(e=>(e.vast=r,new b_(i,e,t,yu)))),l=Qr(s);if(0===l.length)throw new Zc({code:"NO_AD_SECTION",details:{reason:"no-media-ad"}});if(fc(l,(e=>e.hasMediaFiles())).length>0)return{mediaAds:l,vast:r};if(function(e){return mu(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(l)){const e=Em(nu(s,(e=>e.vastAd.mediaFiles)));throw new Zc({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Zc({code:"NO_AD_TO_DISPLAY",details:void 0})}function no(e){return{children:nu(e.children,(e=>no(e))),url:e.url,xmlString:e.xmlString}}function ao(e,t){return fc(e,(e=>e.adType===t))}function so(e,t){const i=function(e,t){const i={};return Be(e).forEach((r=>{i[r]=t(e[r],r)})),i}(t,((t,i)=>e.style[i]));return Le(e,t),re((()=>{Le(e,i)}))}function lo(e){const t=e.getRootNode;if(A(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function co(e){return!!e&&"ShadowRoot"===Jl(e)}function uo(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=lo(i);if(!co(e)||!P_(e.host))return!1;i=e.host}return!1}function ho(){return ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ho.apply(this,arguments)}function po(){return po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},po.apply(this,arguments)}function mo(e,t,i){const r=()=>nu(e,(e=>e.getValue()));let o=t(...r());i(o);const n=()=>{const e=t(...r());o!==e&&(o=e,i(e))},a=nu(e,(e=>e.add(n)));return()=>{G(a)}}function Ao(e,t){if(!t)return;if(!function(e){return L(Q_,e)}(e))return;const i=c(t);for(const r of i){const t=$_[r][e];yu.log({name:t,data:void 0})}}function _o(e,t){let{width:i,height:r}=e;const o=nu([i,r],(e=>Math.round(e))),n=Math.min(...o),a=Math.max(...o);return t?n>=160&&a*n>=48e3:n>=180&&a*n>=57600}function vo(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||!M(t.querySelector))&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=Re({element:e,eventName:"mouseenter",listener:()=>{i||(i=!0,t(!0))}}),o=Re({element:e,eventName:"mouseleave",listener:()=>{i&&(i=!1,t(!1))}});return()=>{r(),o()}}function go(){return go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},go.apply(this,arguments)}function fo(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return fc(av,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(r=e.HTMLVideoElement)?void 0:r.prototype)?i:{}),fc(av,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return r.length>0?r[0]:void 0}function yo(e,t){const i=fo(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function To(e,t){const i=yo(e);return!!i&&i.contains(t)}function Eo(e){const{videoWidth:t,videoHeight:r}=e;if(i(t)&&i(r))return{width:t,height:r}}function So(e){const i=[];if(!e)return i;if(!e.buffered)return i;if(!t(e.buffered.length)||!M(e.buffered.start)||!M(e.buffered.end))return i;for(let t=0;t<e.buffered.length;t++)i.push({start:e.buffered.start(t),end:e.buffered.end(t)});return function(e){if(e.length<=1)return e;const t=nu(e,(e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],o=i[i.length-1];o.end<e.start?i.push(e):o.end<e.end&&(o.end=e.end)}return i}(i)}function bo(e){let{win:r,slotSize:o,slotVisibilityRatio:a,adPodId:s,videoNode:l,bufferingTime:d,adBreakType:c,adFormatType:u,productType:h}=e;const p=function(e){void 0===e&&(e=window);if(void 0===e.screen)return nv;const{width:t=nv.width,height:i=nv.height}=e.screen;return{width:t,height:i}}(r),m=p.width*p.height,A=o.width*o.height,_=0===m?0:A/m,v=Rr(r),g=function(e){var t;void 0===e&&(e=window);const{navigator:i={}}=null!=(t=e)?t:{},{connection:r={}}=i;if("number"===typeof r.downlink)return r.downlink;if("number"===typeof r.downlinkMax)return r.downlinkMax;const o=r.type;if("string"===typeof o||"number"===typeof o)switch(o){case"BLUETOOTH":return 3;case dv:return.384;case cv:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case sv:case"ETHERNET":case lv:case"WIFI":case"MIXED":return 10}return-1}(r),f=l?Eo(l):void 0,y=function(e){let{slotSize:t,videoContentSize:i}=e;const r=void 0===i?t.width/t.height:i.width/i.height,o=t.width/t.height>r,n=o?t.height*r:t.width/r,a=o?t.height:t.width;return{adjacentSize:n,innerSize:a,extraHorizontalSpace:o,width:o?n:a,height:o?a:n}}({slotSize:o,videoContentSize:f});let T=Gl.videoFramesInfo,E=Gl.videoSrc,S=Gl.videoCurrentSrc,b=Gl.videoMuted,C=Gl.videoVolume,P=Gl.currentTime,O=Gl.bufferingTimeRatio,w=Gl.remainingBufferedTime,I=Gl.isFullscreen;l&&(T=n(l),E=l.src,S=l.currentSrc,b=l.muted,C=l.volume,P=l.currentTime,w=uv(l),t(P)&&t(d)&&d+P>0&&(O=d/(d+P)),I=To(r,l));const{value:N}=Fr({mediaFileSize:f,slotSize:o});let D=Gl.videoToDevicePixelRatio;return i(N)&&(D=N/v),{visibility:a,size:o,adPodId:s,relativeSizeRatio:_,screenSize:p,devicePixelRatio:v,downlink:g,videoContentSize:f,videoAvatarSize:y,videoPixelRatio:N,videoToDevicePixelRatio:D,videoFramesInfo:T,videoSrc:E,videoCurrentSrc:S===E?void 0:S,videoMuted:b,videoVolume:C,bufferingTime:d,currentTime:P,bufferingTimeRatio:O,remainingBufferedTime:w,adBreakType:c,adFormatType:u,isFullscreen:I,productType:h}}function Co(e){return function(e,t){let i=e;return $l(pe(t),(r=>{let[o,n]=r;if(void 0===n)return;const a="["+o+"]";if(n!==a)for(;i.indexOf(a)>-1;)yu.log({name:"ReplaceVastMacro",data:{macroName:o,macroValue:n,stringToReplace:e,macros:t}}),i=i.replace(a,n)})),i}(e,pv)}function Po(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const o=fc(t,ti),n=nu(o,Co),a=nu(n,(e=>Je({url:e,options:i,win:window})));$l(a,(e=>wt(e,r)))}function Oo(e){return $l(c(G_),(t=>{const i=G_[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){yu.error({error:new Zc({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else yu.error({error:new Zc({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),$l(c(X_),(t=>{const i=X_[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(o){yu.error({error:new Zc({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else yu.error({error:new Zc({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})})),e}function wo(){return wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wo.apply(this,arguments)}function Io(){return Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Io.apply(this,arguments)}function No(){return No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},No.apply(this,arguments)}function Do(){return Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Do.apply(this,arguments)}function ko(e){return Array.isArray(e)?fc(e,(e=>"string"===typeof e&&e.length>0)):[]}function Ro(e,t){const i=e[t],{AUCTION_DC_PARAMS:o}=e,n=function(e){if(!r(e))return;const{data_params:t}=e;if(!r(t))return;const{misc:i}=t;if(!r(i))return;const{object_id:o}=i,n=t[o];return r(n)?n:void 0}(o),a=null==n?void 0:n[t],s=null==n?void 0:n.unmoderated;return{rootField:i,bannerParametersField:a,unmoderatedBannerParametersField:r(s)?s[t]:void 0}}function Vo(e){const t=[],i=[];if(!r(e))return void 0!==e&&t.push(new Zc({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t,events:i};return{measurers:yt(e,((o,n)=>n!==Ov&&(r(o)?!!function(e){return e===Ov||-1!==Pv.indexOf(e)}(n)||(i.push({name:"UnsupportedMeasurer",data:{measurerName:n,measurersParameters:e}}),!1):(t.push(new Zc({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:n,measurersParameters:e}})),!1)))),errors:t,events:i}}function Lo(){return Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Lo.apply(this,arguments)}function Bo(e){return r(e)?$(wv,((t,i)=>ko(e[i]))):ip(wv)}function xo(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!r(i)&&"sad"===i.sad}function Mo(e){if(!e)return{parameters:void 0,errors:[new Zc({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})],events:[]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new Zc({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})],events:[]}}const{viewability:i,encounters:r,dwell:o,start:n,trackingEvents:a,viewedComplete:s}=t,{measurers:l,errors:d,events:u}=function(e){const t=[],i=[],{rootField:r,bannerParametersField:o,unmoderatedBannerParametersField:n}=Ro(e,"measurers");Boolean(n)&&t.push(new Zc({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:a,errors:s,events:l}=Vo(n),{measurers:d,errors:u,events:h}=Vo(o),{measurers:p,errors:m,events:A}=Vo(r);return t.push(...s,...u,...m),i.push(...l,...h,...A),Rd([a,d,p],((e,t)=>{const i=c(t).length>0;return e+Number(i)}),0)>1&&t.push(new Zc({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Lo({},a,d,p),errors:t,events:i}}(t);return{parameters:{measurers:l,viewability:Bo(i),dwell:Bo(o),trackingEvents:gt(vt(a),{encounters:ko(r),viewedComplete:ko(s),start:ko(n)}),skipAdSdkDetect:xo(t)},errors:d,events:u}}function Uo(e){return e<2?1e3:2===e?3e3:5e3}function Fo(e,t,i){let r;const o=new yc,n=mo(e,t,(e=>{r=e,o.dispatch(e)})),a=new Uu(r,i),s=o.add(a);return{valueSignal:a,teardown:()=>{s(),n()}}}function Ho(){return Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ho.apply(this,arguments)}function zo(e,t,i){void 0===i&&(i={});const r=e,{onStop:o=X,onInitMeasurer:n=X,onTrackEvent:a=X,onExecutionError:s=X,onAdError:l=X,onPlayingStateChange:d=X,onSlotHoverStateChange:u=X}=i,h=new Nv(r,t,{onStop:o,onInitMeasurer:n,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d,onSlotHoverStateChange:u}),p=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const o=$(Y_,((e,t)=>function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i(t,r)}));return $l(c(W_),(t=>{Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})})),o}(r,h);return{measurableVPAIDCreative:p,userInteractionDispatchers:h.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:h.vpaidCreativeProxyForMeasurers}}function jo(){return jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},jo.apply(this,arguments)}function Yo(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:o,downlink:n,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoContentSize:c,videoAvatarSize:u,videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,videoCurrentSrc:_,videoMuted:v,videoVolume:g,bufferingTime:f,bufferingTimeRatio:y,currentTime:T,remainingBufferedTime:E,adBreakType:S,adFormatType:b,isFullscreen:C,adPodId:P,productType:O},pixelsSource:w}=e;const I=kv[t],N=void 0===I?1:I+1;kv[t]=N;const D={videoContentSize:c,videoAvatarSize:{width:Math.round(u.width),height:Math.round(u.height)},videoPixelRatio:h,videoToDevicePixelRatio:p,videoFramesInfo:m,videoSrc:A,bufferingTime:f,bufferingTimeRatio:y,currentTime:T,remainingBufferedTime:E},k={devicePixelRatio:o,downlink:n,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoCurrentSrc:_,videoMuted:v,videoVolume:g,adBreakType:S,adFormatType:b,isFullscreen:C,adPodId:P,productType:O},{values:R,sensors:V,dailySensors:B}=i,x=jo({trackingUrls:r,isVisibilityReliable:ep(),counterInBundle:N},D,k);1e3===N&&yu.error({error:new Zc({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:jo({eventName:t,eventTrackingsCounts:kv},x)})});const M="vast"===w?(e=>"VastTracking_"+e)(t):(e=>"AdParametersTracking_"+e)(t),U="vast"===w&&L(Dv,t)?1:Bc,F={data:x,values:R,sensors:V,dailySensors:B};yu.log(jo({name:M,probability:U},F))}function Wo(e){return!!r(e)&&jc(e)}function Go(e,t){const i=Re({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(o(),t())}}),r=Re({element:e,eventName:"playing",listener:()=>{e.duration>0&&(o(),t())}}),o=()=>{i(),r()};return o}function Xo(){return Xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xo.apply(this,arguments)}function qo(e){const t=new Fv(e),i=Oo(t),{measurableVPAIDCreative:r,userInteractionDispatchers:o}=zo(i,e,{onStop:e=>{let{error:t,reason:i}=e;t?yu.error({error:t}):yu.log({name:"AdCreativeMeasured",data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=J_[e.measurerName];yu.log({name:t,data:void 0})}(e)},onTrackEvent:e=>{Yo(e)},onExecutionError:e=>{yu.error({error:e})},onAdError:e=>{let{error:t}=e;yu.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:o}}function Ko(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Zo(e){return Boolean(e.IntersectionObserver)&&!l(e.IntersectionObserver)}function Jo(e){var t,i,r,o,n,a,s,l;const d=null!=(t=null!=(i=null!=(r=null!=(o=e.requestAnimationFrame)?o:e.mozRequestAnimationFrame)?r:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,16.666666666666668),c=null!=(n=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?n:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function Qo(e,t){for(var i in t)e[i]=t[i];return e}function $o(e){var t=e.parentNode;t&&t.removeChild(e)}function en(e,t,i){var r,o,n,a={};for(n in t)"key"==n?r=t[n]:"ref"==n?o=t[n]:a[n]=t[n];if(arguments.length>2&&(a.children=arguments.length>3?Xv.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===a[n]&&(a[n]=e.defaultProps[n]);return tn(e,a,r,o,null)}function tn(e,t,i,r,o){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Kv:o};return null!=qv.vnode&&qv.vnode(n),n}function rn(e){return e.children}function on(e,t){this.props=e,this.context=t}function nn(e,t){if(null==t)return e.__?nn(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?nn(e):null}function an(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return an(e)}}function sn(e){(!e.__d&&(e.__d=!0)&&Zv.push(e)&&!ln.__r++||Qv!==qv.debounceRendering)&&((Qv=qv.debounceRendering)||Jv)(ln)}function ln(){for(var e;ln.__r=Zv.length;)e=Zv.sort((function(e,t){return e.__v.__b-t.__v.__b})),Zv=[],e.some((function(e){var t,i,r,o,n,a;e.__d&&(n=(o=(t=e).__v).__e,(a=t.__P)&&(i=[],(r=Qo({},o)).__v=o.__v+1,_n(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[n]:null,i,null==n?nn(o):n,o.__h),vn(i,o),o.__e!=n&&an(o)))}))}function dn(e,t,i,r,o,n,a,s,l,d){var c,u,h,p,m,A,_,v=r&&r.__k||tg,g=v.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?tn(null,p,null,null,p):Array.isArray(p)?tn(rn,{children:p},null,null,null):p.__b>0?tn(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=v[c])||h&&p.key==h.key&&p.type===h.type)v[c]=void 0;else for(u=0;u<g;u++){if((h=v[u])&&p.key==h.key&&p.type===h.type){v[u]=void 0;break}h=null}_n(e,p,h=h||eg,o,n,a,s,l,d),m=p.__e,(u=p.ref)&&h.ref!=u&&(_||(_=[]),h.ref&&_.push(h.ref,null,p),_.push(u,p.__c||m,p)),null!=m?(null==A&&(A=m),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=cn(p,l,e):l=un(e,p,h,v,m,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=nn(h))}for(i.__e=A,c=g;c--;)null!=v[c]&&("function"==typeof i.type&&null!=v[c].__e&&v[c].__e==i.__d&&(i.__d=nn(r,c+1)),yn(v[c],v[c]));if(_)for(c=0;c<_.length;c++)fn(_[c],_[++c],_[++c])}function cn(e,t,i){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?cn(o,t,i):un(i,o,o,e.__k,o.__e,t));return t}function un(e,t,i,r,o,n){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||o!=n||null==o.parentNode)e:if(null==n||n.parentNode!==e)e.appendChild(o),a=null;else{for(s=n,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==o)break e;e.insertBefore(o,n),a=n}return void 0!==a?a:o.nextSibling}function hn(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||ig.test(t)?i:i+"px"}function pn(e,t,i,r,o){var n;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)i&&t in i||hn(e.style,t,"");if(i)for(t in i)r&&i[t]===r[t]||hn(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])n=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?r||e.addEventListener(t,n?An:mn,n):e.removeEventListener(t,n?An:mn,n);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function mn(e){this.l[e.type+!1](qv.event?qv.event(e):e)}function An(e){this.l[e.type+!0](qv.event?qv.event(e):e)}function _n(e,t,i,r,o,n,a,s,l){var d,c,u,h,p,m,A,_,v,g,f,y=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,n=[s]),(d=qv.__b)&&d(t);try{e:if("function"==typeof y){if(_=t.props,v=(d=y.contextType)&&r[d.__c],g=d?v?v.props.value:d.__:r,i.__c?A=(c=t.__c=i.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(_,g):(t.__c=c=new on(_,g),c.constructor=y,c.render=Tn),v&&v.sub(c),c.props=_,c.state||(c.state={}),c.context=g,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Qo({},c.__s)),Qo(c.__s,y.getDerivedStateFromProps(_,c.__s))),h=c.props,p=c.state,u)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&_!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(_,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(_,c.__s,g)||t.__v===i.__v){c.props=_,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(_,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,m)}))}c.context=g,c.props=_,c.state=c.__s,(d=qv.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=Qo(Qo({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(m=c.getSnapshotBeforeUpdate(h,p)),f=null!=d&&d.type===rn&&null==d.key?d.props.children:d,dn(e,Array.isArray(f)?f:[f],t,i,r,o,n,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),A&&(c.__E=c.__=null),c.__e=!1}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=gn(i.__e,t,i,r,o,n,a,l);(d=qv.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=n)&&(t.__e=s,t.__h=!!l,n[n.indexOf(s)]=null),qv.__e(e,t,i)}}function vn(e,t){qv.__c&&qv.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){qv.__e(e,t.__v)}}))}function gn(e,t,i,r,o,n,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,m=0;if("svg"===p&&(o=!0),null!=n)for(;m<n.length;m++)if((l=n[m])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,n[m]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),n=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(n=n&&Xv.call(e.childNodes),d=(u=i.props||eg).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=n)for(u={},m=0;m<e.attributes.length;m++)u[e.attributes[m].name]=e.attributes[m].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,r,o){var n;for(n in i)"children"===n||"key"===n||n in t||pn(e,n,null,i[n],r);for(n in t)o&&"function"!=typeof t[n]||"children"===n||"key"===n||"value"===n||"checked"===n||i[n]===t[n]||pn(e,n,t[n],i[n],r)}(e,h,u,o,s),c)t.__k=[];else if(m=t.props.children,dn(e,Array.isArray(m)?m:[m],t,i,r,o&&"foreignObject"!==p,n,a,n?n[0]:i.__k&&nn(i,0),s),null!=n)for(m=n.length;m--;)null!=n[m]&&$o(n[m]);s||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===p&&!m)&&pn(e,"value",m,u.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&pn(e,"checked",m,u.checked,!1))}return e}function fn(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){qv.__e(e,i)}}function yn(e,t,i){var r,o;if(qv.unmount&&qv.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){qv.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&yn(r[o],t,"function"!=typeof e.type);i||null==e.__e||$o(e.__e),e.__e=e.__d=void 0}function Tn(e,t,i){return this.constructor(e,i)}function En(e,t,i){var r,o,n;qv.__&&qv.__(e,t),o=(r="function"==typeof i)?null:i&&i.__k||t.__k,n=[],_n(t,e=(!r&&i||t).__k=en(rn,null,[e]),o||eg,eg,void 0!==t.ownerSVGElement,!r&&i?[i]:o?null:t.firstChild?Xv.call(t.childNodes):null,n,!r&&i?i:o?o.__e:t.firstChild,r),vn(n,e)}function Sn(e,t){var i={__c:t="__cC"+$v++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(sn)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function bn(e,t){qv.__h&&qv.__h(og,e,ag||t),ag=0;var i=og.__H||(og.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Cn(e){return ag=1,function(e,t,i){var r=bn(rg++,2);return r.t=e,r.__c||(r.__=[i?i(t):Bn(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=og),r.__}(Bn,e)}function Pn(e,t){var i=bn(rg++,3);!qv.__s&&Ln(i.__H,t)&&(i.__=e,i.__H=t,og.__H.__h.push(i))}function On(e,t){var i=bn(rg++,4);!qv.__s&&Ln(i.__H,t)&&(i.__=e,i.__H=t,og.__h.push(i))}function wn(e){return ag=5,In((function(){return{current:e}}),[])}function In(e,t){var i=bn(rg++,7);return Ln(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function Nn(e,t){return ag=8,In((function(){return e}),t)}function Dn(e){var t=og.context[e.__c],i=bn(rg++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(og)),t.props.value):e.__}function kn(){sg.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Rn),e.__H.__h.forEach(Vn),e.__H.__h=[]}catch(Kv){e.__H.__h=[],qv.__e(Kv,e.__v)}})),sg=[]}function Rn(e){var t=og;"function"==typeof e.__c&&e.__c(),og=t}function Vn(e){var t=og;e.__c=e.__(),og=t}function Ln(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function Bn(e,t){return"function"==typeof t?t(e):t}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xn.apply(this,arguments)}function Mn(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Mn(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Un(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=Mn(e))&&(r&&(r+=" "),r+=t);return r}function Fn(e){const[t,i]=Cn(e.getValue());return Pn((()=>(i(e.getValue()),e.add(i))),[e]),t}function Hn(e,t){var i;const r=(null!=(i=e.ownerDocument)?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function zn(e){const t=Dn(yg);On((()=>Sg.useStyleModule(t,e)),[e])}function jn(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Yn.apply(this,arguments)}function Wn(e){var t,i,o;const n=[gc],a=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(o=i.data_params)?void 0:o.misc;if(r(a)){const{object_id:e="",pageId:t="",impId:i="",campaignid:r="",bidreqid:o=""}=a;n.push(e,t,i,r,o)}return n.join()}function Gn(e){return void 0===e&&(e=window),String(e.location)}function Xn(e){if(!r(e))return!1;if(!h(e.vendor))return!1;if(!h(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!h(t)&&!r(t))&&!(void 0!==e.trackingEvents&&!r(e.trackingEvents))}function qn(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Xn(t))return!1;return!0}function Kn(e){return fc(e,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(Zg.has(e.hostname))return!0}catch(eg){yu.error({error:new Zc({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:eg.message,javaScriptResource:t}})})}const r=i.verificationNotExecuted;return h(r)&&wt(r.replace("[REASON]","1")),yu.log({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)},probability:1}),!1}))}function Zn(){return Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Zn.apply(this,arguments)}function Jn(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:Ug,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const o=function(e,t){return nu(e,(e=>Zn({},e,{accessMode:t})))}(e.adVerifications,i),n=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:o,unmoderatedBannerParametersField:n}=Ro(e,"measurers"),a=r(i)&&i.omid,s=r(o)&&o.omid,l=r(n)&&n.omid,d=fc([a,s,l],Boolean);if(0===d.length)return[];const c=fc(d,qn);d.length!==c.length&&yu.error({error:new Zc({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const u=c.shift();if(!Array.isArray(u))return[];return nu(u,(e=>{let{vendor:i,javaScriptResource:r,trackingEvents:o,verificationParameters:n}=e;return{vendorKey:i,javaScriptResource:r,trackingEvents:null!=o?o:{},verificationParameters:h(n)?n:JSON.stringify(n),accessMode:t}}))}(e.adParametersObject,i),a=Kn([...o,...n]);return 0!==a.length?a:void 0}function Qn(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!Qg.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function $n(e,t,i){const r=ze(nu(pe(t),(e=>{let[t,i]=e;return[ef(t),i]})));return $g(e,r,i)}function ea(){return ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ea.apply(this,arguments)}function ta(){return ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ta.apply(this,arguments)}function ia(e){let{height:t,width:i}=e;const r=Math.min(t,i);if(r<300)return 40;if(r>1080)return 70;return 40+30*((r-300)/780)}function ra(e){let{height:t,width:i}=e;return.275*ia({height:t,width:i})}function oa(){if("undefined"===typeof qf){let t=null;try{t=Element.prototype.attachShadow}catch(e){}if(t&&l(t))qf=t;else{const e=document.createElement("iframe");e.style.setProperty("display","none"),document.body.appendChild(e);const t=Jc(e,"contentWindow.Element.prototype.attachShadow");qf=t&&l(t)?t:null,document.body.removeChild(e)}}return qf}function na(e,t){const i=function(e){const t=oa();return t&&t.bind(e)}(e);if(!M(i))return null;try{return i(t)}catch(r){return null}}function aa(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=na(e,{mode:"open"});if(!r)return null;const o=i.document.createElement("div");return r.appendChild(o),o}function sa(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;if(td(e)!==td(t))return!1;const i=c(e),o=c(t);if(i.length!==o.length)return!1;for(const r of o){if(!(r in e))return!1;if(!sa(e[r],t[r]))return!1}return!0}function la(e){return e.getIsConvertedFromVideoVast()?"video":De(e.vastAd)}function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},da.apply(this,arguments)}function ca(e){try{ou("Track event=["+e.eventName+"]"),Yo(e=da({},e,{options:ua(e.options)})),Po(e)}catch(t){yu.error({error:new Zc({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function ua(e){const{size:t,screenSize:i,videoContentSize:r}=e;return da({},e,{size:$(t,Math.round),screenSize:$(i,Math.round),videoContentSize:r&&$(r,Math.round)})}function ha(e,t){const i=function(e){const t=du(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Re({element:e,eventName:i,listener:()=>{t(ge(e))}}):X}function pa(){return pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pa.apply(this,arguments)}function ma(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:o,setterError:n}=t;const a=$(Y_,((t,o)=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if("function"===typeof e[o])try{return e[o].apply(e,n)}catch(s){i({methodName:o,args:n,error:s})}else r({methodName:o,args:n})}));return wi(W_,((t,i)=>{Object.defineProperty(a,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){o({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){n({propertyName:i,error:r,value:t})}}})})),a}(t,{methodCallError:e=>{let{methodName:t,args:o,error:n}=e;yu.error({error:new Zc(n,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:pa({methodName:t,args:o},r())})}),ee(n)},methodAbsent:e=>{let{methodName:t,args:o}=e;yu.error({error:new Zc({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:pa({methodName:t,args:o},r())})})},getterError:e=>{let{propertyName:t,error:o}=e;yu.error({error:new Zc(o,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:pa({propertyName:t},r())})}),ee(o)},setterError:e=>{let{propertyName:t,value:o,error:n}=e;yu.error({error:new Zc(n,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:pa({propertyName:t,value:o},r())})}),ee(n)}})}function Aa(e){"function"===typeof(null==e?void 0:e.catch)&&e.catch((()=>{}))}function _a(){return _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_a.apply(this,arguments)}function va(){return va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},va.apply(this,arguments)}function ga(e){const t=Ht(e);return jp(null==t?void 0:t.images)}function fa(e){const{adParametersObject:t}=e;if(!r(t))return;const o=t.packshot_duration;if(!i(o))return;const n=t.PACKSHOT_IMAGE_URL;if(!h(n))return;const a=e.clickUrlData.tgaOfferClickUrl;if(void 0===a)return;const{title:s}=Mt(t);return{packshotDuration:o,packshotImageUrl:n,packshotActionButtonClickUrl:a,packshotTitle:s,packshotButtonText:Ft(t)}}function ya(e,t){const{adParametersObject:i}=e;if(!r(i))return;const o=fa(e),n=null==o?void 0:o.packshotImageUrl;if(n)return n;const a=ga(i.adParameters);return 0!==a.length?(e=>{let{size:t,images:i}=e;const{width:r,height:o}=t,n=nu(i,(e=>{if(td(e)){const[t,i,r,o]=e;return{url:t,width:parseInt(i,10),height:parseInt(r,10),smartCenters:o?o["smart-centers"]:[]}}return e})),a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],r=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),o=[];for(const n of i)if(n.width&&n.height&&n.url){const t=va({},e,{pixelRatio:r,image:n});o.push(iy(t))}o.sort(((e,t)=>e.coeff-t.coeff));for(const n of o)if(n.coeff>1)return n;return null!=(t=o[o.length-1])?t:{}}({boundingRectangle:{width:r,height:o},images:n,stretch:!0});if(Boolean(a))return a.url;return})({size:t,images:a}):void 0}function Ta(e,t){return ry.indexOf(e)>=ry.indexOf(t)}function Ea(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(Ta(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return Ta(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function Sa(e){if(!Wi(e))return!1;const{adParametersObject:t}=e;return!!r(t)&&"theme-empty"===t.adCreativeConversionType}function ba(e){var t;if(!Sa(e))return;const i=gy(e);if(!r(i))return;const{adParametersObject:o,parsedParameters:n}=i;if(!r(o)||!r(n))return;const a=Yt(o);if(!a)return;const{greenUrl:s,targetUrl:l,hasTitle:d,title:c,hasBody:u,body:h,hasAgeRestriction:p,ageRestriction:m}=n,A=null==(t=e.assets.button)?void 0:t.caption;return{greenUrl:s,clickUrl:a,targetUrl:l,label:null!=A?A:Ft(o),title:!1===d?void 0:c,body:!1===u?void 0:h,ageRestriction:p?m:void 0}}function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ca.apply(this,arguments)}function Pa(e){const[t,i]=Cn(void 0),r=e instanceof HTMLElement?{current:e}:e;return On((()=>{if(null==r||!r.current)return;0;const e=new iv(r.current);return e.onResize.add((e=>i(e))),i(e.getSize()),()=>e.destroy()}),[null==r?void 0:r.current]),t}function Oa(e,t,i,r){if(!1===Cy)return new Intl.NumberFormat(i,{currency:t,style:"currency"}).format(e);try{return new Intl.NumberFormat(i,{currency:t,style:"currency",maximumFractionDigits:r}).format(e)}catch(eg){if(Ql(eg)&&(/maximumFractionDigits/.test(eg.message)||/invalid digits/.test(eg.message)))return Cy=!1,Oa(e,t,i);throw eg}}function wa(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M8.387 2.887a1.25 1.25 0 0 0-1.768-1.769L.62 7.116a1.25 1.25 0 0 0 0 1.768l5.998 5.998a1.25 1.25 0 0 0 1.768-1.769L6.62 11.347a12.498 12.498 0 0 0-2.198-1.75l-.934-.586.058-.058 1.2.171a12.5 12.5 0 0 0 1.767.126H18.75a1.25 1.25 0 0 0 0-2.5H6.513a12.5 12.5 0 0 0-1.768.126l-1.199.17-.058-.058.938-.588A12.5 12.5 0 0 0 6.62 4.652l1.766-1.765Z",fill:"currentColor"},[])])}function Ia(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M11.616 14.884a1.25 1.25 0 0 1-.003-1.771l1.766-1.765c.664-.663 1.4-1.25 2.195-1.748l.938-.588-.059-.059-1.199.171a12.5 12.5 0 0 1-1.767.126H10v.003H8.75V9.25h-7.5a1.25 1.25 0 1 1 0-2.5h12.237a12.5 12.5 0 0 1 1.767.126l1.2.17.057-.057-.934-.586a12.495 12.495 0 0 1-2.198-1.75l-1.766-1.766a1.25 1.25 0 0 1 1.768-1.769l5.998 5.998a1.25 1.25 0 0 1 0 1.768l-5.998 5.998a1.25 1.25 0 0 1-1.765.002Z",fill:"currentColor"},[])])}function Na(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"stroke-width":"2","stroke-linecap":"round",stroke:"currentColor",d:"m8 8 8 8m0-8-8 8"},[])])}function Da(e){var t;if(!Se(e)&&!Te(e)||!Pc)return e;const i=Nd[Nd.length-1];return function(e,t,i){if(void 0===i)return e;const r=N(e),o=k(r.search);return o[t]=i,D(I({},r,{search:R(o)}))}(e,"target_ref",(null!=(t=null==i?void 0:i.ownerDocument)?t:document).referrer)}function ka(){return ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ka.apply(this,arguments)}function Ra(e,t){const i=ip(Rp);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of Hy)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i}function Va(){const e=ip(Rp);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const o=fc(i,(e=>Boolean(e)));return Rd(o,((e,t)=>Ra(e,t)),e)}function La(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Yi(i.url)}(e))return!1;if(Xi(e)||Gi(e))return!1;if(Wi(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=p((()=>ar(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:r}=i;if(0===r.length)return!1;if(im(r,(e=>!1===e.hasAudio)))return!1}return!t||t.showSoundButton}function Ba(e){if(Xi(e)||Gi(e))return!1}function xa(e){const{imhoParams:t,serializablePlaybackParameters:i}=e,r={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:La(e),skip:true,play:Ba(e)}};let o;return i&&(o=i.controlsSettings),Va(r,o)}function Ma(e,t){const i=RA(e);return L(t,i)?i:void 0}function Ua(e){let{playbackParameters:r,vastAd:o,adBreakType:n,isYandexAdCreative:a}=e;const s=Va(xa(o),r.controlsSettings),{skipDelay:l,eventName:d}=function(e){var i,r;let{vastAd:o}=e;const{skipTime:n,skipOffset:a}=o,s=null==(i=o.adParametersObject)||null==(r=i.playbackParameters)?void 0:r.skipDelay;return t(s)?(yu.log({name:"UsingVastSkipDelayPlaybackParameter",data:{skipDelay:s}}),{skipDelay:s,eventName:void 0}):t(a)?t(n)?{skipDelay:n,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:a,eventName:void 0}:{skipDelay:0,eventName:void 0}}({vastAd:o});let c,u=l;if(i(l)){const e=Ec.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const i=Number(e);t(i)&&(u+=i)}}void 0!==d&&yu.log({name:d}),!0===r.backgroundBlur?c="blur":o.backgroundColor&&(c={color:o.backgroundColor});const h=!1===r.packshotSettings.isEnabled?void 0:fa(o);let p;"inpage"!==n&&(p=(e=>tT["preroll"===e?"preroll":"non_preroll"])(n));let m=5e3;p&&i(p.bufferFullTimeout)?m=p.bufferFullTimeout:i(r.bufferFullTimeout)?m=r.bufferFullTimeout:o.serializablePlaybackParameters&&i(o.serializablePlaybackParameters.bufferFullTimeout)?m=o.serializablePlaybackParameters.bufferFullTimeout:"inpage"!==n&&(m=Yy.bufferFullTimeout);let A,_,v=5;p&&i(p.bufferEmptyLimit)?v=p.bufferEmptyLimit:i(r.bufferEmptyLimit)?v=r.bufferEmptyLimit:o.serializablePlaybackParameters&&i(o.serializablePlaybackParameters.bufferEmptyLimit)?v=o.serializablePlaybackParameters.bufferEmptyLimit:"inpage"!==n&&(v=Yy.bufferEmptyLimit),A=p&&i(p.videoTimeout)?p.videoTimeout:i(r.videoTimeout)?r.videoTimeout:o.serializablePlaybackParameters&&i(o.serializablePlaybackParameters.videoTimeout)?o.serializablePlaybackParameters.videoTimeout:"inpage"===n?zy:Yy.videoTimeout,_=p&&i(p.vpaidTimeout)?p.vpaidTimeout:i(r.vpaidTimeout)?r.vpaidTimeout:o.serializablePlaybackParameters&&i(o.serializablePlaybackParameters.vpaidTimeout)?o.serializablePlaybackParameters.vpaidTimeout:"inpage"===n?jy:Yy.vpaidTimeout;const g=r.clickThroughUrl||o.clickUrlData.vastClickUrl||o.clickUrlData.tgaOfferClickUrl;let f=u;return!a&&t(r.skipDelayForNonYandexCreatives)&&(f=r.skipDelayForNonYandexCreatives),{controlsSettings:s,background:c,skipDelay:f,bufferFullTimeout:m,bufferEmptyLimit:v,videoTimeout:A,vpaidTimeout:_,clickThroughUrl:g,packshotParameters:h,packshotSettings:r.packshotSettings}}function Fa(e){if("error"===e.reason)return e.details}function Ha(){return Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ha.apply(this,arguments)}function za(e){const{config:i,errors:o}=function(e){const i=[],o=r(e)?e:{};let n,a,s;if(jc(o.backgroundSlot)?n=o.backgroundSlot:void 0!==o.backgroundSlot&&i.push(new Zc({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),void 0!==o.skipDelayForNonYandexCreatives&&(t(o.skipDelayForNonYandexCreatives)&&o.skipDelayForNonYandexCreatives>=0?a=o.skipDelayForNonYandexCreatives:i.push(new Zc({code:"INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT",details:{value:o.skipDelayForNonYandexCreatives,stringValue:String(o.skipDelayForNonYandexCreatives),type:typeof o.skipDelayForNonYandexCreatives}}))),r(o.adSequence)&&Rt(o.adSequence.index)&&Rt(o.adSequence.count)){const{index:e,count:t}=o.adSequence;s={index:e,count:t}}return{config:{backgroundSlot:n,clickThroughCallback:M(o.clickThroughCallback)?o.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof o.clickThroughConfirmation?o.clickThroughConfirmation:void 0,renderSkin:M(o.renderSkin)?o.renderSkin:void 0,visibilitySlot:jc(o.visibilitySlot)?o.visibilitySlot:void 0,retainLastMediaAfterPlayback:"boolean"===typeof o.retainLastMediaAfterPlayback?o.retainLastMediaAfterPlayback:void 0,enableInfinityPackshot:"boolean"===typeof o.enableInfinityPackshot?o.enableInfinityPackshot:void 0,skipDelayForNonYandexCreatives:a,disableSurveyCompleteScreen:"boolean"===typeof o.disableSurveyCompleteScreen?o.disableSurveyCompleteScreen:void 0,disableSurveyStartTimeout:"boolean"===typeof o.disableSurveyStartTimeout?o.disableSurveyStartTimeout:void 0,adSequence:s,enableNewSkin:!0===(null==o?void 0:o.enableNewSkin)},errors:i}}(e),{config:n,errors:a}=Ct(e);return{config:Ha({},i,n),errors:[...o,...a]}}function ja(e){let{width:t}=e;return t<iT?"small":t>1e3?"big":"middle"}function Ya(e){try{return(e.navigator||{}).userAgent||""}catch(eg){return""}}function Wa(e){const t=Ya(e).toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!(e=>e.navigator.userAgent.indexOf("UCBrowser")>-1)(e)}function Ga(e){if(Wa(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}function Xa(e,t){const i={};return Be(t).forEach((t=>{i[t]=e.getAttribute(t)})),xe(e,t),re((()=>{xe(e,i)}))}function qa(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===lT.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?X:Xa(e,{pip:"false"}):X}function Ka(e,t,i){const r=i.split(".");let o=e;for(let a=0;a<r.length-1;a++)o=o[r[a]];const n=r[r.length-1];if(void 0===o[n])o[n]=t;else if("object"===typeof o[n])for(const a in t)t.hasOwnProperty(a)&&Ka(e,t[a],i+"."+a)}function Za(e,t,i){e[i]||(e[i]={}),Ka(e,t,i)}function Ja(e,t){void 0===t&&(t=window);let i=X;const r=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},o=nu(dT,(e=>Re({element:t,eventName:e,listener:r})));return i=a((()=>{G(o)})),i}function Qa(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,o=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),n=o.shift();if(null==n||!n.startsWith("WEBVTT"))throw new Error('Must start with "WEBVTT"');const a=n.split("\n"),s=a[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===o.length&&1===a.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&a.length>1&&""!==a[1])throw new Error("Missing blank line after signature");const{cues:l,errors:d}=function(e,t){const i=[],r=fc(nu(e,((e,r)=>{try{return function(e,t,i){let r="",o=0,n=.01,a="",s="";const l=fc(e.split("\n"),Boolean);if(l.length>0&&l[0].trim().startsWith("NOTE"))return;if(1===l.length&&!ts(l[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(l.length>1&&!ts(l[0])&&!ts(l[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}l.length>1&&ts(l[1])&&(r=l.shift());if("string"!==typeof l[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const d=l[0].split(" --\x3e ");if(2!==d.length||!$a(d[0])||!$a(d[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(o=es(d[0]),n=es(d[1]),i){if(o>n)throw new Error("Start timestamp greater than end (cue #"+t+")");if(n<=o)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&n<o)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=d[1].replace(uT,"").trim(),l.shift(),a=l.join("\n"),!a)return;return{identifier:r,start:o,end:n,text:a,styles:s}}(e,r,t)}catch(eg){return void i.push(eg)}})),Boolean);return{cues:r,errors:i}}(o,r);if(r&&d.length>0)throw d[0];const u=i?function(e){const t={};return $l(e.slice(1),(e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),o=e.slice(i+1).trim();t[r]=o})),c(t).length>0?t:void 0}(a):void 0,h={valid:0===d.length,strict:r,cues:l,errors:d};return i&&(h.meta=u),h}function $a(e){return uT.test(e)}function es(e){const t=e.match(uT);if(null===t)throw new Error("Timestamp parse error");return 3600*parseFloat(t[1]||"0")+60*parseFloat(t[2])+parseFloat(t[3])}function ts(e){return-1!==e.indexOf("--\x3e")}function is(e,t){const{paused:i}=e,r=t();return i||Aa(e.play()),r}function rs(e,t,i,r){const o=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),n=gT?o:o.capture,a=o.once&&!_T?function(e){s(),i.call(this,e)}:i,s=()=>{AT(e,t,a,n)};return mT(e,t,a,n),s}function os(e,t,i){function r(){0!==a&&(clearTimeout(a),a=0)}let{threshold:o=fT,delay:n=yT}=void 0===i?{}:i,a=0,s=0,l=0;const d=rs(e,"click",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),c=rs(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,l=e.changedTouches[0].screenY,r(),a=window.setTimeout(r,n))}),{passive:!0}),u=rs(e,"touchend",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),h=rs(e,"touchmove",(function(e){if(0===a||!f(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(s-e)>o||Math.abs(l-t)>o})(t,i)&&r()}),{passive:!0});return()=>{d(),c(),u(),h()}}function ns(e){const t=e.duration||0;let i=(r=e.currentTime,o=.001,Math.round(r/o)*o||0);var r,o;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function as(){return as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},as.apply(this,arguments)}function ss(e){return e.muted?0:e.volume}function ls(e,t,i){if(!e)return NT;const r=IT(e.controlsVisibility),o=Boolean(t.abuseUrl);return{isCloseAvailable:r&&o,isCloseDialogActive:"selection"===i}}function ds(e,t){if(void 0===e)return;return!!DT[e]&&Boolean(t)}function cs(e){if(vc.VAS_USER_SESSION_RANDOM<=xc){const t=function(e,t){try{const i={hasMediaSourceConstructor:Boolean(zA),result:[]};return $l(e,(e=>{const{type:r,codec:o}=e,n=xA(e);i.result.push({method:"video.canPlayType",type:r,codec:o,result:Km(n,t)}),zA&&i.result.push({method:"MediaSource.isTypeSupported",type:r,codec:o,result:zA.isTypeSupported(n)})})),i}catch(i){return void yu.error({error:new Zc({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:i}})})}}(RT,e);t&&yu.log({name:"CodecPlayabilityCheck",data:t,probability:1})}}function us(){return us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},us.apply(this,arguments)}function hs(e){const t=xT(e);e.muted=!1,e.volume=1;if(e.allowedToPlay)return t(),"allowed";e.muted=!0,e.volume=0;return e.allowedToPlay?(t(),"muted"):(t(),"restricted")}function ps(e){if(!Wo(e))return{autoplayAbility:"allowed",detectionMethod:"FakeVideoElement"};const t=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(e);if(!t)return{autoplayAbility:"allowed",detectionMethod:"NoWinForVideoElement"};const i=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!r(i))return;const{isActive:o,hasBeenActive:n}=i;return{isActive:o,hasBeenActive:n}}(t);if(i&&i.hasBeenActive)return{autoplayAbility:"allowed",detectionMethod:"WindowHasBeenActive"};if("boolean"===typeof e.allowedToPlay)return{autoplayAbility:hs(e),detectionMethod:"YaBroAllowedToPlay"};if((e=>Ya(e).toLowerCase().indexOf("web0s")>-1)(t))return{autoplayAbility:"allowed",detectionMethod:"WebOSSmartTV"};if((e=>{const t=Ya(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"OrsaySmartTV"};if((e=>{const t=Ya(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1})(t))return{autoplayAbility:"allowed",detectionMethod:"PlayStationSmartTV"};if(e.isAVPlay)return{autoplayAbility:"allowed",detectionMethod:"TizenAVPlay"};if((e=>Ya(e).toLowerCase().indexOf("tizen")>-1)(t))return(e=>{const t=function(e){const t=Ya(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor})(t)?{autoplayAbility:"restricted",detectionMethod:"Tizen23SmartTV"}:{autoplayAbility:"allowed",detectionMethod:"TizenSmartTVModern"};return Wa(t)&&Ga(t)<=9?{autoplayAbility:"restricted",detectionMethod:"IOS9OrLess"}:void 0}function ms(e){let{adParametersObject:t}=e;const i=Ht(t);if(!i)return;const{showTitleAndBody:r}=i;return"boolean"===typeof r?r:void 0}function As(){return As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},As.apply(this,arguments)}function _s(e){return Rd(e,((e,t)=>e+t.getDuration()),0)}function vs(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,o=e.getBoundingClientRect();return{winWidth:tE?Math.max(r.clientWidth,(null==i?void 0:i.innerWidth)||0):(null==i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:tE?Math.max(r.clientHeight,(null==i?void 0:i.innerHeight)||0):(null==i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:o.left,top:o.top,width:o.width,height:o.height}}function gs(e){let{width:t,height:i,top:r,left:o,winWidth:n,winHeight:a}=e;const s=o+t,l=r+i,d=jr(o,0,n),c=jr(r,0,a);return{winWidth:n,winHeight:a,left:d,top:c,width:jr(s,d,n)-d,height:jr(l,c,a)-c}}function fs(e,t){return e.width*e.height/(t.width*t.height)}function ys(e){const t=function(e){return[vs(e),...nu(S(e),vs)]}(e);let i=gs(t[0]),r=fs(i,t[0]);for(let a=1;a<t.length;a++){const e=t[a];i=gs((o=i,{winWidth:(n=e).winWidth,winHeight:n.winHeight,left:o.left+n.left,top:o.top+n.top,width:o.width,height:o.height})),r=fs(i,t[0])}var o,n;return r}function Ts(){return Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ts.apply(this,arguments)}function Es(){return Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Es.apply(this,arguments)}function Ss(e,t,i,r,o){const n=SE(),a=PE(),s=fg(),{playingState:l}=IE(),[d,c]=Cn({largestSize:0,descriptionFontSize:0,descriptionLineHeight:0,horizontalMargin:0,verticalMargin:{top:0,bottom:0}});Pn((()=>{const e=ip(d),t=Math.max(s.width,s.height);e.largestSize=t;const{fontSize:i,lineHeight:r}=(e=>{if(e<360)return{fontSize:12,lineHeight:18};if(e<400)return{fontSize:14,lineHeight:20};if(e<480)return{fontSize:16,lineHeight:22};if(e<560)return{fontSize:18,lineHeight:24};if(e<640)return{fontSize:20,lineHeight:26};if(e<720)return{fontSize:22,lineHeight:28};if(e<800)return{fontSize:24,lineHeight:30};if(e<960)return{fontSize:26,lineHeight:32};if(e<1024)return{fontSize:28,lineHeight:34};return{fontSize:30,lineHeight:36}})(t);e.descriptionFontSize=i,e.descriptionLineHeight=r,e.horizontalMargin=(e=>{if(e<640)return 10;if(e<960)return 15;return 20})(t),e.verticalMargin=function(e,t){void 0===t&&(t=!0);if(e<480)return t?{top:40,bottom:98}:{top:40,bottom:64};if(e<960)return{top:40,bottom:116};if(e<1280)return{top:40,bottom:122};return{top:40,bottom:128}}(t,o),c(e)}),[s]);const[u,h]=Cn(!1),[p,m]=Cn({});Pn((()=>{const e=ip(p);d.largestSize&&(e["--ctat-largest-size"]=d.largestSize+"px",e["--ctat-description-font-size"]=d.descriptionFontSize+"px",e["--ctat-horizontal-margin"]=d.horizontalMargin+"%",e["--ctat-margin-top"]=d.verticalMargin.top+"px",e["--ctat-margin-bottom"]=d.verticalMargin.bottom+"px",m(e))}),[d]);const[A,_]=Cn(""),[v,g]=Cn("");Pn((()=>{let e=A;if(i.current){const t=le(i.current,i.current.ownerDocument.defaultView);e=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+(d.descriptionFontSize+2)+"px/"+d.descriptionLineHeight+"px "+t.fontFamily}_(e);let t=v;if(i.current){const e=le(i.current,i.current.ownerDocument.defaultView);t=e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+d.descriptionFontSize+"px/"+d.descriptionLineHeight+"px "+e.fontFamily}g(t)}),[d,i.current,r.current]);const[f,y]=Cn({"--ctat-animation-animation-drift-coef":"1","--ctat-animation-progress":"0","--ctat-animation-playing-state":"paused"});Pn((()=>{const i=Es({},f);if(!e||!t||!a)return void h(!1);h(!0);const{cssVars:r,totalAnimationDuration:o}=(e=>{const{duration:t}=e,i=100*jr(t/10,1,1),r=Ts({},e,{atomic100MSDuration:i}),o=(e=>{let{atomic100MSDuration:t,titleSplitResult:i,baseDelay:r}=e;const o=r,n=1.66*t,a=3,s=i.length,l=n*a*s,d=t+r,c=l+d,u=c+t+t*s,h=27*t,p=u+h;return{calculatedTitleAnimationDuration:p+t*s,calculatedTitleRevealAnimationDuration:l,titleAnimationDelayAfterEnlargement:h,titleAnimationDelayAfterReveal:d,titleAnimationEnlargementDelay:c,titleAnimationEnlargementDuration:t,titleAnimationEnlargementNextLineDelay:t,titleAnimationHideDelay:p,titleAnimationHideDuration:t,titleAnimationSingleLinePartsCount:a,titleAnimationShowDelay:o,titleAnimationTotalEnlargementDuration:u,titleLinesCount:s,titleSinglePartDuration:n}})(Ts({},r,{baseDelay:25*i})),n=o.calculatedTitleAnimationDuration,a=(e=>{let{bodySplitResult:t,atomic100MSDuration:i,baseDelay:r}=e;const o=t.length,n=8.2*i,a=r+n,s=3*i,l=.75*i,d=4.5*i,c=a+l+s;return{bodyAnimationEnlargementDelay:c,bodyAnimationEnlargementDuration:d,bodyAnimationShowDelay:a,bodyAnimationShowDuration:s,bodyLinesCount:o,bodyTotalAnimationTime:c+d*o,delayBeforeShowBody:n,showLineDelay:l}})(Ts({},r,{baseDelay:n})),s=a.bodyTotalAnimationTime;return{cssVars:NE(o,a),titleAnimationDuration:n,totalAnimationDuration:s,titleAnimationShowDelay:o.titleAnimationShowDelay,bodyAnimationShowDelay:a.bodyAnimationShowDelay}})({duration:a,bodySplitResult:t,titleSplitResult:e}),s=o*n;i["--ctat-animation-current-time"]=s+"ms","play"===l?i["--ctat-animation-playing-state"]="running":"pause"===l&&(i["--ctat-animation-progress"]=""+n,i["--ctat-animation-playing-state"]="paused"),y(Es({},r,i))}),[n,l,a,e,t]);return{isReadyToAnimate:u,containerStyle:Es({},p,f),titleFontStyle:A,bodyFontStyle:v}}function bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Cs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Ps(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function Os(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function Is(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Ns(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("g",{"clip-path":"url(#svg-bug-icon-jsx-inline-1RCLVi9)"},[en("path",{d:"M19.118 10.272h-2.353V6.971l1.47-1.44a.747.747 0 0 0 0-1.16.83.83 0 0 0-1.213 0l-1.507 1.406h-.478c0-2.635-2.243-4.777-5-4.777-2.794 0-5 2.142-5 4.777h-.588L2.94 4.372a.83.83 0 0 0-1.213 0 .747.747 0 0 0 0 1.159l1.507 1.44v3.301H.882c-.514 0-.882.386-.882.843 0 .492.368.843.882.843h2.353v.843c0 1.054.258 2.002.772 2.845l-1.985 1.931a.747.747 0 0 0 0 1.16.83.83 0 0 0 1.213 0l1.875-1.792c1.066.949 2.464 1.476 4.008 1.476h1.764c1.508 0 2.905-.527 3.97-1.476l1.876 1.791a.83.83 0 0 0 1.213 0 .747.747 0 0 0 0-1.159l-1.985-1.931a5.378 5.378 0 0 0 .809-2.845v-.843h2.353c.478 0 .882-.351.882-.843 0-.457-.404-.843-.882-.843Zm-9.081-7.586c1.764 0 3.235 1.405 3.235 3.09h-6.47c0-1.685 1.433-3.09 3.235-3.09Zm.845 14.049v-6.603c0-.211-.22-.422-.44-.422h-.883a.437.437 0 0 0-.441.422v6.603C6.838 16.735 5 14.979 5 12.8V7.462h10v5.339c0 2.178-1.875 3.934-4.118 3.934Z",fill:"#498BFF"},[])]),en("defs",{},[en("clipPath",{id:"svg-bug-icon-jsx-inline-1RCLVi9"},[en("path",{fill:"#fff",d:"M0 0h20v20H0z"},[])])])])}function Ds(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function ks(){return ks=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ks.apply(this,arguments)}function Rs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Vs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function Ls(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30Z",fill:"#000","fill-opacity":".65"},[]),en("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 0 0-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 0 0 .713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 0 0 0-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174Z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])}function Bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("circle",{cx:"8",cy:"8",r:"8",fill:"#262626","fill-opacity":".65"},[]),en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.127 12.808H10.8v-9.6H8.368c-2.445 0-3.73 1.257-3.73 3.108 0 1.478.705 2.348 1.962 3.246l-2.183 3.246h1.81l2.43-3.633-.842-.566c-1.022-.69-1.52-1.23-1.52-2.39 0-1.022.72-1.713 2.087-1.713h.745v8.302Z",fill:"#b1b1b1"},[])])}function xs(e){let{targetElementRef:t,content:i,arrowPosition:r}=e;const o=Dn(yg).ownerDocument.defaultView,{containerElement:n}=db(),{setTooltipContent:a}=hb();On((()=>{const e=t.current;if(!e)return;const s=new xv,l=ce(o),d=()=>{if(!n)return void yu.error({error:new Zc({code:"NO_CONTAINER_ELEMENT_TO_DRAW_TOOLTIP",details:{content:i}})});const t=e.getBoundingClientRect(),o=n.getBoundingClientRect(),s={top:t.top-o.top,left:t.left-o.left,winWidth:o.width,winHeight:o.height,width:t.width,height:t.height};yu.log({name:"ShowTooltip",sensors:{isTouch:l}});const d={content:i,targetElementCoordinates:s,onClickClose:l?()=>{a(void 0)}:void 0,arrowPosition:r};a(d)},c=()=>{a(void 0)};return s.subscribe(c),l?s.subscribe(Re({element:e,eventName:"click",listener:d})):(s.subscribe(Re({element:e,eventName:"mouseenter",listener:d})),s.subscribe(Re({element:e,eventName:"mouseleave",listener:c}))),()=>{s.dispatch(void 0)}}),[t.current,i])}function Ms(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{d:"M13 14a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14zm9 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14z"},[])])}function Us(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{d:"M13.53 12.956a1 1 0 0 0-1.53.848v16.392a1 1 0 0 0 1.53.848l13.113-8.196a1 1 0 0 0 0-1.696L13.53 12.956z"},[])])}function Fs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3z"},[])])}function Hs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm13.267 3.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function zs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.707 30.707a1 1 0 0 0 0-1.414l-16-16a1 1 0 0 0-1.414 1.414L14.586 19H12a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283v-4.62l6.293 6.293a1 1 0 0 0 1.414 0zm.232-3.182-1.49-1.49a8.941 8.941 0 0 0 .818-3.734c0-2.197-.81-4.318-2.28-5.972L26.48 15a10.949 10.949 0 0 1 1.46 12.525zm-4.7-4.7 1.673 1.673a6.981 6.981 0 0 0-1.418-6.843L22 18.984a4.99 4.99 0 0 1 1.24 3.841zM20 14.965v4.62l-2.793-2.792 2.11-2.11a.4.4 0 0 1 .683.283z"},[])])}function js(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({version:"1.1"},t),[en("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm17.267 3.301c0-2.687-.99-5.28-2.787-7.301l-1.494 1.329a8.982 8.982 0 0 1 2.281 5.972 8.98 8.98 0 0 1-2.28 5.972l1.493 1.33a10.983 10.983 0 0 0 2.787-7.302z"},[]),en("path",{d:"M25.267 22.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Ys(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 19 19",version:"1.1"},t),[en("path",{d:"M15 15a1 1 0 1 1 2 0v1.077c0 .76-.082 1.185-.318 1.627a2.364 2.364 0 0 1-.978.977c-.442.237-.866.319-1.627.319H2.923c-.76 0-1.185-.082-1.627-.319a2.363 2.363 0 0 1-.977-.977C.082 17.262 0 16.838 0 16.077V4.5A2.5 2.5 0 0 1 2.501 2l1.501.005a1 1 0 0 1-.006 2L2.5 4a.5.5 0 0 0-.5.5v11.577c0 .459.022.57.082.684.038.07.087.12.157.157.113.06.225.082.684.082h11.154c.459 0 .571-.022.684-.082a.363.363 0 0 0 .157-.157c.06-.113.082-.225.082-.684V15zm4-4a1 1 0 1 1-2 0 9 9 0 0 0-9-9 1 1 0 0 1 0-2c6.075 0 11 4.925 11 11zm-4 0a1 1 0 1 1-2 0 5 5 0 0 0-5-5 1 1 0 0 1 0-2 7 7 0 0 1 7 7zm-4 0a1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 0 1 0-2 3 3 0 0 1 3 3z",fill:"#fff","fill-opacity":".85"},[])])}function Ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",style:"fill:#fff"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 9a9 9 0 1 0 18 0A9 9 0 0 0 0 9zm16 0A7 7 0 1 1 2 9a7 7 0 0 1 14 0zM5.825 6.858c0-1.863 1.54-2.997 3.483-2.997 1.917 0 3.348 1.134 3.348 2.808v.054c0 1.593-1.026 2.241-1.984 2.66l-.243.108c-.324.148-.432.324-.432.715a.351.351 0 0 1-.351.351H8.7a.486.486 0 0 1-.486-.486c0-.918.324-1.498 1.174-1.877l.243-.108c.81-.364 1.242-.661 1.242-1.336 0-.729-.62-1.215-1.566-1.215-.972 0-1.7.486-1.7 1.404a.324.324 0 0 1-.325.324H6.23a.405.405 0 0 1-.405-.405zm3.28 4.266c-.728 0-1.282.526-1.282 1.282s.554 1.283 1.283 1.283c.729 0 1.282-.527 1.282-1.283 0-.756-.553-1.282-1.282-1.282z",fill:"#fff"},[])])}function Gs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m13.636 15.636.001-.001.001.001.437-.437a.575.575 0 0 1 .786-.025l1.049.92a1.67 1.67 0 0 0 2.318-.051c.286-.288.468-.679.485-1.112h.003l.091-1.392a.575.575 0 0 1 .574-.538H20V13v.001h.619c.303 0 .554.235.574.538l.09 1.392h.005c.017.435.201.828.49 1.116a1.666 1.666 0 0 0 2.33.03l1.031-.904a.575.575 0 0 1 .786.026l.437.437.002-.002v.004l.436.437a.575.575 0 0 1 .026.785l-.919 1.05a1.665 1.665 0 0 0-.442 1.133 1.669 1.669 0 0 0 1.604 1.67v.003l1.393.092c.302.02.537.27.537.573V22H29v.002h-.002v.617a.575.575 0 0 1-.537.574l-1.392.093v.001a1.666 1.666 0 0 0-1.116.49c-.302.302-.488.72-.488 1.18 0 .438.168.836.443 1.134l-.002.001.92 1.05c.2.227.189.57-.026.785l-.437.437v.002l-.438.436a.575.575 0 0 1-.785.026l-1.01-.884a1.666 1.666 0 0 0-1.173-.48 1.669 1.669 0 0 0-1.67 1.607h-.004l-.091 1.392a.575.575 0 0 1-.544.537h-1.297a.575.575 0 0 1-.543-.537l-.092-1.392h-.003a1.666 1.666 0 0 0-.49-1.12 1.666 1.666 0 0 0-1.18-.487c-.454 0-.866.181-1.167.475l-1.016.89a.575.575 0 0 1-.785-.027l-.437-.437h-.002v-.001l-.437-.437a.575.575 0 0 1-.025-.786l.92-1.049h-.002a1.669 1.669 0 0 0-.049-2.32 1.666 1.666 0 0 0-1.112-.485v-.001l-1.393-.093A.575.575 0 0 1 11 22.62V22h.001v-.619c0-.303.235-.553.538-.573l1.392-.092v-.003a1.666 1.666 0 0 0 1.605-1.67c0-.441-.171-.842-.45-1.141l-.912-1.042a.575.575 0 0 1 .026-.785l.437-.438h-.001zM23.375 22a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0z"},[])])}function Xs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"40",height:"44",version:"1.1",style:"fill:#fff"},t),[en("path",{d:"M14 23a1 1 0 1 0-2 0v7h7a1 1 0 1 0 0-2h-5v-5zm6-9a1 1 0 1 0 0 2h6v5a1 1 0 1 0 2 0v-7h-8z"},[])])}function qs(e){let{playingState:t,volumeStatus:i,controlsVisibility:r}=e;return"idle"!==t&&("unknown"!==i&&!1!==r.mute)}function Ks(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Zs(e,t){if(e)return e.medicine?{text:w_("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:.05}:e.dietarysuppl?{text:w_("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:.1}:void 0}function Js(){var e;const{isAbuseSubmitted:t}=pE(),i=VS(),{shouldShowSkipButton:r}=mC(),o=fg(),n=o.height>o.width;if(t)return{isActionButtonVisible:!1,isSkipButtonVisible:!1,isProductsButtonVisible:!1,shouldUseTwoLinesLayout:!1,isExperimentLiftButtonsUp:!1,fontSize:"",skipButtonFontSize:"",skinSize:i,disclaimerInfo:void 0,isEcomShopVisible:!1,shouldUseSmallCta:!1,isOutstream:!1,isVerticalFormat:n,ecomShop:void 0};const{themeEmptyParameters:a}=kf(),s=Sf(),{isPackshotPlaying:l}=gE(),{timeToSkip:d}=If(),{skinVariant:c}=uC(),u="videoInCombo"===c,h=!1!==s.actionButton&&void 0!==a&&!l,p=!1!==s.skip&&!u&&r,m=p&&d!==Pf,{ecomShopState:A}=lC(),_=!1!==s.productsButton&&void 0!==(null==(e=A.ecomShop)?void 0:e.products)&&A.ecomShop.products.length>0&&!l&&("small"!==i||n),v=(p||_)&&o.width<750||"small"===i,{shouldUseNewSkin:g}=aE(),f=g&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT"),y=o.width<iT||o.height<300,T=.28*ia(o)+"px",E=y?"0.8em":ra(o)+"px",S=cf(),b=Ab();return{isActionButtonVisible:h,isSkipButtonVisible:m,isProductsButtonVisible:_,isExperimentLiftButtonsUp:f,skinSize:i,shouldUseTwoLinesLayout:v,fontSize:E,skipButtonFontSize:T,disclaimerInfo:!1===s.disclaimers?void 0:Zs(b,S),isEcomShopVisible:A.isVisible&&!l,shouldUseSmallCta:y,isOutstream:u,isVerticalFormat:n,ecomShop:A.ecomShop}}function Qs(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M4.667 7.333c0-3.826 2.5-6.672 6.335-6.666 3.835.006 6.331 2.844 6.331 6.666h1.19c.871 0 1.187.088 1.508.254.321.166.576.41.754.724.18.315.28.627.314 1.498l.509 12.724A3.333 3.333 0 0 1 18.278 26H3.722a3.333 3.333 0 0 1-3.331-3.467L.901 9.81c.035-.871.135-1.183.314-1.498.178-.314.433-.558.754-.724.32-.166.637-.254 1.508-.254h1.19ZM3.057 22.64v.013l-.001.014c0 .368.298.666.667.666h14.581a.667.667 0 0 0 .64-.693L18.438 10H3.562l-.505 12.64Zm7.941-19.307c-2.278-.003-3.665 1.576-3.665 4h7.334c0-2.42-1.386-3.996-3.669-4ZM5.667 13.657c0-.963.732-1.657 1.657-1.657C8.268 12 9 12.694 9 13.657c0 .963-.732 1.676-1.676 1.676-.925 0-1.657-.713-1.657-1.676ZM14.657 12c-.925 0-1.657.694-1.657 1.657 0 .963.732 1.676 1.657 1.676.944 0 1.676-.713 1.676-1.676S15.601 12 14.657 12Z",fill:"currentColor"},[])])}function $s(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.513 7.399.39 4.276a1.333 1.333 0 0 1 1.885-1.885l22.667 22.666a1.333 1.333 0 1 1-1.886 1.886l-1.684-1.684a3.319 3.319 0 0 1-2.096.741H4.723a3.333 3.333 0 0 1-3.331-3.466l.509-12.725c.035-.87.135-1.183.314-1.498.178-.314.433-.558.754-.724.16-.083.318-.146.544-.188ZM19.43 23.316a.662.662 0 0 1-.126.017H4.723a.667.667 0 0 1-.667-.666v-.027L4.563 10h1.552l2.011 2.01c-.829.092-1.458.754-1.458 1.647 0 .963.732 1.676 1.657 1.676.872 0 1.563-.608 1.663-1.46l9.443 9.443ZM19.438 10l.236 5.903 2.78 2.78-.355-8.874c-.035-.87-.135-1.183-.314-1.498a1.814 1.814 0 0 0-.754-.724c-.32-.166-.637-.254-1.508-.254h-1.19c0-3.822-2.496-6.66-6.33-6.666-2.215-.004-3.984.943-5.084 2.48l1.93 1.931c.598-1.1 1.691-1.747 3.149-1.745 2.283.004 3.669 1.58 3.669 4h-4.562L13.77 10h5.667Z",fill:"currentColor"},[])])}function el(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 -5 15 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M1.25 0a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM5 .25a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm0 5a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm-1 6a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm-4-5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM1.25 10a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",fill:"currentColor"},[])])}function tl(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 -5 15 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M1.25 0a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM5 .25a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm0 5a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H5Zm-1 6a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm-4-5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM1.25 10a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",fill:"currentColor"},[])])}function il(){return il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},il.apply(this,arguments)}function rl(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M0 8c6 0 9-8 12-8s6 8 12 8v1.5H0V8Z",fill:"#2F2F32"},[])])}function ol(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 16.003a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm2.404-11.82A1 1 0 1 1 11.818 5.6L9.414 8.003l2.404 2.404a1 1 0 0 1-1.414 1.414L8 9.417 5.596 11.82a1 1 0 0 1-1.414-1.414l2.404-2.404-2.404-2.404a1 1 0 0 1 1.414-1.415L8 6.59l2.404-2.405v-.001Z",fill:"#fff","fill-opacity":".25"},[])])}function nl(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function al(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function sl(){return sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},sl.apply(this,arguments)}function ll(e){e.styles;var t=Object.assign({},e);return delete t.styles,en("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[en("path",{d:"M2 9a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 1 0 0-2H2V9Zm6-9a1 1 0 0 0 0 2h6v5a1 1 0 1 0 2 0V1a1 1 0 0 0-1-1H8Z"},[])])}function dl(){return dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},dl.apply(this,arguments)}function cl(e){const t=nu(e.children,(e=>cl(e)));return{xmlString:e.xmlString,children:t}}function ul(){return ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ul.apply(this,arguments)}function hl(e){const t={};for(const i in e)d(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function pl(e,t){if("string"!==typeof e)return;if(!r(t))return;const i=e.toLowerCase();return Zt(t).indexOf(i)>-1?i:void 0}function ml(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?ut(i):void 0}function Al(e,t){return"true"===ml(e,t)}function _l(){return _l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_l.apply(this,arguments)}function vl(e){const t=ml("Stick",e),i=function(e){if(!r(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return hl({stickTo:pl(t,TO),stickyColorScheme:pl(i,yO)})}({stickTo:ml("StickTo",e),stickyColorScheme:ml("ColorScheme",e)});return _l({stick:"true"===t,adType:"inpage",replayMode:EO(e)},i)}function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gl.apply(this,arguments)}function fl(e,t,i){var r;const o=[],n=i.querySelector("AdSource");if(!n)throw new Zc({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=0;if(n.hasAttribute("id")){if(a=Number(n.getAttribute("id")),!zt(a))throw new Zc({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else o.push(new Zc({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new Zc({code:"NO_AD_BREAK_EXTENSIONS",details:t});const l=n.querySelector("VASTAdData"),d=null!=(r=null==l?void 0:l.querySelector("VAST"))?r:void 0,c=d?(e=>{const t=new XMLSerializer;return t.serializeToString(e)})(d):void 0,u=n.querySelector("AdTagURI"),h=ut(u);if(!u||!h)throw new Zc({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},m=i.getAttribute("breakType"),A=ct(i,"breakId"),_=ct(i,"timeOffset","start"),v=()=>new Zc({code:"VMAP_INCORRECT_TIME_OFFSET",details:gl({},t,{timeOffset:_,breakIdAttribute:A})});if(-1===fO.indexOf(A))throw new Zc({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:gl({},t,{breakIdAttribute:A})});const g=function(e,t){switch(e){case"linear,nonlinear":return[new Zc({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case"linear":return[];case"nonlinear":return[new Zc({code:"NON_LINEAR_AD_BREAK_IN_NOT_SUPPORTED",details:t})];default:throw new Zc({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(m,t);let f;if(o.push(...g),"inpage"===A)f=vl(s);else if("inroll"===A)f={adType:"inroll"};else if("postPauseroll"===A)f={adType:"postPauseroll"};else if("start"===_){if(gO[_]!==A)throw v();f={adType:"preroll"}}else if("end"===_){if(gO[_]!==A)throw v();f={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(_))throw v();{if("midroll"!==A)throw v();const e=function(e,t){return Number(ml(e,t))}("MaxRepeatCount",s),t=Dt(ct(i,"repeatAfter")),r={timeOffset:Dt(_),repeatAfter:isNaN(t)?0:t,maxRepeatCount:isNaN(e)?0:e,repeatNumber:0};f=gl({adType:"midroll",broadcastReplace:Al("BroadcastReplace",s)},r)}}return{adBreak:gl({impId:a},f,e,p),errors:o,events:[]}}function yl(){return yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},yl.apply(this,arguments)}function Tl(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const o=[],n=[],a=[],{xml:s,responseText:l}=t,d={responseText:l,vmapLoadParams:i};if(null===s||void 0===s)throw new Zc(i?{code:"VMAP_EMPTY_RESPONSE",details:yl({},i,{vmapXmlObject:t})}:{code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const c=s.querySelector("VMAP");if(!c)throw new Zc({code:"NO_VMAP_ROOT_NODE",details:d});const u=c.querySelectorAll("AdBreak");null!==u&&0!==u.length||n.push({name:"NoVmapAdBreaks",data:d});const h=new vO,p=s.querySelector("VMAP > Extensions");if(!p)throw new Zc({code:"NO_VMAP_EXTENSIONS",details:d});X(c.querySelectorAll("TrackingEvents"));const m=e=>{const t=p.querySelector('Extension[type="'+e+'"]');return t?ut(t):""};h.isSingleVideoSession="true"===m("SingleVideoSession"),h.isUniformat="true"===c.getAttribute("ya-uniformat");const A={sessionId:m("SessionID"),vastTimeout:parseInt(m("VASTTimeout"),10)};for(let v=0;v<u.length;v++)try{const{adBreak:e,errors:t,events:i}=fl(yl({},A,r),d,u[v]);h.adBreaks.push(e),o.push(...t),n.push(...i)}catch(_){o.push(_)}return a.push({name:"CreateVmapFromXMLString",data:{vmap:l},sensors:{uniformat:h.isUniformat}}),{vmap:h,errors:o,events:n,valuesEvents:a}}function El(){return El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},El.apply(this,arguments)}function Sl(e){if(!r(e))return{};const{wrapperMaxCount:t}=e;if(void 0!==t&&!Rt(t))throw new Zc({code:"INVALID_WRAPPER_MAX_COUNT",details:{wrapperMaxCount:t}});const i={wrapperMaxCount:t};if(void 0!==e.adFoxParameters){const t=r(o=e.adFoxParameters)?li(o)?void 0===o.containerId||h(o.containerId)?s(o.ownerId)?0===o.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";if(t)throw new Zc({code:t,details:{adConfig:e}});i.adFoxParameters=e.adFoxParameters}var o;return i}function bl(){return bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},bl.apply(this,arguments)}function Cl(e){if(!r(e))return{};const{partnerId:t,category:i,vmapId:o,vmapScenarioId:n,impId:a,videoContentId:s,additionalParams:l,vmap:d,hasPreroll:c}=e;if(void 0!==a&&!zt(a))throw new Zc({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==o&&!zt(o))throw new Zc({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!h(d))throw new Zc({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==c&&"boolean"!==typeof c)throw new Zc({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!zt(n))throw new Zc({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return bl({},function(e){const t=r(e)?e:{};return hl({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,hasPreroll:c,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:a,vmapId:o,vmapScenarioId:n,videoContentId:"string"===typeof s?s:void 0,additionalParams:Zi(l)})}function Pl(){return Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pl.apply(this,arguments)}function Ol(e){if(!r(e))return{};const t=Sl(e),i=Cl(e),o=function(e){if(!r(e))return;let t,i;return t=Array.isArray(e.videoGenreId)?nu(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),i=Array.isArray(e.videoGenreName)?nu(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:t,videoGenreName:i,musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?nu(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),n=function(e){if(!r(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!Rt(t))throw new Zc({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!Rt(i))throw new Zc({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),a=function(e){const t={};return r(e)?(L(["full","creative","limited","domain"],e.omidAccessMode)&&(yu.log({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode}}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return Pl({},t,i,o,n,a,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&h(e.vast)?String(e.vast):void 0,desiredBitrate:ft(e.desiredBitrate),secureMode:OO(e),preferableAdSize:bO(e),loadHarmlessVastCallback:M(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0})}function wl(e){return h(e)?e:"0"}function Il(e){const t=r(e)?e:{};return hl({vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout)})}function Nl(){return Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Nl.apply(this,arguments)}function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Dl.apply(this,arguments)}function kl(){return kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},kl.apply(this,arguments)}function Rl(e){return!!s(e)&&kO.indexOf(e)>-1}function Vl(){return Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Vl.apply(this,arguments)}function Ll(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}function Bl(e){let t={};try{const i=Jd({localStorage:e},MO);null!==i&&(t=JSON.parse(i))}catch(o){}const r={};return C(t,((e,t)=>{i(e)&&(r[t]=e)})),r}function xl(){return xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xl.apply(this,arguments)}function Ml(e){let{config:t,adPlacementOptions:i,videoSlot:r,win:o}=e;const{partnerId:n}=t;if(!n)throw new Zc({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=((e,t,i,r)=>{const{category:o,vmapScenarioId:n,hasPreroll:a,targetRef:s}=e,l=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),d=jm(e,t,i);let c;try{c=new UO}catch(A){}let u=0;"number"===typeof o&&c&&(u=c.getWatchedTimeSinceAd({category:o}));const h=P(r),p=r.document.referrer;let m;m=s||(h===Um?p:h);return xl({},d,l,{[Ih]:!1===a?"0":!0===a?"1":void 0,[wh]:void 0===n?void 0:String(n),[Nh]:String(Math.floor(u)),client_type:"html"},"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ENABLE_VAST_IN_VMAP")?{"target-ref":m,"inline-preroll-vast-in-vmap":"1"}:{})})(t,r,HO++,o),s=Je({url:V(""+FO+n,a),ignoreAbd:!0,options:i,win:o}),l=tu(o);return"function"===typeof l?l(V(s,{abd:"1"})):s}function Ul(){return Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ul.apply(this,arguments)}function Fl(e){var t;let{rawAdConfig:i,useDefaultAdPlaybackParameters:r=!1,syntheticVMAPType:o="preroll",adPlacementOptions:n,stats:a}=e;const{adConfig:s,adBreak:l,warnings:d}=function(e,t,i){const{vastBase64:r,adBreakType:o}=e,n=Ll(e,RO),a=[],s=Ol(n),{videoContentId:l}=s,d=Vl({},Ll(s,VO),{videoContentId:wl(l)});let c,u;if(r&&(d.vast=ye(r)),Rl(o)?u=o:t&&(a.push(new Zc({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),Rl(i)&&(u=i)),u){const e=Il(n);c=Vl({},DO[u],e)}return{adConfig:d,adBreak:c,warnings:a}}(i,r,o);let c;Xt(d);const u=vc.isDebugEnabled?LO():void 0,p=h(s.vmap)?s.vmap:void 0,m=null!=u?u:p;if(h(m)){c={adConfig:s,vmap:SO(m),adPlacementOptions:n,stats:a}}else if(s.adFoxParameters){const e=l||_O,t=new vO;t.adBreaks=[e],c={adConfig:s,vmap:t,adBreak:e,adPlacementOptions:n,stats:a}}else if(l){const e=new vO;e.adBreaks=[l],c={adConfig:s,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:n,stats:a}}if(0===(null==(t=c)?void 0:t.vmap.adBreaks.length))throw new Zc({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:i});return{config:c,parsedAdConfig:s}}function Hl(e){const{config:t,parsedAdConfig:r}=Fl(e);if(t)return new pO(t);const o=e.adPlacementOptions,n=async function(){let e;if(1===arguments.length)e=arguments.length<=0?void 0:arguments[0];else{const t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2],o=Cl(t),n=Ml({config:o,adPlacementOptions:i,videoSlot:r,win:window}),{vmapLoadTimeout:a}=o;let s=3e3;a&&(s=a),e={url:n,vmapLoadParams:{url:n,config:t,timeout:s},timeout:s}}const{url:t,vmapLoadParams:r,timeout:o}=e,n=Date.now();let a;yu.log({name:"VmapLoadStart",data:r});try{const e=!M(tu(window)),i="boolean"===typeof vc.hardcodedParams.adsdkwithcredentials?vc.hardcodedParams.adsdkwithcredentials:e;a=await Xe({url:t,data:null,timeout:o,withCredentials:i})}catch(d){const e=Ph({thrownError:d,errorCode:"VMAP_LOAD_ERROR",errorDetails:r,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:r});throw yu.error({error:e}),e}const{responseStatus:s,responseText:l}=a;if(200!==s){const e=BO(l);if(i(e))throw new Zc({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Ul({},r,{responseStatus:s,disabledPageId:e})});throw new Zc({code:"INVALID_VMAP_RESPONSE_STATUS",details:Ul({},r,{responseStatus:s,responseText:a.responseText})})}try{const e=Il(r.config),{vmap:t,events:i,valuesEvents:o,errors:s}=Tl({vmapXmlObject:a,vmapLoadParams:r,vmapAdBreaksConfig:e});Xt(s),$l(i,(e=>{yu.log(Ul({},e,{probability:1}))})),$l(o,(e=>{yu.log(e)}));const l=Ul({},ze(nu(fO,(e=>["adBreak_"+e,!1]))),ze(nu(t.adBreaks,(e=>["adBreak_"+e.adType,!0]))));return yu.log({name:"VmapLoadSuccess",data:r,values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-n},sensors:l}),t}catch(d){throw yu.errorToStats(d),d}}(r,o).then((t=>{if(0===t.adBreaks.length)throw new Zc({code:"AD_LOADER_AD_CONFIG_VMAP_NO_AD_BREAKS",details:r});const i=new pO({adConfig:r,vmap:t,adPlacementOptions:o,stats:e.stats});return i.addDestroyHandler(Ja((()=>{i.destroy()}),null!=kd?kd:window)),i}));return n.catch((t=>{e.stats.errorToStats(t)})),n}const zl=-1,jl={droppedVideoFrames:zl,corruptedVideoFrames:zl,totalVideoFrames:zl},Yl=o({},jl,{droppedVideoFramesRatio:zl}),Wl={width:0,height:0},Gl={visibility:0,size:Wl,relativeSizeRatio:0,screenSize:Wl,devicePixelRatio:0,downlink:0,videoContentSize:void 0,videoAvatarSize:Wl,videoPixelRatio:zl,videoToDevicePixelRatio:zl,videoFramesInfo:Yl,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:zl,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0,productType:void 0};let Xl;try{Xl="659839"}catch(eg){Xl="INVALID_BUILD_VERSION"}const ql=Xl,Kl={}.toString,Zl=/\[object (\w+)\]/,Jl=e=>{const t=Kl.call(e);if(!t)return null;const i=t.match(Zl);if(!i)return null;const r=i[1];return r||null},Ql=e=>e instanceof Error||"Error"===Jl(e),$l=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)},ed=function(e,t){let i=e[t];if(!l(i)){const r=i;try{delete e[t];const o=e[t];"function"===typeof o&&(i=o),e[t]=r}catch(eg){}}return i}(Array,"isArray"),td=Boolean(ed)?e=>ed.call(Array,e):e=>"Array"===Jl(e),id=["expFlags"],rd=(e,t)=>{if(!r(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!s(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length){for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,o]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===o.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}}(t.testIds),!("flags"in t)||!r(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},od=e=>{const t=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,id),i={},o={};return $l(e.expFlags,(e=>{$l(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:n}=e;r(t)&&$l(c(t),(e=>{var r;const a=t[e];i[e]=a,o[e]=null!=(r=o[e])?r:[],o[e].push({value:a,testId:n[0]})}))}))})),u({flags:i,flagsMap:o},t)},nd={testIds:"",flags:{}};const ad=a((()=>{try{return __UAAS_CFG__}catch(e){return e}})),sd=e=>{if(Ql(e))return{error:e,config:nd};try{const t=r(e)?e:JSON.parse(""+(e||"")),i=(e=>!!r(e)&&!(!("expFlags"in e)||!td(e.expFlags)))(t)?od(t):t;if(!rd(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:nd}}},ld=a((e=>sd(e||ad()))),dd=!m(Math.random)||Math.random()===Math.random(),cd=Date&&A(Date.now)?()=>Date.now():()=>(new Date).getTime(),ud="undefined"===typeof window?void 0:window.performance,hd=ud&&A(ud.now),pd=ud&&ud.timing&&ud.timing.navigationStart?ud.timing.navigationStart:cd();let md=0;const Ad=hd?()=>ud.now():()=>(()=>{const e=cd()-pd;return md=Math.max(e,md),md})(),_d=2147483647;let vd=Date.now()*Ad()%_d;const gd=dd?function(){return vd=16807*vd%_d,(vd-1)/2147483646}:function(){return Math.random()},fd="VAS",yd=e=>v(e.substr(-4),4,"0"),Td=()=>v(Date.now().toString().slice(0,10),10,"0"),Ed=e(5335),Sd=(e,t,i)=>{const r=new Array(e.length);for(let o=0;o<e.length;o++)r[o]=t.call(i,e[o],o,e);return r},bd=["","webkit","moz","o","ms"],Cd=["","-webkit-","-ms-","-moz-","-o-"],Pd=Sd(Cd,(e=>"("+e+"any-pointer:coarse)")).join(","),Od=Sd(Cd,(e=>"("+e+"touch-enabled)")).join(","),wd=(void 0===Id&&(Id=window),function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(eg){return""}}(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(Id)||E(Id)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&T(e)}(Id));var Id;const Nd=S(document.documentElement),{length:Dd}=Nd,kd=Dd>0?Nd[Dd-1].ownerDocument.defaultView:window,Rd=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i},Vd=e=>{const t=[];for(;e;)try{if(P(e),t.push(e),e.parent===e)break;e=e.parent}catch(eg){break}return t},Ld=w(Array,"isArray"),Bd=Boolean(Ld)?e=>Ld.call(Array,e):e=>"Array"===Jl(e);class xd{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const Md=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new xd({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const o=e.apply(this,arguments);return i.set(r,o),o}},Ud=document.createElement("a"),Fd=(Md((e=>I({},N(e)))),/^(android-app:|chrome-extension:)/),Hd=e=>{try{return decodeURIComponent(e)}catch(eg){return e}},zd=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&"),jd="aim-banner-id",Yd="aim-design-id",Wd="aim-design-name",Gd="aim-subdesign-id",Xd=c({adsdkver:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[jd]:0,[Yd]:0,[Wd]:0,[Gd]:0,adsdkhoneypotforced:0,adsdkgrforced:0,vasnetworklogs:0,vasconsolelogs:0,vasdebug:0,vasfulldebug:0,adsdkdebug:0}),qd={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},Kd=c(qd),Zd={adsdkver:e=>h(e)?e:void 0,adsdkecmaver:e=>{const t=null==e?void 0:e.toUpperCase();return"ES2017"===t||"ES5"===t?t:void 0},adsdktracelogs:B,adsdksecuremode:e=>e&&L(Kd,e)?e:void 0,adsdkwithcredentials:e=>{const t=e?(""+e).toLowerCase():void 0;return"true"===t||"false"!==t&&void 0},adsdkabflags:x,adsdkuaas:x,[jd]:x,[Yd]:x,[Wd]:x,[Gd]:x,adsdkhoneypotforced:B,adsdkgrforced:B,vasnetworklogs:B,vasconsolelogs:B,vasdebug:B,vasfulldebug:e=>"false"!==e&&Boolean(e),adsdkdebug:B},Jd=(e,t)=>{try{return e.localStorage.getItem(t)}catch(i){return null}},Qd=(e,t,i)=>{try{e.localStorage.setItem(t,i)}catch(r){return}},$d=new Set(Xd),ec=(Y(window),e=>r(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__)),tc=[].find,ic=l(tc)?(e,t)=>tc.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}};let rc=document.currentScript;if(!rc){const e=W(document.getElementsByTagName("script"));rc=ic(e,ec),rc||(rc=e[e.length-1])}const oc=rc,nc=oc?oc.src:"",ac="AdLoader",sc=X,lc=X,dc=X,cc=e=>{let{propertyName:t}=e;return{call:e=>sc(q({propertyName:t},e)),subscribe:e=>dc(q({propertyName:t},e)),wait:e=>(e=>{let{propertyName:t}=e;return new Promise((e=>{dc({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t})}))})(q({propertyName:t},e)),waitUntil:e=>(e=>{let{propertyName:t,comparator:i}=e;return new Promise((e=>{dc({propertyName:t,callback:function(){i(...arguments)&&e()}})}))})(q({propertyName:t},e)),clear:e=>lc(q({propertyName:t},e))}};cc({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME"});const uc=oc?oc.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;oc&&(e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__})(oc);const hc=["a","n.ya","nd","ex.ru"].join(""),pc=["y","a","nde","x.ru"].join(""),mc=["ya","sta","tic.net"].join(""),Ac=["ver","ify.y","a","nde","x.ru"].join(""),_c=[pc,hc,mc],vc=function(e){var t,i,o,n,a,l;const d=(e=>{let t;return{rootFields:p((()=>(e=>{if(r(e)){const t={},{vsid:i,contentPlayerVersion:r,pcodeVersion:o,widgetVersion:n}=e;if(h(i)&&(t.vsid=i),h(r)&&(t.contentPlayerVersion=r),h(o)&&(t.pcodeVersion=o),h(n)&&(t.widgetVersion=n),c(t).length>0)return t}return})(e)),(e=>{t=e}))||void 0,extractionError:t}})(null==uc?void 0:uc.STATS_ROOT_PARAMS),{config:u,parsingError:m}=function(e,t){let i,r=(null==t?void 0:t.VAS_UAAS_CONFIG)||nd;try{const t=H(e,"adsdkuaas"),i=ld(t);if(i.error)throw i.error;r=i.config}catch(eg){i=eg}return{config:r,parsingError:i}}(e,uc),A=function(e,t,i){var r;const o=t.flags,n=null!=(r=null==i?void 0:i.AB_FLAGS)?r:{};let a={};0;const l=H(e,"adsdkabflags"),d=s(l)?Rd(l.split(","),((e,t)=>{const[i,r]=t.split("=");return Z({},e,{[i]:r})}),{}):{};return Z({},a,o,n,d)}(e,u,uc),v=function(e,t){const i=j(e,t),r=Rd(Xd,((e,t)=>{const r=z(i,t);return F({},e,{[t]:(0,Zd[t])(r)})}),{});return r.adsdkdebug&&(console.warn("adsdkdebug is deprecated, use vasfulldebug instead"),r.vasfulldebug=!0),r.vasfulldebug&&(r.vasnetworklogs="false"!==z(i,"vasnetworklogs"),r.vasconsolelogs="false"!==z(i,"vasconsolelogs"),r.vasdebug="false"!==z(i,"vasdebug")),r}(e,A),g=v.vasdebug,f=v.vasconsolelogs,y=K(v.adsdktracelogs,f),T=(null==d||null==(t=d.rootFields)?void 0:t.vsid)||(null==uc?void 0:uc.VSID)||function(e){void 0===e&&(e=ql);return[_(44),fd,yd(e),Td()].join("x")}();y((null!=d&&null!=(i=d.rootFields)&&i.vsid||null!=uc&&uc.VSID?"Use VSID from session":"Generate new VSID")+" ["+T+"]");const E=null!=(o=null==uc?void 0:uc.VAS_USER_SESSION_RANDOM)?o:gd(),S=(null==uc?void 0:uc.ICOOKIE)||u.iCookie,b=(null==uc?void 0:uc.AdditionalStatsRootFields)||d.rootFields||void 0,C=(null==uc?void 0:uc.TEST_IDS)||u.testIds||void 0,P=(nc&&N(nc).hostname,null!=(n=null==uc?void 0:uc.loaderLoadedFromAnYandexRu)&&n);return{hardcodedParams:v,isDebugEnabled:g,VSID:T,VAS_USER_SESSION_RANDOM:E,AB_FLAGS:A,ICOOKIE:S,TEST_IDS:C,VAS_UAAS_CONFIG:u,VAS_UAAS_CONFIG_ParseError:m,AdditionalStatsRootFields:b,AdditionalStatsRootFieldsExtractionError:d.extractionError,STATS_ROOT_PARAMS:null!=(a=null==uc?void 0:uc.STATS_ROOT_PARAMS)?a:{},isRumEnabledByLogProbability:!1,loaderLoadedFromAnYandexRu:P,activeTestIds:null==uc?void 0:uc.ActiveTestIds,grWasSent:null!=(l=null==uc?void 0:uc.grWasSent)&&l}}(window),gc=vc.VSID,fc=(e,t,i)=>{const r=[];for(let o=0;o<e.length;o++){const n=e[o];t.call(i,n,o,e)&&r.push(n)}return r};class yc{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>{this.remove(...t)}}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>{this.remove(...t)}}promise(){return new Promise((e=>{this.addOne(e)}))}dispatch(e){const{once:t}=this;this.once=[],Q(this.on,e),Q(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=fc(this.on,(e=>t.indexOf(e)<0)),this.once=fc(this.once,(e=>t.indexOf(e)<0))}}class Tc{constructor(e,t){this.activeTestIds=[],this.initialActiveTestIds=[],this.activeFlags=new Set,this.getFlagValueAndActivateTestId=e=>{var t;const i=this.abFlags[e],r=i?null==(t=this.flagToTestIdMap[e])?void 0:t[i]:void 0;if(r)for(const o of r){const t=this.testIdMap.get(o);t&&(this.activateTestId(t),this.activateFlag(e))}return i},this.getActiveTestIds=()=>this.activeTestIds,this.isFlagActive=e=>this.activeFlags.has(e),this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.onTestIdActivated=new yc,this.abFlags=t,this.initialAbFlags=t;const{flagsMap:i,testIds:r}=e;if(this.testIdMap=new Map,h(r))for(const o of r.split(";")){const[e]=o.split(",");this.testIdMap.set(e,o)}this.flagToTestIdMap=(e=>void 0===e?{}:$(e,(e=>Rd(e,((e,t)=>{var i;let{value:r,testId:o}=t;const n=null!=(i=e[r])?i:[];return n.push(o),e[r]=n,e}),{}))))(i)}activateTestId(e){L(this.activeTestIds,e)||(this.activeTestIds.push(e),this.onTestIdActivated.dispatch(e))}activateFlag(e){this.activeFlags.has(e)||this.activeFlags.add(e)}getNumberFlagValueAndActivateTestId(e){const i=this.getFlagValueAndActivateTestId(e),r=Number(i);return t(r)?r:void 0}activateTestIds(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t){const[e]=r.split(",");if(!h(e))continue;const t=this.testIdMap.get(e);h(t)&&this.activateTestId(t)}}}const Ec=(null==uc?void 0:uc.AB_FLAGS_STORE)||function(){const e=new Tc(vc.VAS_UAAS_CONFIG,vc.AB_FLAGS);e.getFlagValueAndActivateTestId("ADSDKVER");const t=null==uc?void 0:uc.ActiveTestIds;return t&&e.activateTestIds(...t),e}(),Sc={version:ql,vsid:gc,rnd:vc.VAS_USER_SESSION_RANDOM,AdditionalStatsRootFields:vc.AdditionalStatsRootFields,AB_FLAGS:vc.AB_FLAGS,AB_FLAGS_STORE:Ec,iCookie:vc.ICOOKIE,testIds:vc.TEST_IDS},bc=Boolean(window.location.ancestorOrigins),Cc=te(window),Pc=function(){const e=Sd(Nd,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:Oc,isTrusted:wc}=function(e){void 0===e&&(e=window);const t=te(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:r}=ie(e.document),o=Pc?r:i,n=!Pc||Y(kd).length<2,{protocol:a,hostname:s,host:l,port:d}=N(o);return{topAncestor:D({protocol:a,hostname:s,host:l,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:n}}(),Ic=Oc,Nc=wc,Dc=200,kc=e=>m(e.navigator.sendBeacon),Rc=kc(window),Vc="https://log.strm.yandex.ru/log",Lc=vc.hardcodedParams.vasnetworklogs||vc.VAS_UAAS_CONFIG.isInternalNetwork||!1,Bc=Lc?1:.01,xc=Lc?1:.001,Mc="VAS",Uc="adsdk-test-tag",Fc=e=>!!r(e)&&(!!s(e.name)&&!!s(e.message)),Hc=e=>({name:e.name,message:e.message,stack:e.stack});let zc;const jc=e=>{try{return"display"in le(e)}catch(eg){return!1}};var Yc=e(3438),Wc=e.n(Yc);const Gc="DEFAULT_ERROR_MESSAGE",Xc=0,qc="",Kc="?:?:?";class Zc extends Error{constructor(){const e=2===arguments.length?arguments.length<=0?void 0:arguments[0]:void 0,t=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],i=Fc(e)||"object"===typeof e&&e&&"code"in e&&"details"in e?e:{message:String(e||Gc)};super(),this.originalError="object"===typeof e&&e?e:{unknown:e,unknownStr:String(e)},Wc()(this,Zc.prototype);const r=t.code||i.code||i.id||Xc,o=t.message||i.message||Gc;this.message="VAS Error ["+r+"]"+(o?"["+o+"]":""),this.code=r,this.details=t.details||i.details||qc;const n=i.stack||function(e){const{url:t,line:i,col:r,fileName:o,columnNumber:n,lineNumber:a}=e;return(t||o||"?")+":"+(i||a||"?")+":"+(r||n||"?")}(i);let a=n===Kc?this.stack:n;if(a&&a!==Kc)this.stack=a;else if(!this.stack)try{throw new Error(this.message)}catch(eg){this.stack=a=eg.stack||Kc}this.toString=()=>de(this.toJSON()),this.toJSON=()=>({originalError:this.originalError,message:this.message,code:this.code,details:this.details,stack:a})}}const Jc=(e,t)=>{for(const i of t.split(".")){if(!r(e)){e=void 0;break}e=e[i]}return e},Qc="__ADB_CONFIG__",$c=r(Qc)&&Qc.fn&&M(Qc.fn.encodeUrl)?Qc.fn.encodeUrl:void 0,eu=void 0===$c?void 0:e=>$c(e),tu=e=>{if(eu)return eu;const t=Vd(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Jc(e,"ya.videoAd.encodeUrl");if(M(i))return i}},iu=Vd,ru=function(e){const t=iu(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window),ou=K(vc.hardcodedParams.adsdktracelogs,vc.hardcodedParams.vasconsolelogs),nu=(e,t,i)=>{const r=new Array(e.length);for(let o=0;o<e.length;o++)r[o]=t.call(i,e[o],o,e);return r};class au{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(ve({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,o=_e(e.toString(2),r).substr(-r,i);return parseInt(o,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return f(e)&&((e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)})(this.getTemplate(),(t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])}),this),this}getProps(){return ve({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return me((e=this.getTemplate(),t=this.props,Sd(e,(e=>{let[i,r]=e;return[i,r&&t[r]||null]}))))}slice(e,t){return au.sliceBits(this.serialize(),e,t)}}const su={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,Multiroll:16,VideoBannerAd:17,MotionTailor:18,YaMusicAPI:19,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,Rum:27,Examples:30,TestStand:29,Test:31,TestVpaid:31,TestVpaidAdCreative:31,HermioneTestApi:31,LoaderFunctions:32,SurveyOldDesignAdCreative:32,MultirollTestStand:32};const lu=new class extends au{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:Number(ql),BUNDLE:su.AdLoader,UNUSED:0,ADBLOCK:M(tu(window))}}},du=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0;class cu{constructor(e){this.rootFields={},this.onLogError=a((e=>{ee(e),this.error({error:new Zc({code:"STATS_LOG_ERROR",details:{message:null==e?void 0:e.message,stack:null==e?void 0:e.stack}})})})),this.error=e=>{let{error:t}=e;const i=se(t)?t:new Zc(t);this.push({eventName:String(i.code),eventType:"error",data:i,probability:1})},this.log=e=>{const{name:t,probability:i=Bc}=e,{data:r,values:o,sensors:n,dailySensors:a}=e;this.push({eventName:t,eventType:"values",data:r,probability:i,values:o,sensors:n,dailySensors:a})},this.setRootFields=e=>{const t=pe(e);$l(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.getRootFields=()=>this.rootFields,this.errorToStats=e=>{const t=se(e)?e:new Zc(e);this.push({eventName:String(t.code),eventType:"error",data:t,probability:1})},this.params=e,this.customRootFields=fe({},this.params.AdditionalStatsRootFields,{[Uc]:String(lu.serialize()),bannerTypeFromNanpu:ru,bundleName:ac,abFlags:this.params.AB_FLAGS,iCookie:this.params.iCookie,testIds:this.params.testIds,slots:this.params.testIds})}push(e){let{eventName:t,eventType:i,data:r,probability:o,values:n,sensors:a,dailySensors:s}=e;if(!this.shouldLogEventWithProbability(o))return;const{version:l}=this.params,d={version:l,data:r,eventName:t,eventType:i,values:n,sensors:a,dailySensors:s};if(void 0!==this.sendingEventName)throw new Zc({code:"RecursiveStatsRequests",details:void 0});this.sendingEventName=t;try{ou("[Stats] "+i+"="+t,d);const e="https://log.strm.yandex.ru/log?VAS="+l+"&event="+t,r=de(this.createFullStatsObject(d));if(r.length>1e6&&"EnormousLogDetected"!==t)return this.sendingEventName=void 0,void this.log({name:"EnormousLogDetected",data:{eventName:t},probability:1});this.sendData(e,r)}catch(eg){this.sendingEventName=void 0,this.onLogError(new Zc(eg,{details:{service:Mc,version:l,eventType:i,eventName:t}}))}this.sendingEventName=void 0}sendData(e,t){const i=function(e,t){return!!Rc&&window.navigator.sendBeacon(e,t)}(e,t);i||ae({url:e,data:t,method:"POST"})}shouldLogEventWithProbability(e){return this.params.rnd<e}createFullStatsObject(e){const{version:t,eventName:i,eventType:r,data:o,sensors:n,dailySensors:a}=e,{location:s,referrer:l}=ie(document),d=ce(window)?ue(window):void 0,c=M(tu(window));return fe({},this.customRootFields,this.rootFields,{service:Mc,values:e.values,sensors:n?$(n,(e=>String(e))):void 0,dailySensors:a?$(a,(e=>String(e))):void 0,timestamp:Date.now(),eventType:r,eventName:i,data:o,vsid:this.params.vsid,version:t,location:P(window),topLocation:s,topAncestor:Ic,isTopAncestorUndetermined:!Nc||void 0,ancestorOrigins:Cc,documentIsVisible:ge(document),referrer:window.document.referrer,topReferrer:l,currentScriptSrc:nc,secureIFrame:Pc,isVideoADB:c,rnd:this.params.rnd,topDocumentFocus:he(),pcodeActiveTestIds:this.params.AB_FLAGS_STORE.getActiveTestIds(),deviceOrientation:d})}}const uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",hu=/^([a-z0-9|-]+\.)*adfox.ru$/,pu=/\/(an|ads)\/adfox/,mu=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},Au=[...["localhost","127.0.0.1"].concat([]),...[pc,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",mc,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]],_u=e=>{var t;let{secureMode:i,url:r}=e;const o=null!=(t=vc.hardcodedParams.adsdksecuremode)?t:i;return"ForceSafe"===o||"Safe"===o&&(!r||!Se(r))},vu=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1};cc({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME"});let gu;!function(e){e[e.DO_NOTHING=0]="DO_NOTHING",e[e.CALL_NORMALLY=1]="CALL_NORMALLY",e[e.DEPENDS_ON_AB_FLAGS=2]="DEPENDS_ON_AB_FLAGS"}(gu||(gu={}));class fu{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){fu.errorHandlers.push(e);return()=>{const t=vu(fu.errorHandlers,(t=>t===e));-1!==t&&fu.errorHandlers.splice(t,1)}}static addCallAfterDestroyErrorHandler(e){fu.callAfterDestroyErrorHandlers.push(e);return()=>{const t=vu(fu.callAfterDestroyErrorHandlers,(t=>t===e));-1!==t&&fu.callAfterDestroyErrorHandlers.splice(t,1)}}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=r,$l(this.destroyHandlers,(e=>{try{e(...t)}catch(i){G(fu.errorHandlers,i)}})),this.destroyHandlers.length=0)}ignoreAfterDestroy(e,t,i){var r=this;return void 0===i&&(i=gu.DO_NOTHING),function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];if(!r.isDestroyed)return e.apply(r,n);const s=new Zc({code:"DESTROYABLE_METHOD_CALLED_AFTER_DESTROY",details:{identifier:t}});if(G(fu.callAfterDestroyErrorHandlers,s),i===gu.DEPENDS_ON_AB_FLAGS){if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_DESTROYABLE_THROW_ERROR_AFTER_DESTROY")){throw new Error("You cannot call a method of a class that had destroy() called")}if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_DESTROYABLE_RETURN_UNDEFINED_AFTER_DESTROY"))return}return i===gu.CALL_NORMALLY?e.apply(r,n):void 0}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}fu.errorHandlers=[],fu.callAfterDestroyErrorHandlers=[];const yu=new cu(Sc);fu.addErrorHandler((e=>{yu.error({error:new Zc(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}));const Tu=(e,t)=>{let i=0;return{promise:new Promise((r=>{i=t.setTimeout(r,e)})),clear(){t.clearTimeout(i)},timeoutId:i}},Eu=["spec","logo","misc"],Su=e=>{if(r(e))for(const t in e)if(e.hasOwnProperty(t)&&!L(Eu,t))return e[t]},bu="application/x-javascript",Cu=["application/javascript",bu];let Pu;!function(e){e.INTERACTIVE_VIEWER="video-banner_interactive-viewer",e.MOTION="video-banner_motion",e.EMPTY="video-banner_theme_empty",e.SURVEY="video-banner_survey",e.CAUCASUS="video-banner_theme_caucasus",e.MOROZ="video-banner_theme_moroz",e.LAKE="video-banner_theme_lake"}(Pu||(Pu={}));const Ou=["aw","ap","s-a","d-sd","k-j","s"].join(""),wu=Ou+"/1_0",Iu=""+("https://"+mc+"/"+wu+"/")+("interactive_viewer"+".js"),Nu=function(e,t){const i=H(e,"adsdkver");return i||t}(window,ql),Du="https://"+mc+"/vas-bundles/",ku="https://"+mc+"/"+Ou+"/1_0/vpaid-motion.js",Ru="https://"+mc+"/pcode/media/vpaid-motion.js",Vu="https://"+hc+"/system/video-ads-sdk/vpaid-motion.js",Lu=Ie(Nu)+"vpaid-motion.js",Bu=[ku,Ru,Vu,Lu],xu="https://"+mc+"/"+Ou+"/1_0/vpaid-creative.js",Mu=["https://"+mc+"/pcode/media/vpaid-creative.js",xu];class Uu extends yc{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&J(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),J(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const Fu=e=>{try{const{left:t,right:i,top:r,bottom:o}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:o,width:i-t,height:o-r}}catch(eg){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};let Hu=!1,zu=!1,ju=!1;try{const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Hu=!0}),Object.defineProperty(t,"passive",{get:()=>zu=!0}),Object.defineProperty(t,"capture",{get:()=>ju=!0}),e.addEventListener("click",X,t)}catch(qO){}const Yu={ES5:"bundles",ES2017:"bundles-es2017"},Wu=e=>{let{version:t=ql,win:i}=e;const r=tu(i),o=Yu.ES5,n=""+Ie(t)+o+"/proxy_frame.html";return M(r)?r(n):n};let Gu;const Xu=function(e){return void 0===e&&(e=window),Gu||(Gu=e.document.createElement("div")),Gu}(window),qu=(e,t)=>{const i="undefined"!==typeof Xu.style[e];if(i&&t&&s(t))try{Xu.style.cssText=e+": "+t+";";const i=Boolean(Xu.style.cssText);return Xu.style.cssText="",i}catch(eg){return!1}return i},Ku={},Zu=function(e){return void 0===e&&(e=""),Ku[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<bd.length;i++){const r=bd[i],o=r?""+r+t:e;if(qu(o))return Ku[e]=o}return Ku[e]=e}(e)},Ju={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Qu={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},$u={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},eh=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?$u:Qu;xe(t,r.attributes),Le(t,r.styles)},th="VAS_FRAME_GLOBAL_CALLBACK",ih=cc({propertyName:th}),rh=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),oh=e=>{let{container:t,frameUrl:i,initialData:r}=e;const o=t.ownerDocument.createElement("iframe"),n=(e=>{const t=Me({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0,STATS_ROOT_PARAMS:void 0,VAS_UAAS_CONFIG:void 0,VAS_UAAS_CONFIG_ParseError:void 0,AdditionalStatsRootFields:void 0,AdditionalStatsRootFieldsExtractionError:void 0,statsInstance:void 0});return encodeURI(JSON.stringify(t))})(r);xe(o,{name:n,sandbox:rh,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),Le(o,Ue({},Ju)),eh({iframe:o,shouldBeVisibleNow:!1}),t.appendChild(o);const a=o.name;return a!==n&&yu.log({name:"VASFrameInsideApiNoNameOnMount",data:{expectedName:n,actualName:a,handshakeID:r.handshakeID},probability:1}),o},nh=e=>(e=>e instanceof Promise||"Promise"===Jl(e)&&Boolean(Fe((()=>m(e.constructor)))))(e)||(e=>Boolean(Fe((()=>A(e.then)&&A(e.catch)))))(e);class ah extends fu{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=Re({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Zc({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler(Re({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Zc({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=_(6),r=Tu(5e3,window);r.promise.then((()=>{this.destroy(new Zc({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))})).catch(ee),this.addDestroyHandler((()=>r.clear()));const o=this.waitForNextCommandEvent({name:e,id:i}),n=new Promise(((t,n)=>{o.then((o=>{if(r.clear(),"success"===o.status)t(o.payload);else if("error"===o.status){const e=o.payload;n((e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t})(e))}else{if("abort"===o.status)return;this.destroy(new Zc({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:o.status,payload:o.payload,name:e,commandId:i}}))}})).catch(n)})),s=a((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:n,abort:s}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Zc({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(He({},e,{type:"command"}))}catch(t){0,this.destroy(new Zc({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!i)return void this.destroy(new Zc({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),o=e.payload;try{i(r,o)}catch(n){0,this.destroy(new Zc({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:n}}))}}))}createCommandControlDescriptor(e){const t=new yc;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}),"Dispatcher.awaitForResolveOfWaitForNextCommandEvent")).catch(X),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const o=Hc(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:o})},subscribeForAbort:function(){return i?X:t.add(...arguments)}}}isEventDataCommandLike(e){return!!r(e)&&("command"===e.type&&(!!h(e.id)&&!!h(e.status)))}}const sh=c({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),lh=["src","poster"],dh=c({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),ch=["video/mp4","video/webm"],uh={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},hh=c({load:0,play:0,pause:0,setAttribute:0}),ph=(e,t,i)=>{if(!r(e))return e;const o=e,n=t.split("."),a=n.pop();for(const s of n){const t=e[s];e=r(t)?t:e[s]={}}return e[a]=i,o};const mh=c({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Ah=new WeakSet;class _h extends fu{static isVideoNodeLocked(e){return Ah.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),ou("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",ze(nu(ch,(e=>[e,this.params.videoNode.canPlayType(e)])))),$l(c(uh),(e=>{const t=uh[e];$l(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(L(hh,e)){if("setAttribute"===e){const[e,r=""]=t;if(!h(e))return;return L(lh,e)?i.setAttribute(e,r):void yu.error({error:new Zc({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}yu.error({error:new Zc({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!L(dh,e))return void yu.error({error:new Zc({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,o=i[r];ph(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler((()=>{ph(i,e,o)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;$l(sh,(t=>{this.addDestroyHandler(Re({element:e,eventName:t,listener:e=>{uh.hasOwnProperty(e.type)&&$l(uh[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>je({},ze(nu(mh,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)}),"OutsideApiLocalVideoNode.timeoutForHandleVideoNodeEvent"),0)}}))}))}}class vh extends fu{constructor(e){super(),this.vpaidEventBus=new yc,this.vpaidGetterPropertyBus=new yc,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:o}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:o})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:o}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:o})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:o,args:n}]=t;const a=this.localVideoNode;if(a)try{ou("[outsideAPI] call video method=["+o+"], args=["+n+"]");const e=a.callVideoNodeMethod(o,n);return nh(e)?e.then((e=>{i(e)})).catch(r):i(e)}catch(s){this.destroy(new Zc({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Zc({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:o}]=t;i();const n=this.localVideoNode;n?L(dh,r)?(ou("[outsideAPI] set video property name=["+r+"], value=["+o+"]"),n.setVideoNodeProperty(r,o)):this.destroy(new Zc({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:o}})):this.destroy(new Zc({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:o}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{ou("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,ou("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&yu.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new ah(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler(Re({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!r(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new Zc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(yu.error({error:null!=e?e:new Zc({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){ou("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r,responseHeaders:o}=await t.promise;return ou("[outsideApi]: finish get request"),{responseStatus:r,responseText:i,responseHeaders:o}}async loadCreative(e){ou("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,ou("[outsideApi]: done loading creative")}async initCreative(e){ou("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,ou("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return ou("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return ou("[outsideApi]: "+(e?"show":"hide")+" frame"),eh({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(_h.isVideoNodeLocked(t))throw ou("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");ou("[outsideApi]: assign video tag"),this.localVideoNode=new _h({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;ou("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return ou("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:r,args:o}=i;e===r&&t(r,o)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:r}=t;e(i,r)}))}}const gh=e=>{var t;ou("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},ih.call({propertyName:th,callbackArguments:[{step:t}]});const{container:i,initTimeout:o}=e,n=new yc,a=i.ownerDocument.defaultView,s=(async e=>{let{container:t,initAbort:i,initTimeout:o}=e;const n=_(6);yu.log({name:"VASFrameInitStart",data:{handshakeID:n}});const a=Date.now();let s=!1;const l=new yc;l.add((()=>{s=!0})),i.add((()=>{ou("[initOutsideApi]: init aborted"),yu.log({name:"VASFrameInitAborted",data:{handshakeID:n}}),l.dispatch(void 0)}));const d=Ye({},ke(vc,Ec),{handshakeID:n}),c=oh({container:t,frameUrl:Wu({win:window}),initialData:d});l.add((()=>{ou("[initOutsideApi]: remove frame"),Ve(c)}));const u=new MessageChannel;u.port1.start(),l.add((()=>{u.port1.close()}));const h=new Promise((e=>{ou("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",(()=>{ou("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:n},"*",[u.port2]),e()}))})),p=new Promise((e=>{const t=Re({element:u.port1,eventName:"message",listener:i=>{const r=i.data;"handshake"===r.type&&r.initialData.handshakeID===n&&(ou("[initOutsideApi]: got handshake event"),t(),e())}})})),m=Promise.all([h,p]),{promise:A,clear:v}=Tu(o,window);if(A.then((()=>{var e;yu.error({error:new Zc({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=c.parentElement)?void 0:e.tagName,frameBoundingClientRect:Fu(c),handshakeID:n}})}),l.dispatch(void 0)})),m.then((()=>{v()})),l.add((()=>{v()})),await Promise.race([m,A]),s)throw new Zc({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});yu.log({name:"VASFrameInitSuccess",data:{handshakeID:n},values:{timeSpent:Date.now()-a}}),c.removeAttribute("name"),i.removeAll();const g=new vh({port:u.port1,initialData:d,frame:c});return g.addDestroyHandler((()=>{ou("[initOutsideApi]: do teardown since class destroy"),yu.log({name:"VASFrameDestroy",data:{handshakeID:n}}),l.dispatch(void 0)})),g.addDestroyHandler(Re({element:u.port1,eventName:"message",listener:e=>{const t=e.data;r(t)&&"destroy"===t.type&&yu.error({error:new Zc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),ou("[initOutsideApi]: init done"),g})({container:i,initAbort:n,initTimeout:o,win:a});return{initPromise:s,abortInit:()=>n.dispatch(void 0)}},fh={idle:["initializing"],initializing:["initialized"]};class yh extends fu{constructor(){super(),this.state=new Uu({name:"idle"},((e,t)=>{const i=fh[e.name];return i&&L(i,t.name)||yu.error({error:new Zc({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),ou("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,ou("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){ou("SingleVASFrame: do init");const t=gh(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");ou("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){ou("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Th;const Eh=()=>(Th||(Th=new yh,Th.addDestroyHandler((()=>{Th=void 0}))),Th),Sh=async e=>{const t=Eh();return(await t.initPromise).doGETRequest(e)},bh=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise(((e,o)=>{const n=new XMLHttpRequest;n.open("GET",t),n.withCredentials=r,n.onerror=()=>o({reason:"error",error:new Error("XHR Error["+n.status+"]["+n.statusText+"]["+t+"]")}),n.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t,o={};$l(t.getAllResponseHeaders().trim().split(/[\r\n]+/),(e=>{const t=e.split(": "),i=t.shift(),r=t.join(": ");i&&(o[i]=r)})),i({responseText:r,responseStatus:e,responseHeaders:o})}})({xhr:n,resolve:e});try{n.send(i)}catch(qO){qO.message="XHR Send Error["+qO.message+"]["+t+"]";o({reason:"error",error:qO})}}))},Ch=async e=>{await new Promise((t=>{window.setTimeout(t,e)}))},Ph=e=>{let{thrownError:t,errorCode:i,errorDetails:o,timeoutCode:n,timeoutDetails:a}=e;const s=t;if(se(s))return s;if("string"===typeof s.reason&&r(s.error)){const{error:e,reason:t}=s;if("error"===t)return new Zc(e,{code:i,details:o});if("timeout"===t)return new Zc(e,{code:n,details:a})}return new Zc(t,{code:i,details:o})},Oh="vsid",wh="vmap-scenario-id",Ih="has-preroll",Nh="wtime-since-ad",Dh="ad-pod-id",kh=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r},Rh=(e,t)=>{for(const i of t.split(".")){if(!f(e)){e=void 0;break}e=e[i]}return e},Vh=(e,t,i)=>{if(!f(e))return e;const r=e,o=t.split("."),n=o.pop();for(const a of o){const t=e[a];e=f(t)?t:e[a]={}}return e[n]=i,r},Lh=e=>{try{return e()}catch(eg){return}},Bh=(e,t,i,r)=>function(){try{return t.apply(i||this,arguments)}catch(eg){if(A(r)&&r(eg),!0===eg.preventProtect)throw eg;Bh.log(eg,e)}};Bh.log=function(e,t){console.log("LOG:"+t+":"+e)},Bh.setTimeout=(e,t,i,r)=>window.setTimeout(Bh("timeout",e,i,r),t);class xh{}xh.YaContextCallbacks=qe("Ya.C","ontext._callbacks"),xh.YaContextCallbacksCalls=qe("Ya.C","ontext._callbacks_call"),xh.AdvManager=qe("A","dvManager"),xh.AdvBlock=qe("A","dvBlock"),xh.RTB=qe("R","TB"),xh.Rtb=qe("R","tb"),xh.MetrikaAdtune=qe("metrika_a","dtune");class Mh{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Uh=re((()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(r=Lh((()=>Rh(e,t))),!r)return Lh((()=>W(e.frames)))||[]})),r||(r=i()),Vh(e,t,r),r})(self,"Ya.pcodeCrossFrameData",(()=>new Mh({}))))),Fh=re((()=>((e,t,i)=>{let r=Rh(e,t);return r||(r=i(),Vh(e,t,r)),r})(self,"Ya.pcodeWindowData",(()=>new Mh({}))))),Hh="Ya._metrika.dataLayer",zh=Bh("metrika::pushEvent",((e,t)=>{const i=Rh(e,Hh)||[];Vh(e,Hh,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:Ke({},t)}}})})),jh=Bh("sessionId::configureMetrika",((e,t)=>{zh(e,{adSessionID:t})})),Yh=()=>(1e6*gd()).toFixed(0)+(new Date).valueOf().toString(),Wh="sessionId";let Gh;const Xh=()=>{var e;return Gh||(Gh=((e,t,i,r)=>{let o=t.getItem(Wh);return o||(o=i.getItem(Wh)||e(),r(window,o)),t.setItem(Wh,o),i.setItem(Wh,o),o})(Yh,(e="common",kh(Fh(),e,(()=>new Mh({})))),(e=>kh(Uh(),e,(()=>new Mh({}))))("common"),jh)),Gh},qh=()=>p(Xh)||void 0,Kh=e=>{var t;const i=null==(t=e.yandex)?void 0:t.getSiteUid;if(M(i))return String(i())},Zh=e=>Math.round(e),Jh=e=>({width:Zh(e.width),height:Zh(e.height)}),Qh="function"===typeof IntersectionObserver&&m(IntersectionObserver),$h=()=>!ep(),ep=()=>Qh||!Pc,tp=function(e,t){let i=e[t];if(!m(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(eg){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,f(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},ip=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Bd(t)){const r=t.map((t=>e(t,i)));return r}return(o=t)instanceof Date||"Date"===Jl(o)?new Date(t.getTime()):(!A(t)&&f(t)&&(r=i.preserveConstructors?tp(t):{},C(t,((t,o)=>{r[o]=e(t,i)}))),r);var o},rp=et({},Wl,{bitrate:0}),op=tt({},rp,{type:bu}),np="https://"+mc+"/"+wu+"/ad_creative.js",ap=it({url:np},op),sp={nextAd:0,startVideo:0,continueVideo:0},lp={type:"nextAd",poster:[]},dp={poster:[]};let cp={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1};let up={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],firstFrameImages:[],icons:[],progressTrackings:[],trackingEvents:{},abuseUrl:"",duration:0,adVerifications:[],creativeParameters:{body:void 0,ageRestriction:void 0,buttonLabel:void 0,showTitleAndBody:void 0,greenUrl:void 0,punyDomain:void 0,domain:void 0,title:void 0,targetUrl:void 0},assets:{button:void 0,logo:void 0,images:void 0,icon:void 0,app:void 0},clickUrlData:{vastClickUrl:void 0,serializablePlaybackParametersClickUrl:void 0,tgaOfferClickUrl:void 0},bannerFlags:void 0,legalText:void 0,surveyParameters:void 0,ecomShop:void 0,adTitleParameters:void 0};const hp="https://"+mc+"/"+Ou+"/1_0/no-aim-screen.js",pp={type:"ad-creative-animation/javascript",url:hp},mp=(e,i,r)=>{const o=ct(e,i,r),n=parseInt(o,10);return t(n)?n:r},Ap=[].find,_p=m(Ap)?(e,t)=>Ap.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}};let vp;const gp=e=>t=>{const{JSON:i,clean:r}=function(e){void 0===e&&(e=document.body);const t=function(e){const t=function(e,t){let{content:i,size:r}=void 0===t?{}:t;const o=e.ownerDocument.createElement("iframe");o.scrolling="no",o.setAttribute("allowfullscreen",""),o.style.display="block",r&&(o.height=r.height,o.width=r.width),e.appendChild(o);const n=o.contentDocument;return n.open(),i&&n.write(i),n.close(),n.body.style.margin="0",o.style.borderWidth="0",o}(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",function(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}(e)}(t)}}();try{return i[e](t)}finally{r()}},fp="DEFAULT_ERROR_MESSAGE",yp=0,Tp="",Ep="?:?:?",Sp=!0,bp=e(3438);class Cp extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||fp)};super(),bp(this,Cp.prototype),this.message=t.message||i.message||fp,this.code=t.code||i.code||i.id||yp,this.isFatal=Boolean(function(e){const[t]=((e,t,i)=>{const r=[];for(let o=0;o<e.length;o++){const n=e[o];t.call(i,n,o,e)&&r.push(n)}return r})(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,Sp])),this.details=t.details||i.details||Tp;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:o,columnNumber:n,lineNumber:a}=e;return(t||o||"?")+":"+(i||a||"?")+":"+(r||n||"?")}(i);let o=r===Ep?this.stack:r;if(o&&o!==Ep)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(eg){this.stack=o=eg.stack||Ep}this.toString=()=>_t(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}const Pp="ru";class Op extends Cp{constructor(){super(...arguments),this.name="TranslatorError"}}const wp=2147483647,Ip=-1,Np={adLabel:0,socialAdLabel:0,businessUnitAdLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0,backpackAdSequence:0,productsButton:0,controlPanel:0},Dp=c(Np),kp=$(Np,(()=>!1)),Rp={controlsVisibility:{}},Vp={},Lp=(e=>l(e.navigator.sendBeacon))(window);cc({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME"});let Bp={showCountDown:!0,showSoundButton:!0,showLabel:!0};const xp=e=>({src:ut(e.querySelector("StaticResource")),program:ct(e,"program"),xPosition:mp(e,"xPosition",0),yPosition:mp(e,"yPosition",0),width:mp(e,"width",0),height:mp(e,"height",0)}),Mp=/&\w+;/g,Up={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},Fp=a((()=>{yu.log({name:"AdCreativeVideoBannerVastUnmoderatedInsideText"})}));var Hp=0,zp=1;const jp=e=>{if(!Array.isArray(e))return[];const t=nu(e,(e=>{const t=e[0],i=Number(e[1]),o=Number(e[2]),n=e[3];if(h(t)&&!isNaN(i)&&!isNaN(o)){const e=[t,String(i),String(o)];return r(n)&&e.push(n),e}}));return fc(t,(e=>void 0!==e))},Yp=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!r(t)||!r(t.data_params))return;const o=Su(t.data_params);if(!r(o))return;const n=o.assets;if(!r(n))return;const a={},{logo:s,button:l,icon:d,app:u,images:p,price_info:m}=n;if(r(s)){const e=pe(s);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:o,height:n}=r;h(e)&&zt(o)&&zt(n)&&(t[i]={url:e,width:o,height:n})}jt(t)||(a.logo=t)}}if(r(l)){const{caption:e,href:t,key:i}=l;h(e)&&h(t)&&h(i)&&(a.button={caption:e,href:t,key:i})}if(r(u)){const{review_count:e,store_name:t,name:r,download_count:o,rating:n,store_app_id:s,store_content_id:l,price_currency_symbol:d,price_currency_code:c,price:p,age:m,free:A}=u;zt(e)&&h(t)&&h(r)&&h(o)&&i(n)&&h(s)&&h(l)&&h(d)&&h(c)&&i(p)&&zt(m)&&"boolean"===typeof A&&(a.app={review_count:e,store_name:t,name:r,download_count:o,rating:n,store_app_id:s,store_content_id:l,price_currency_symbol:d,price_currency_code:c,price:p,age:m,free:A})}if(r(d)){const e=pe(d);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:o,height:n}=r;h(e)&&zt(o)&&zt(n)&&(t[i]={url:e,width:o,height:n})}jt(t)||(a.icon=t)}}if(td(p)&&(a.images=jp(p)),r(n.multicards)&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_MULTICARD_IMAGES_FOR_MOTION")&&(a.multicardImages=(e=>{if(!r(e))return;const t=c(e).sort();return nu(t,(t=>{const i=e[t].image;return nu(i,(e=>({smartCenters:nu(e.SmartCenters,(e=>({x:e.X,y:e.Y,w:e.W,h:e.H}))),url:e.Url,width:e.Width,height:e.Height})))}))})(n.multicards)),r(m)&&h(m.price)&&h(m.currency)&&(a.priceInfo={currency:m.currency,oldPrice:h(m.old)?Number.parseFloat(m.old):void 0,price:Number.parseFloat(m.price)}),n.multicards&&r(n.multicards_click_link)&&r(n.multicards_button_text)&&r(n.multicards_type)){const e=n.multicards,t=n.multicards_click_link,i=n.multicards_button_text[1],r="1"===n.multicards_type[1]?zp:Hp,o=c(e).sort(),s=nu(o,(i=>{const{href:r,currency:o,price_old:n,price:a,text:s,image:l}=e[i],d=t[i],c=void 0!==o&&void 0!==a?{price:a,currency:o,oldPrice:n}:void 0,u=l.sort(((e,t)=>t.Width*t.Height-e.Width*e.Height))[0].Url;return{clickThruUrl:d,priceInfo:c,text:s,link:r,imageUrl:u}}));a.ecomShop={buttonText:i,products:s,type:r}}return a},Wp=a((e=>{yu.log({name:"AdCreativeVideoBannerVastLegalText",sensors:{source:e}})})),Gp=function(e){let t=0,i=e?nu(e,(e=>e[0])):[],r=e?nu(e,(e=>e[1])):[];const o=e=>(t=i.indexOf(e))>-1,n={get size(){return i.length},has:o,clear:()=>{i=[],r=[]},get:e=>r[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>r.slice())),entries:()=>nu(i,((e,t)=>[e,r[t]])),delete:e=>o(e)&&i.splice(t,1)&&Boolean(r.splice(t,1)),forEach(e,t){$l(r,((r,o)=>e.call(t,r,i[o],n)))},set:(e,a)=>(o(e)?r[t]=a:r[i.push(e)-1]=a,n)};return n},Xp=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new Gp}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),qp=(l(window.Set)&&window.Set,e=>{const t=[];if(!r(e))return t.push(new Error("parsed but not an object")),{errors:t,params:void 0};let i,o;if(0===e.show||1===e.show)i=1===e.show;else{if("boolean"!==typeof e.show)return t.push(new Error('"show" is not a boolean nor 0,1 number')),{errors:t,params:void 0};i=e.show}if("domain"in e&&e.domain&&"string"!==typeof e.domain)return t.push(new Error('"domain" is defined but not a string')),{errors:t,params:void 0};h(e.domain)&&(o=e.domain);return{errors:void 0,params:{show:i,domain:!o||o.length<=30?o:o.slice(0,30)+"..."}}}),Kp=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Zp;const Jp=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const o=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),l=e.querySelector("Linear"),d=e.querySelector("TrackingEvents"),c=d?d.querySelectorAll("Tracking"):[],u=W(e.querySelectorAll("Impression")),p=e.querySelectorAll("Error"),m=e.querySelector("Extensions"),A=e.querySelector("Description"),v=e.querySelectorAll("Icons Icon"),g=e.querySelector("AdParameters"),f=e.querySelector("AdSystem"),y=e.querySelector("AdTitle"),T=e.querySelector("Creative"),E=h(e.id)?e.id:void 0,S=ip(up,{preserveConstructors:!1});S.adId=E,T&&(S.creativeId=h(T.id)?T.id:void 0),S.parseIndex=void 0===Zp?(Zp=0,Zp):++Zp,S.randomHexString=_(16);const b=e.querySelector("InLine"),C=e.querySelector("Wrapper"),P=Boolean(b);if(P===Boolean(C)){if(P)throw new Zc({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Zc({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(S.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const r=e.querySelector("Extensions");if(!i&&r&&(i=r.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const o=i.querySelectorAll("Verification"),n=[];if(Boolean(o))for(const a of Array.from(o)){const e=a.getAttribute("vendor"),i=ut(a.querySelector("JavaScriptResource")),r={},o=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(o))for(const t of Array.from(o)){const e=ct(t,"event"),i=ut(t);h(e)&&h(i)&&(r[e]=i)}const l=ut(a.querySelector("VerificationParameters"));h(e)&&h(i)&&s(l)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:l}):n.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:l})}return n.length>0&&yu.error({error:new Zc({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(n)}})}),t}(e),S.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return-1;const i=parseInt(t,10);return Rt(i)?i:(yu.error({error:new Zc({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),-1)}(e),o){const e=ut(o.querySelector("ClickThrough"));e&&(S.clickUrlData.vastClickUrl=e);const t=o.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)Kp(S,"clickThrough",ut(t[i]))}if(P&&g){const e=ut(g);S.adParameters=e;const t=Pt(e);if(r(t)){var O;S.adParametersObject=t;const e=function(e){if(!r(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!r(t))return;const{data_params:i}=t;if(!r(i))return;const{misc:o}=i;if(!r(o))return;const{click_url:n}=o;if(!r(n))return;const{abuse:a}=n;return h(a)?a:void 0}(t);e&&(S.abuseUrl=e),S.serializablePlaybackParameters=Ct(t.playbackParameters).config;const i=function(e){if(!r(e))return;const{background:t}=e;return r(t)&&h(t.color)?t.color:void 0}(t);void 0!==i&&(S.backgroundColor=i);const o=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(h(t))return t}(t);o&&Kp(S,"packshotStart",o);const{bidreqid:n,campaignid:a,pageId:l,impId:d,vmapRequestId:c}=function(e){if(!r(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!r(t))return{};const{data_params:i}=t;if(!r(i))return{};const{misc:o}=i;if(!r(o))return{};const{bidreqid:n,campaignid:a,pageId:s,impId:l,vmap_request_id:d}=o;return{bidreqid:h(n)?n:void 0,campaignid:h(a)?a:void 0,pageId:h(s)?s:void 0,impId:h(l)?l:void 0,vmapRequestId:h(d)?d:void 0}}(t);S.bidreqid=n,S.campaignid=a,S.pageId=l,S.impId=d,S.vmapRequestId=c,S.firstFrameImages=ot(null==(O=t.firstFrame)?void 0:O.images),S.productType=mt(t),Object.assign(S.creativeParameters,(e=>{const t=Ft(e),{title:i,body:r,hasTitle:o,hasBody:n}=Mt(e),a=xt(e);let s,l,d,c,u;if(a){u=a.domain;const{green_url_text_prefix:t,green_url_text_suffix:i,age:r}=a;d=Ut({domain:u,greenUrlTextPrefix:t,greenUrlTextSuffix:i});const o=Ht(e);s=null==o?void 0:o.punyDomain,l=null==o?void 0:o.showTitleAndBody,h(r)&&(c=r)}return{buttonLabel:t,title:o?i:void 0,body:n?r:void 0,domain:u||void 0,punyDomain:s||void 0,showTitleAndBody:l,greenUrl:d,ageRestriction:c,targetUrl:Ce(e)}})(t)),S.ecomShop=function(e){if(!r(e))return;const t=Yp(e);return null==t?void 0:t.ecomShop}(t);const u=Yp(t);u&&Object.assign(S.assets,u),Object.assign(S.clickUrlData,{tgaOfferClickUrl:Yt(t),serializablePlaybackParametersClickUrl:S.serializablePlaybackParameters.clickThroughUrl}),function(e){const{tgaOfferClickUrl:t,vastClickUrl:i,serializablePlaybackParametersClickUrl:r}=e,o=fc([t,i,r],h);0===o.length&&yu.log({name:"VastAdHasNoClickUrls",data:{clickUrlData:e}}),new Xp(o).size>1&&yu.log({name:"VastAdHasDifferentClickUrls",data:{clickUrlData:e}})}(S.clickUrlData),S.bannerFlags=function(e){const t=xt(e);if(!r(t))return;const{banner_flags:i}=t;if(!h(i))return;const o=i.split(",");return{medicine:L(o,"medicine"),dietarysuppl:L(o,"dietarysuppl"),businessUnit:L(o,"business_unit")}}(t),S.legalText=function(e){const{LEGAL_TEXT:t,HAS_LEGAL:i}=e;if(i&&h(t))return Wp("legalField"),t.trim();const o=xt(e);if(!r(o))return;const{warning:n,dynamic_disclaimer:a}=o;return h(n)&&"1"===a?(Wp("dynamicDisclaimer"),n):void 0}(t),S.surveyParameters=(e=>{if(!r(e))return;const{pythia:t}=e;if(!r(t))return;const{basePath:i,slug:o,extra:n,"survey-config":a}=t;if(!s(n))return;const l=Wt(e),d=new URL(i+"/"+o+"/?"+n);return{surveyConfig:a,location:{host:d.host,pathname:d.pathname,search:d.search},isBrandLiftSurveyCreative:l}})(t)}}if(C){const t=ut(e.querySelector("VASTAdTagURI"));if(!t)throw new Zc({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});S.vastAdTagUri=t}if(void 0!==n)for(let r=0;r<n.length;r++){const e=pt(n[r]);e&&S.mediaFiles.push(e)}for(let r=0;r<c.length;r++){const e=ct(c[r],"event"),t=ut(c[r]);if("progress"===e){const e=ct(c[r],"offset",""),o=kt(e);void 0===o?yu.error({error:new Zc({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):S.progressTrackings.push({urls:[t],offset:o})}else Kp(S,e,t)}$l(u,(e=>{Kp(S,"impression",ut(e))}));for(let r=0;r<p.length;r++)Kp(S,"error",ut(p[r]));for(let r=0;r<v.length;r++)S.icons.push(xp(v[r]));if(m){const e=m.querySelectorAll('Extension[type="skipAd"]');for(let i=0;i<e.length;i++)yu.log({name:"UsingSkipAdExtensionInVast"}),Kp(S,"skip",ut(e[i]));const t=m.querySelector('Extension[type="skipTime"]');if(ht(t)){const e=Dt(ut(t));yu.log({name:"UsingSkipTimeExtensionInVast",data:{skipTime:e}}),S.skipTime=Dt(ut(t)),S.skipTime>180&&(S.skipTime=0)}const r=m.querySelector('Extension[type="controls"]');if(r){const e=(e=>{const t=Vt({},Bp),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==ct(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==ct(r,"layout"));const o=e.querySelector('control[id="adlabel"]');return o&&(t.showLabel="0"!==ct(o,"layout")),t})(r);yu.log({name:"UsingControlsExtensionInVast",probability:xc,data:{imhoParams:e}}),S.imhoParams=e}const o=m.querySelector('Extension[type="AdTitle"]');if(o){const{errors:e,params:t}=(e=>{const t=ut(e),i=[];let r;try{r=JSON.parse(t)}catch(eg){i.push(eg)}if(!r)return{errors:i,params:void 0};const o=qp(r);return o.errors?{errors:o.errors,params:void 0}:{errors:void 0,params:o.params}})(o);null!=e&&e.length?yu.error({error:new Zc({code:i?"YANDEX_VAST_INCORRECT_AD_TITLE_EXTENSION_XML":"VAST_INCORRECT_AD_TITLE_EXTENSION_XML",details:{errors:e}})}):(yu.log({name:"UsingAdTitleExtensionInXMLVast",probability:xc}),S.adTitleParameters=t)}const n=a((()=>{yu.log({name:"UsingCustomTrackingExtensionInVast",probability:xc})})),s=m.querySelector('Extension[type="CustomTracking"]'),l=s?s.querySelectorAll("Tracking"):[];for(let i=0;i<l.length;i++){n();const e=ct(l[i],"event");Kp(S,e,ut(l[i]))}}if(ht(A)&&(S.description=ut(A)),ht(f)){S.adSystem=ut(f);const e=ct(f,"dspLabel");h(e)&&(S.dspLabel=e)}if(ht(y)&&(S.adTitle=ut(y)),l){const e=ct(l,"skipoffset","").trim();if(""!==e){const t=Dt(e);isNaN(t)?Nt(new Zc({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),S.trackingEvents.error):S.skipOffset=t}const t=l.querySelector("Duration");t&&(S.duration=Dt(ut(t)))}return S},Qp=async e=>{var t;let{url:i,loadParameters:r,isWrapper:o=!1}=e;if(!i)return Promise.reject(new Zc({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:n}=r;yu.log({name:o?"WrapperVastLoadStart":"VastLoadStart",data:{url:i,loadParameters:r,timeout:n}});const a=Date.now(),s=await $p({url:i,loadParameters:r,isWrapper:o}),l=s.ads[0],d=Ce(null==l?void 0:l.adParametersObject),c=Boolean(d),u=De(l),h=Te(p=i)?"AD_FOX":Se(p)?"YANDEX":"EXTERNAL";var p;const m=null!=(t=r.adPlacementOptions.adBreakType)?t:r.adBreakType;return yu.log({name:o?"WrapperVastLoadSuccess":"VastLoadSuccess",data:{url:i,timeout:r.vastTimeout},values:{adsCount:s.ads.length,timeSpent:Date.now()-a},sensors:{adBreakType:m,firstAdPodFormatType:u,vastSource:h,hasTargetUrl:c}}),s},$p=async e=>{let{url:t,loadParameters:i,isWrapper:r=!1}=e;const{vastTimeout:o}=i,n=Se(t),a="VASFrame"===i.requestMethod?Sh:bh,s="boolean"!==typeof vc.hardcodedParams.adsdkwithcredentials||vc.hardcodedParams.adsdkwithcredentials;try{const{responseText:e,responseStatus:r}=await Xe({url:t,data:null,timeout:o,doRequest:a,withCredentials:s});if(function(e,t,i,r){if(200===i)return;if(204===i&&0===t.length)return void yu.log({name:"NoContentVastResponseWithEmptyText",data:{url:e,isYandexUrl:r},probability:xc});let o;switch(t){case"\x3c!-- Bad partner/domain --\x3e":o="BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";break;case"\x3c!-- PageImp data not found --\x3e":o="BAD_IMP_ID_FOR_VAST_REQUEST";break;default:o=r?"YANDEX_UNEXPECTED_VAST_RESPONSE_TEXT":"UNEXPECTED_VAST_RESPONSE_TEXT"}if(o)throw new Zc({code:o,details:{url:e,responseText:t,responseStatus:i}})}(t,e,r,n),204===r)throw new Zc({code:"NO_AD_SECTION",details:{reason:"status-204"}});return em({xmlString:e,loadParameters:i,vastUrl:t})}catch(qO){const a="AD_FOX"===i.vastSourceType;let s,l;s=se(qO)?qO.code:a?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",l=r?n?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const d=Ph({thrownError:qO,errorCode:s,errorDetails:void 0,timeoutCode:l,timeoutDetails:{vastTimeout:o,url:t}});return Promise.reject(d)}},em=async e=>{var t,o,n,a,l,d;let{loadParameters:u,vastUrl:m,xmlString:A}=e;const _=We(A),v="YANDEX"===u.vastSourceType;if(!_){const e=(()=>{switch(u.vastSourceType){case"YANDEX":return"YANDEX_INVALID_VAST_XML";case"AD_FOX":return"ADFOX_INVALID_VAST_XML";default:return"INVALID_VAST_XML"}})();throw new Zc({code:e,details:{xmlString:A}})}const g=_.querySelector("VAST");if(!g)throw new Zc({code:"NO_AD_SECTION",details:{reason:"no-vast-tag"}});const f=g.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!s(e))return!1;const t=Number(e.split(".")[0]);return!!i(t)&&t<=4}(f))throw new Zc({code:v?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:A,version:f}});const y="true"===g.getAttribute("ya-uniformat"),T="true"===g.getAttribute("ya-has-banner-storage-ad"),E=L(["Yabs Ad Server","Yabs Ad CPC Server"],null!=(t=null==(o=g.querySelector("AdSystem"))?void 0:o.textContent)?t:""),S=W(g.querySelectorAll("VAST Ad"));let b;if(0===S.length)b=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:o}=e;const n=ip(cp,{preserveConstructors:!1}),a=i.querySelector('Extension[type="aim"]');if(!a)return n;const s=a.textContent;if(!s)return n;const l=p((()=>JSON.parse(s)),(()=>{throw new Zc({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:s}})}));if(!r(l))throw new Zc({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:l}});yu.log({name:"NoAimScreenDataParsed",data:{aimNodeConfig:s},probability:1});const{isActive:d,filterReasons:c}=l;if("boolean"!==typeof d)throw new Zc({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:s}});if(!d)return n;if(!td(c))throw new Zc({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:c}});const u=[];for(const r of c){if(!dt(r))throw new Zc({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:c}});u.push(r)}const h={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",packshotSettings:{},contentAfterAd:dp},m={playbackParameters:h,mediaFiles:[pp],adParameters:{filterReasons:u}};return{isUniformat:t,ads:[lt({},ip(up,{preserveConstructors:!1}),{duration:15,serializablePlaybackParameters:h,mediaFiles:[ap],adParameters:JSON.stringify(m),adParametersObject:m})],children:[],xmlString:o,url:void 0}}({isUniformat:y,xmlVastNode:g,xmlString:A});else{const e=[],t=nu(S,(t=>{const i=Jp(t,{isYandexVastUrl:v}),{vastAdTagUri:r}=i;if(!r)return[i];if(u.remainingLoadWrapperVastCount<=1)return yu.error({error:new Zc({code:v?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:o}=u;return Qp({url:Je({url:r,options:o,win:window}),loadParameters:Gt({},u,{remainingLoadWrapperVastCount:u.remainingLoadWrapperVastCount-1}),isWrapper:!0}).then((t=>(e.push(t),nu(t.ads,(e=>{var t,r;return t=e,(r=i).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...r.mediaFiles]),$l(c(r.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...r.trackingEvents[e]||[]]})),r.clickUrlData.vastClickUrl&&(t.clickUrlData.vastClickUrl=r.clickUrlData.vastClickUrl),null===t.skipTime&&(t.skipTime=r.skipTime),null===t.skipOffset&&(t.skipOffset=r.skipOffset),t.progressTrackings.push(...r.progressTrackings),isNaN(t.duration)&&(t.duration=r.duration),-1===t.sequence&&(t.sequence=r.sequence),t.adSystem||(t.adSystem=r.adSystem),h(r.dspLabel)&&(t.dspLabel=r.dspLabel),e}))))).catch((e=>(se(e)?yu.error({error:e}):yu.error({error:new Zc({code:v?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:r,parsingParameters:u}})}),[])))}));b={ads:Qe(await Promise.all(t)),xmlString:A,children:e,url:m,isUniformat:y}}const C=b.ads[0],P=!!C&&function(e){var t,i,r;const o=Su(null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)?void 0:i.data_params),n=null==o||null==(r=o.assets)?void 0:r.images;return void 0!==n&&td(n)&&n.length>0}(C),O=(null==C?void 0:C.firstFrameImages.length)>0,w=void 0!==(null==C?void 0:C.legalText),I=void 0!==(null==C?void 0:C.bannerFlags),N=!0===(null==C||null==(n=C.bannerFlags)?void 0:n.businessUnit),D=!0===(null==C||null==(a=C.bannerFlags)?void 0:a.medicine),k=!0===(null==C||null==(l=C.bannerFlags)?void 0:l.dietarysuppl),R=!0===(null==C||null==(d=C.adParametersObject)?void 0:d.isStock),V=function(e){var t;const i=null==(t=e.ads[0])?void 0:t.productType;return void 0===i?"unknown":$e(i)}(b);let B;return B=!0===V?"cpm":!1===V?"other":"unknown",yu.log({name:"CreateVastFromXMLString",data:{vastXmlString:A},sensors:{uniformat:b.isUniformat,hasBannerStorageAd:T,isYabsAd:E,firstAdPodHasImages:P,firstAdPodHasFirstFrameImage:O,firstAdPodCreativeType:B,firstAdPodHasLegalText:w,firstAdPodHasBannerFlags:I,firstAdPodHasBuBannerFlag:N,firstAdPodHasMedicineBannerFlag:D,firstAdPodHasDietarysupplBannerFlag:k,firstAdPodIsStock:R}}),b},tm={bids:[],creatives:{},creativeUrls:{}},im=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class rm extends fu{constructor(e){super(),this.onFetchBidsStart=new yc,this.postMessageRequestId=gc+"_"+_(16),this.params=e,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){yu.log({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;yu.log({name:"HBFetchBidsStart",data:Qt({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Tu(t,window);throw this.addDestroyHandler(i),await r,new Zc({code:"HB_FETCH_BIDS_TIMEOUT",details:Qt({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{yu.errorToStats(e),this.destroy(tm)}))}subscribeHBMessages(){this.addDestroyHandler(Re({element:this.params.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!r(t)||!r(i))return;const{id:o,methodName:n}=t;if(o===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:yu.error({error:new Zc({code:"HB_MESSAGE_UNKNOWN_METHOD",details:Qt({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!r(e))return void yu.error({error:new Zc({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;i(t)?this.onFetchBidsStart.dispatch({timeout:t}):yu.error({error:new Zc({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:Qt({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:o,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new Zc({code:"HB_NON_ARRAY_BIDS_DATA",details:Jt({},t,{fetchedBids:e})});e.length>1&&i.push(new Zc({code:"HB_EXTRA_BIDS_DATA",details:Jt({},t,{fetchedBids:e})}));const[o]=e;if(!r(o))throw new Zc({code:"HB_NON_OBJECT_BIDS_DATA",details:Jt({},t,{fetchedBids:e})});const{bids:n,creatives:a,creativeUrls:l}=o;if(!Array.isArray(n)||!im(n,r))throw new Zc({code:"HB_INVALID_BIDS_OBJECTS",details:Jt({},t,{fetchedBids:e})});if(!r(a)||!im(Zt(a),s))throw new Zc({code:"HB_BIDS_INVALID_CREATIVES",details:Jt({},t,{fetchedBids:e})});if(!r(l)||!im(Zt(l),s))throw new Zc({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:Jt({},t,{fetchedBids:e})});return{bids:n,creatives:a,creativeUrls:l,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:o};Xt(n),yu.log({name:"HBFetchBidsComplete",data:Qt({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(qO){yu.errorToStats(qO)}}sendBidsRequest(){const{win:e,adBreakType:t,adFoxParameters:i}=this.params,r=Y(e),o={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:i.containerId,adBreakType:t}]};for(const s of r)Kt(Qt({win:s},o));const{promise:n,clear:a}=Tu(100,window);return this.addDestroyHandler(a),new Promise(((t,i)=>{n.then((()=>{const{promise:t,teardown:i}=function(e){let t;const i=Math.random(),r=new Promise((r=>{t=Re({element:e,eventName:"message",listener:e=>{let{data:o}=e;o===i&&(t(),r())}}),e.postMessage(i,"*")}));return{teardown:t,promise:r}}(e);return this.addDestroyHandler(i),t})).then((()=>{i(new Zc({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(i);const r=qt((e=>{a(),t(e)}),(e=>{yu.error({error:new Zc({code:"HB_START_MULTIPLE_TIMES",details:Qt({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(r))}))}getDataForLogs(){const{adBreakType:e,adFoxParameters:t}=this.params;return{adBreakType:e,adFoxParameters:t,postMessageRequestId:this.postMessageRequestId}}}const om=function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},nm=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var am,sm;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(am||(am={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(sm||(sm={}));const lm=e=>Math.max(0,Math.round(e));class dm{constructor(){this.config=function(){const e=$t(),t=nm(),i={win_width:lm(e.width),win_height:lm(e.height),pixel_ratio:om(),bandwidth:ei()};return t&&(i.quirks=t),i}()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}const cm=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";di();let hm=0;const pm=()=>hm,mm=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Am=e=>{const t=e.getFullYear(),i=mm(e.getMonth()+1,2),r=mm(e.getDate(),2),o=mm(e.getHours(),2),n=mm(e.getMinutes(),2),a=mm(e.getSeconds(),2),s=mm(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+mm(Math.floor(Math.abs(t)/60),2)+":"+mm(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+r+"T"+o+":"+n+":"+a+"."+s+l},_m=()=>function(e,t){let i=e+gd()*(t+1-e);return i=Math.floor(i),i}(1,4294967295);let vm=0;const gm=[/avito/],fm=["slide","visibleAfterInit","stick","stickTo","stickyColorScheme","replayMode","preload"],ym=["ya","ndex.ru/ads/adf","ox"].join("");class Tm extends fu{constructor(e){super(),this.params=e;const{promise:t,clear:i}=Tu(3e3,e.win);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw yu.error({error:e}),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adPlacementOptions:i}=this.params;let{adFoxParameters:r}=t;const{bids:o,containerId:n}=r;if(!o&&n){const e=new rm({adBreakType:this.params.adBreakType,adFoxParameters:Si({},r,{containerId:n}),win:window});this.addDestroyHandler((()=>{e.destroy(tm)}));const i=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new Zc({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,timeout:3e3}})}))]);r=Si({},r,i)}const a={},s=await Promise.race([Ei({adFoxParameters:r,adPlacementOptions:i,secureMode:t.secureMode,__requestInfoForLogs:a}),this.loadingTimeoutPromise.then((()=>{throw new Zc({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adFoxParameters:r}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new Zc({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,vastBase64:l,error:e,adFoxUrl:a.adFoxUrl,responseText:a.responseText,responseHeaders:a.responseHeaders}})}));return yu.log({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(r,s),c=fc(null!=(e=r.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return $l(c,(e=>{let{win_notice:t}=e;t&&$l(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),yu.log({name:"AdFoxVastLoaded",data:{adConfig:t}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r}=this.params,{creatives:o={},creativeUrls:n={}}=e,{wrapperMaxCount:a}=r,s=o[i],l=n[i];if(!s&&!l)throw new Zc({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new Zc({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,vastBase64:s,error:e}})})):Qp({url:l,loadParameters:be({adConfig:r,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:a,isAdFox:!0,adPlacementOptions:Gl})}).catch((e=>{throw new Zc({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=ye(e)}catch(qO){throw new Zc({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:qO}})}return em({xmlString:t,loadParameters:be({adConfig:this.params.adConfig,adBreakType:this.params.adBreakType,remainingLoadWrapperVastCount:this.params.adConfig.wrapperMaxCount,isAdFox:!0,adPlacementOptions:Gl}),vastUrl:void 0})}}const Em=function e(t){return Rd(t,((t,i)=>t.concat(td(i)?e(i):i)),[])},Sm=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},bm=e=>{const{protocol:t}=N(e);return"blob:"===t?e:Se(e)?M(tu(window))?e:V(e,{[Oh]:gc}):e},Cm=e=>bi({},e,{url:bm(e.url)}),Pm="ad-creative-animation/javascript",Om={MotionTailor:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",SurveyOldDesignAdCreative:"survey_old_design_ad_creative"},wm=Ni({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},Om),Im=$(Om,(e=>e+".js")),Nm=(Ii(Im),$(Im,(e=>"https://"+mc+"/"+wu+"/"+e))),Dm=Ii(Nm),km=Di({},rp,{url:Nm.InteractiveElementsAdCreative,type:Pm}),Rm=ki({},rp,{url:Nm.MotionTailor,type:Pm}),Vm=Ri({},rp,{url:Nm.SurveyOldDesignAdCreative,type:Pm}),Lm=["tickerData","interactiveElements","mediaFiles","adTitle"],Bm=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"];const xm=["https://"+mc+"/pcode/media/vpaid-pythia-survey-embed.js"],Mm=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&mu(t,(e=>L(Mu,e.url)))},Um="about:blank",Fm=e=>{const t={left:void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,top:void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset};return{left:Math.round(e.left+t.left),top:Math.round(e.top+t.top)}},Hm=e=>Math.max(0,Math.floor(e));class zm{constructor(e,t,i){const r=function(){const e=$t();return{win_width:Hm(e.width),win_height:Hm(e.height),pixel_ratio:om(),bandwidth:ei()}}(),o=Qi({},r,void 0!==i&&{req_no:i});if(e){const t=$t(),i=Fu(e),n=Fm(i),a=Hm(i.width);let s=Hm(i.height);(function(e){return e.top!==e.self})(window)&&(0===s||s>r.win_height||s>r.win_height)&&(s=r.win_height),this.config=Qi({},o,{w:a,h:s,width:a,height:s,visible:Ji(i,t)},n)}else{const e=Math.floor((null==t?void 0:t.width)||0),i=Math.floor((null==t?void 0:t.height)||0);this.config=Qi({},o,{w:e,h:i,width:e,height:i,left:0,top:0,visible:1})}}toString(){return JSON.stringify(this.config)}}const jm=(e,t,i)=>{let{additionalParams:r,videoContentId:o,videoContentName:n,videoPublisherId:a,videoPublisherName:s,videoGenreId:l,videoGenreName:d,musicArtistId:c,musicGenreId:u,musicGenreName:h,preferableAdSize:p}=e;const{ICOOKIE:m,TEST_IDS:A,AB_FLAGS:_}=vc,v=new zm(t,p,i),g="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_REMOVE_OLD_SIZE_PARAMS_FROM_VMAP_REQUEST"),f="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ADD_LAYOUT_CONFIG_TO_VMAP_REQUEST");return $i({},Zi(r),{"video-content-id":o,"video-content-name":n,"video-publisher-id":a,"video-publisher-name":s,"video-genre-id":Ki(l),"video-genre-name":Ki(d),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:c,"music-genre":u,"music-genre-name":h,"ad-session-id":qh(),[jd]:vc.hardcodedParams["aim-banner-id"],[Yd]:vc.hardcodedParams["aim-design-id"],[Wd]:vc.hardcodedParams["aim-design-name"],[Gd]:vc.hardcodedParams["aim-subdesign-id"],"pcode-icookie":m,"pcode-test-ids":A,"pcode-flags":JSON.stringify(_)},!g&&{"preferable-ad-size-width":p?String(Math.floor(p.width)):void 0,"preferable-ad-size-height":p?String(Math.floor(p.height)):void 0},f&&{"layout-config":v.toString()},{"pcode-version":void 0,"widget-version":void 0,uniformat:"true"})},Ym=e=>{let{adConfig:t,win:i,repeatNumber:r,sessionId:o}=e;const{targetRef:n,width:a,height:s,tagsList:l,extParam:d,distrId:c,metaRequestIndex:u,metaImpIdRequestIndex:h}=t,p=i.document.referrer,m=P(i);let A;return n?(A=n,yu.log({name:"UsingTargetRefApiParameter",data:{adConfig:t}})):m===Um?(A=p,yu.log({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t}})):A=m,er({},jm(t),{"meta-request-index":void 0===u?void 0:String(u),"meta-impid-request-index":void 0===h?void 0:String(h),"repeat-number":Rt(r)?String(r):void 0,"target-ref":A,"page-ref":p,"video-width":a,"video-height":s,"tags-list":Ki(l),"ext-param":d,"video-session-id":o,"distr-id":c,"enable-page-options":"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_REMOVE_ENABLE_PAGE_OPTIONS_PARAM_FROM_LINK")?void 0:"65536"})},Wm="Yabs Ad Server",Gm=[Wm,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],Xm={text:"",textColor:"#FFFFFF",isVisible:!1},qm=document.createElement("video"),Km="function"===typeof qm.load?function(e,t){return void 0===t&&(t=qm),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1;const Zm=["application/vnd.apple.mpegurl","application/x-mpegurl"];var Jm,Qm;const $m=null!=(Jm=null!=(Qm=window.URL)?Qm:window.webkitURL)?Jm:{},eA=M($m.createObjectURL)&&M($m.revokeObjectURL)?$m:void 0,tA=e=>!!h(e)&&(!!Km(e)&&(e=>Boolean(eA)&&!pr(e))(e)),iA=cc({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME"});class rA{constructor(e,t){this.mediaAd=e,this.adMediaFile=t}preload(){const{firstFrameImages:e}=this.mediaAd.vastAd,t=ur(e,this.adMediaFile);t&&hr(t.url);const i=Cm(this.adMediaFile),{type:r}=i;return tA(r)?(iA.call({callbackArguments:[{mediaFile:i,videoPreloader:this}]}),this.preloadToBlob(i).then((e=>({firstFrameImage:t,mediaFile:null!=e?e:i})))):Promise.reject(new Error(r+" cannot be preloaded"))}cancel(){void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0)}destroy(){this.cancel(),s(this.blobUrl)&&(null==eA||eA.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{ae(lr({},i,{onSuccess:e,onError:t}))})));var i;return this.blobUrl=null==eA?void 0:eA.createObjectURL(t),mr({},e,{url:this.blobUrl})}}const oA=e=>!(!(e=>{const t=e.document;return"documentMode"in t&&"undefined"!==typeof t.documentMode})(e)&&!(e=>{const t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0})(e)),nA=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&kc(e))(window),aA=nA?"ES2017":"ES5",sA="utf-8",lA={onBeforeLoad:e=>{((e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t})(e,gr({},ke(vc,Ec)))}},dA=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==lA.onBeforeLoad||lA.onBeforeLoad(e)},cA="YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",uA=1e3;class hA extends fu{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=or(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,$l(e,(e=>{let{callback:t}=e;t()}))}}const pA=Er({},Ju,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:cA,padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf",boxSizing:"border-box"}),mA={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},AA={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"100%"},_A=Sr({},Ju,{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:cA,backgroundColor:"#fff",fontSize:"14px",color:"#000",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' version='1.1'%3E%3Crect width='50' height='50' fill='rgba(0, 0, 0, 0.2)'/%3E%3Crect width='50' height='50' y='50' x='50' fill='rgba(0, 0, 0, 0.2)'/%3E%3C/svg%3E \")",backgroundSize:"20% 20%",backgroundRepeat:"repeat",backgroundPosition:"0 0"}),vA="https://"+mc+"/"+Ou+"/1_0/test-ad-creative.js",gA=(e,t)=>e+"_"+t;var fA=e(9233);class yA extends fu{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const o=new r.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:o.takeRecords()})}),{buffered:!0});o.observe();const n=o.takeRecords();n.length&&i({reportSourceEvent:"buffered",reports:[],records:n}),this.addDestroyHandler(Re({element:t,eventName:"beforeunload",listener:()=>{const e=o.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=o.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),o.disconnect()}))}}const TA=N(Vc).hostname,EA=250;let SA=0;const bA=[],CA=(e,t)=>{const i=e.contentDocument.body;return wr((()=>{var e;!(null!=(e=i.ownerDocument)&&e.defaultView)&&t()}))};class PA extends fu{static create(e){const{parentElement:t,attributes:i,scope:r}=e,o=Ir(t,i);if(!o)throw Cr({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new PA(Dr({},e,{iframe:o}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,o=Nr(t,i);if(!o)throw Cr({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new PA(Dr({},e,{iframe:o}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{Ve(i)})),this.addDestroyHandler(CA(this.iframe,(()=>{this.destroy(Cr({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(Or(this.window,((i,r,o)=>{const n="PRELOADING_IFRAME"===e.scope?void 0:e.provideLogDetails?e.provideLogDetails():void 0;yu.error({error:Cr({scope:t,errorType:r,error:i,details:Dr({},n,{error:i,data:o})})})})))}}cc({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME"});class OA extends fu{constructor(e){super(),this.animationMediaFile=e,this.addDestroyHandler((()=>{this.cancel()}))}preload(){const e=this.createHiddenIframeForPreloading().contentWindow;const{promise:t,teardown:i}=br({animationMediaFile:this.animationMediaFile,win:e});return this.loadAdCreativeMediaFileTeardown=i,t.then((e=>({initAdCreative:e})))}cancel(){void 0!==this.loadAdCreativeMediaFileTeardown&&this.loadAdCreativeMediaFileTeardown(),void 0!==this.friendlyIFrame&&this.friendlyIFrame.destroy(void 0)}createHiddenIframeForPreloading(){const e=PA.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});this.friendlyIFrame=e;return e.iframe}}const wA=e=>{let{src:t,win:i}=e;const r=Yi(t),{promise:o,teardown:n}=yr({src:r?Lu:t,win:i});return{promise:o.then((()=>i.getVPAIDAd)),teardown:n}},IA=["preloadTimeout"];class NA extends fu{constructor(e,t,i){super(),this.parsedPreloadParams=e,this.jsMediaFile=t,this.vastAd=i,this.addDestroyHandler((()=>{this.cancel()}))}async preload(){var e;const t=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(this.parsedPreloadParams,IA),i=this.jsMediaFile,r=this.createHiddenIframeForPreloading().contentWindow,{promise:o,teardown:n}=wA({src:i.url,win:r});this.loadVPAIDCreativeModuleTeardown=n;try{await o}catch(qO){throw new Zc(qO,{code:"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"})}if("function"!==typeof(null==(e=r.Ya)?void 0:e.preloadVPAIDAd))return{vpaidWindow:r};return r.Ya.preloadVPAIDAd(kr({},t,{creativeData:{AdParameters:this.vastAd.adParameters}})).readyPromise.then((e=>({creativeData:e,vpaidWindow:r}))).catch((e=>({vpaidWindow:r,vpaidPreloadError:e})))}cancel(){void 0!==this.loadVPAIDCreativeModuleTeardown&&this.loadVPAIDCreativeModuleTeardown(),void 0!==this.preloadingIframe&&this.preloadingIframe.destroy(void 0)}createHiddenIframeForPreloading(){const e=PA.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME"});this.preloadingIframe=e;return e.iframe}}const DA="TRUE"===Ec.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),kA=(Vr({},vc.AB_FLAGS),Vr({},vc.AB_FLAGS)),RA=e=>kA[e],VA="TRUE"===RA("DISABLE_VP9_CODECS"),LA="TRUE"===RA("ENABLE_H265_CODECS")||void 0,BA="video/webm";const xA=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},MA={},UA=e=>{MA[e]||(MA[e]=!0,yu.log({name:"WrongRequestMediaFileCodec",sensors:{codec:e}}))},FA=a((()=>{yu.log({name:"MediaFileStringSize"})})),HA=(e=>{const t=Hr(e);return!!t&&Boolean(Fe((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(window),zA=Hr(),jA=!wd&&Km("video/webm"),YA=HA&&jA,WA=zA&&l(zA),GA=void 0!==window.AbortController&&void 0!==window.fetch&&l(AbortController)&&l(fetch),XA=WA&&GA,qA=Ec.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAP_VALUE"),KA=i(qA)?qA:1e4,ZA=a((e=>{yu.log({name:"InvalidMediaFileBitrate",data:{mediaFile:e}})})),JA=a((e=>{yu.log({name:"InvalidMediaFileCodec",data:{mediaFile:e}})})),QA=a((e=>{yu.log({name:"InvalidMediaFileHasAudio",data:{mediaFile:e}})})),$A=a((e=>{yu.log({name:"InvalidMediaFileWidthHeight",data:{mediaFile:e}})})),e_=a((e=>{yu.log({name:"InvalidMediaFileVmafAvg",data:{mediaFile:e}})})),t_=a((e=>{yu.log({name:"InvalidMediaFileTypeEmpty",data:{mediaFile:e}})})),i_=Ec.getNumberFlagValueAndActivateTestId("VAS_BITRATE_CAPPING_SOLUTION_MULTIPLIER"),r_=i(i_)?i_:10,o_=e=>{const i=Number(RA(e));return t(i)?i:void 0},n_=o_("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),a_=Rt(n_)?jr(n_,0,1):1e-6,s_=Ec.getFlagValueAndActivateTestId("PERFECT_VPR"),l_=Number(s_),d_=i(l_)?l_:1.3,c_=o_("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_HLS"),u_=Rt(c_)?c_:void 0,h_=o_("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),p_=Rt(h_)?h_:void 0,m_=o_("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),A_=Rt(m_)?m_:void 0,__=o_("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),v_=Rt(__)?__:void 0,g_=o_("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),f_=Rt(g_)?g_:void 0,y_={bitratePriorityFactor:a_,mediaFileTypePriorities:{webm:null!=f_?f_:1,mp4:null!=p_?p_:2,unknown:null!=A_?A_:3,unset:null!=v_?v_:4,hls:null!=u_?u_:1e4},canPlayType:Km,perfectVpr:d_};class T_ extends fu{constructor(e){super(),this.isCancelled=!1,this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:r,mediaAd:o,stats:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i="normal",preloadJS:r=!0,preloadVideo:o=!0}=e,{width:n=t.clientWidth,height:a=t.clientHeight}=e,s=ft(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>wp)&&(l=wp),{preloadTimeout:l,width:n,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:o}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=o,this.stats=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}get preloadedFirstFramePicture(){return this._preloadedFirstFramePicture}cancelPreloading(e){this.isCancelled||(this.isCancelled=!0,this.isPreloaded||(this._promise&&this.stats.log({name:"PreloadCancelled",data:{reason:e}}),this._promise=void 0,this._vpaidWindow=void 0,this._preloadedVpaidAdParameters=void 0,this._preloadedFirstFramePicture=void 0,this._preloadedAdCreativeInitFunction=void 0,$l(this.preloaders,(e=>e.cancel()))))}destroy(e){super.destroy(e),this.isCancelled||this.cancelPreloading("Destroy"),$l(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){const e=Tu(this.parsedParams.preloadTimeout,window),t=e.promise.then((()=>this.cancelPreloading("Timeout")));this._promise=this._preload().then((()=>{e.clear()})),await Promise.race([this._promise,t]),this._isPreloaded=!0}async _preload(){try{const{preloadJS:t,preloadVideo:i}=this.parsedParams,r=this.getVastAd();if(Wi(r)){var e;const{parsed:{videoMediaFiles:o,animationMediaFile:n}}=sr(null!=(e=r.adParametersObject)?e:r.adParameters),a=[];if(i&&o.length>0){const e=this._preloadVideoFile(o,this.parsedParams);a.push(e)}if(t&&n){const e=this._preloadAdCreative(n);a.push(e)}return void(await Promise.all(a))}if(i&&"video"===this.contentType)return await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams);if(t&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams)}catch(qO){if(this.isCancelled)return;const t=se(qO)?qO:new Zc(qO,{code:"CANNOT_PRELOAD"});this.stats.error({error:t}),ir(qO),this.destroy("Error")}}async _preloadAdCreative(e){const t=new OA(e);this.preloaders.push(t);try{const e=await t.preload();this._preloadedAdCreativeInitFunction=e.initAdCreative}catch(qO){if(se(qO))throw qO;throw new Zc(qO,{code:"CANNOT_PRELOAD_AD_CREATIVE"})}}async _preloadVpaidCreative(e){var t,i;const r=this.getJSMediaFile();if(!r)return;const o=new NA(e,r,this.getVastAd());let n;this.preloaders.push(o);try{n=await o.preload()}catch(qO){const t=se(qO)?qO:new Zc(qO,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"});return this.stats.error({error:t}),void ir(qO)}void 0!==(null==(t=n)?void 0:t.vpaidPreloadError)&&this.stats.error({error:new Zc(n.vpaidPreloadError,{code:"CANNOT_PRELOAD_VPAID_CREATIVE"})}),this._vpaidWindow=n.vpaidWindow,this._preloadedVpaidAdParameters=null==(i=n.creativeData)?void 0:i.AdParameters}async _preloadVideoFile(e,t){const{adBreak:i}=this.mediaAd,r=this.mediaAd.getAdPodId(),{width:o,height:n,desiredBitrate:a}=t,{prioritisedMediaFile:s}=qr(e,Kr({container:{width:o,height:n},desiredBitrate:a,isVideoADB:M(tu(window))},y_),{adBreak:i,adPodId:r,initiator:"PreloadingController"});if(!s)return;const l=new rA(this.mediaAd,s);let d;this.preloaders.push(l),this.preloaders.push(l);try{const e=await l.preload();d=e.mediaFile,this._preloadedFirstFramePicture=e.firstFrameImage}catch(qO){if(se(qO))throw qO;throw new Zc(qO,{code:"CANNOT_PRELOAD_VIDEO_FILE"})}this._preloadedVideoFile=d}}const E_={width:void 0,height:void 0};class S_{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new S_;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class b_{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i,r){this.duration=0,this.getMediaFiles=()=>Pi(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:o,adParametersObject:n}=t;if(Wi(t)){const{parsed:{videoMediaFiles:e}}=sr(null!=n?n:o);return 0===e.length?E_:Zr(e)}const a=Jr(r,i);return Zr(a?[a]:Pi(r,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>Jr(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return void 0!==e&&Oi({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.stats=r,this.icons=nu(this.vastAd.icons,(e=>S_.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){Nt(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){var e;return(null==(e=this.getMediaFiles())?void 0:e.length)>0}cancelPreloading(e){if(this.preloadingController){if("Destroy"===e)return this.preloadingController.destroy("AdStoreDestroy"),void(this.preloadingController=void 0);this.preloadingController.isPreloaded||(this.preloadingController.cancelPreloading(e),this.preloadingController.destroy("CancelPreloading"),this.preloadingController=void 0)}}async preload(e){this.preloadingController||(this.preloadingController=new T_({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this,stats:this.stats}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===Wm}getIsIndependentOnVideoElement(){if(function(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,o=Array.isArray(i)?i[0]:void 0;return r(o)&&o.url===Rm.url}(this.vastAd))return!0;this.getJSMediaFile();return!1}getIsYandexCreative(){return e=this.vastAd,L(Gm,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedFirstFramePicture(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedFirstFramePicture}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(ou("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.vastAd.imhoParams&&(!Wi(this.vastAd)&&!Se(e.url)))}}const C_=()=>kd.__VAS_TEST_UTILS_CONTEXT__,P_=e=>{try{const t=function(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}(e);return"display"in t}catch(eg){return!1}};const O_=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],o=e=>{let{keyset:t,key:o,lang:n=Pp,onError:a,throwErr:s=!0}=e;if(r(n,t,o))return i(n,t,o);if(r(Pp,t,o))return i(Pp,t,o);{const e=new Op("Tanker locale for lang="+n+", keyset="+t+", key="+o+" not found");return s&&ee(e),"function"===typeof a&&a(e),""}};if(t){return Md(o,(e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r}))}return o}(e(3716)),w_=function(e,t){return void 0===t&&(t=Pp),O_({keyset:"adsdk",key:e,lang:t})},I_="TRUE"===RA("DISABLE_SUBTITLES")||void 0,N_="DISABLE"===RA("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,D_={reason:1,action:0},k_={reason:2,action:0},R_={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},V_={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},L_={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},B_=ho({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},advertiserInfo:{reason:20,action:0}},R_,V_,L_),x_={abuseUrl:"",legalText:void 0},M_="https://"+pc+"/secure-ads",U_="https://"+pc+"/ads/advertiser_info",F_={isAvailable:!1},H_=!1,z_={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:false,getAdExpanded:false,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:H_},j_=po({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Y_=po({},z_,j_),W_={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},G_={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},X_={adVolume:"setAdVolume"},q_=!(null===qm.onwaiting)||wd?(e,t)=>{let i=0,r=!1;return wr((()=>{const o=e.currentTime,n=e.duration,{currentTime:a}=e,s=e.buffered&&1===e.buffered.length&&a>e.buffered.end(0);if(s&&!r)return r=!0,void t(r);if(s&&r)return;if(!e.paused){const e=i+.004;r?o>e&&(t(!1),r=!1):o<e&&o!==n&&(t(!0),r=!0)}i=o}))}:(e,t)=>{let i=!1;const r=Re({element:e,eventName:"pause",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),o=Re({element:e,eventName:"waiting",listener:()=>{i||(i=!0,t(!0))},options:{passive:!0}}),n=Re({element:e,eventName:"playing",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),a=Re({element:e,eventName:"canplay",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}});return()=>{r(),o(),n(),a()}};class K_ extends fu{constructor(){super(),this.isPlaying=new Uu(!1),this.isBuffering=new Uu(!1),this.bufferingTimeCount=new hA,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(q_(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(mo([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/uA}}const Z_={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},J_={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama"},Q_=["impression"],$_={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"}},ev=c({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),tv=Boolean(ru);class iv extends fu{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=Fu(e);this.onResize=new Uu({width:i.width,height:i.height},((e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const r=this.getElementWindow(e),o=null!=(t=null==r?void 0:r.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof o&&l(ResizeObserver))try{const t=new o(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(qO){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return go({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Fu(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Re({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(wr(i))}}class rv{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class ov{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new rv}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const nv={height:0,width:0},av=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],sv=1,lv=2,dv=3,cv=4,uv=e=>{const t=e.currentTime,i=So(e),r=(o=t,ic(i,(e=>{let{start:t,end:i}=e;return t<=o&&o<=i})));var o;return r?r.end-t:0},hv=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)}(),pv={PAGEURL:encodeURIComponent(ie(document).location),Y_DEVICE_TYPE:hv?"mobile":"desktop",Y_AD_SESSION_ID:Xh()},mv=.5;class Av{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=fc(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if("string"!==typeof t)throw new Error("Event name MUST be a string");const n=e.events[t];n&&$l(n,(e=>{let{callback:i,context:o}=e;try{i.apply(o,r)}catch(eg){yu.error({error:new Zc(eg,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}}))}}}const _v="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ADLOOX_INIT_RU")?"https://pixel.adlooxtracking.ru/ads/ic.php":"https://pixel.adlooxtracking.com/ads/ic.php",vv={id1:"",id2:"",id5:"",id7:"",id9:""},gv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",fv=Ic.split("/"),yv=fv[fv.length-1],{initMoatTracking:Tv}=e(7176),Ev={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},Sv="yandexhostedvideo786420153684",bv={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:o}=e;const n=i.ownerDocument.defaultView,a=(e=>"https://"+mc+"/pcode-static/measurers/"+e+"/video/adriver.js")(o);await vr({win:n,src:a}).promise;new n.AdriverViewabilityYandexVPAID(Io({},r,{ya_custom:"ADSID="+gc}),i,t),ou("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:o,yastaticVersion:n,verifyLogAdditionalData:a=""}=e;const s=Tv(i,No({},r,{zMoatADID:a,slicer1:yv,partnerCode:Sv}),t.getAdDuration(),Sv,n);$l(c(Ev),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(qO){o(new Zc({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:qO,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:o,yastaticVersion:n,verifyLogAdditionalData:a=""}=e;var s;const l=wo({},r,{targetelt:((s=i).id||(s.id=_(8)),s.id),urli:gv,urlv:gv,urle:gv},{id8:a}),d=Rd(pe(l),((e,t,i)=>{let[r,o]=t;return"string"!==typeof o?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(o)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+mc+"/pcode-static/measurers/"+e+"/video/adloox.js")(n)+d;var t;wt((t=wo({},vv,l),V(_v,(e=>{let{id1:t,id2:i,id5:r,id7:o,id9:n}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:o,id9:n,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),vr({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{o(new Zc({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:o,verifyLogAdditionalData:n=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+mc+"/pcode-static/measurers/"+e+"/video/weborama.js")(o);await vr({win:a,src:s}).promise;new a.WBMeasurerV(i,t,JSON.stringify(Do({},r,{siteid:n}))),ou("weborama measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t}=e;ou("start YandexTestMeasurer initialization"),$l(ev,(e=>{const i=a((()=>{var t;yu.log({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t),data:{},sensors:{},values:{}})}));t.subscribe((function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];ou("YandexTestMeasurer received VPAID event=["+e+"], args=["+li(r)+"]"),i()}),e)})),ou("complete YandexTestMeasurer initialization")}},Cv={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"79",unstable:"88"},adriver:{actual:"28",unstable:"28"},yandexTestMeasurer:{actual:"1",unstable:"2"}},Pv=c(bv),Ov="omid",wv={1:[],2:[],3:[],5:[]},Iv=["use_unstable_script"];class Nv extends fu{constructor(e,t,i){var o;super(),o=this,this.userInteractionDispatchers={AdClickThru:e=>{let{url:t,clickSource:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),{dailySensors:{clickSource:i}}),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,void 0,r)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)},AdTimeToSkipChange:X},this.playingStateValueSignal=new Uu(!1),this.slotHoverStateValueSignal=new Uu(!1),this.shouldPlayTimeCounter=new hA,this.vpaidEventBus=new Av,this.vpaidCreativeProxyForMeasurersEventBus=new Av,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=a((e=>{const t=e[4];if(!r(t))throw new Zc({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:i}=t,o=e[5];if(!r(o)||!r(o.slot))throw new Zc({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:n,videoSlot:a}=o;this.bufferingTimeManager.start(a);const{parameters:s,errors:l}=Mo(i);if($l(l,this.callbacks.onExecutionError),!s)throw new Zc({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:i}});this.vpaidInitParameters={slot:n,videoSlot:a,adParameters:s},this.initMeasurers()})),this.initMeasurers=a((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t,parameters:i}=this;if(!e)return this.callbacks.onExecutionError(new Zc({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:o}}=e,n=Ho({},o,{yandexTestMeasurer:{}});this.initializedMeasurers=n;const{slotsParameters:a}=i,{visibilitySlotParameters:s}=a,{element:l}=s;return Promise.all(nu(c(n),(async e=>{const i=n[e],o=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(i,Iv),a=bv[e],s=((e,t)=>{const i=Cv[e],o=t;return r(o)&&"use_unstable_script"in o&&Boolean(o.use_unstable_script)?i.unstable:i.actual})(e,i);try{await a({vpaidCreative:t,slot:l,measurerParameters:o,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:s,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:l,measurerParameters:o})}catch(qO){this.callbacks.onExecutionError(new Zc({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:o,error:new Zc(qO)}}))}})))})),this.trackRenderUndetermined=a((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),{})})),this.trackEncounters=a((e=>{this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{dailySensors:{reason:e}}),this.trackImpression()})),this.trackImpression=a((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),{}),this.trackImpressionWithVisibility()})),this.trackTrueView=a((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{dailySensors:{reason:e}})})),this.startMeasurement=a((()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Zc({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i}=e,{viewability:r,dwell:o}=i;this.addDestroyHandler(vo(t,(e=>{this.slotHoverStateValueSignal.dispatch(e)})));const n=new iv(t),{valueSignal:a,teardown:s}=Fo([this.parameters.slotsParameters.visibilitySlotParameters.size],(e=>_o(e,tv)));this.addDestroyHandler(s),this.measurerStartParameters={slotSize:n.onResize},this.addDestroyHandler((()=>{n.destroy()}));const l=new ov((e=>{let{count:t}=e;return 1===t&&(l.destroy(),this.trackTrueView("progress")),3e4})),d=new Set,c="DISABLE_AT_ALL"===Ec.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new ov((e=>{let{count:t}=e;const i=(o=t)>3?{eventName:"viewability5",intervalId:5}:1===o?{eventName:"viewability1",intervalId:1}:2===o?{eventName:"viewability2",intervalId:2}:3===o?{eventName:"viewability3",intervalId:3}:void 0;var o;if(void 0!==i){("SEND_ONLY_UNIQUE"!==Ec.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!d.has(i.eventName))&&this.trackEvent(i.eventName,r[i.intervalId],{})}return Uo(t)})),u=new Set,h="DISABLE_AT_ALL"===Ec.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")?void 0:new ov((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"dwell5",intervalId:5}:1===r?{eventName:"dwell1",intervalId:1}:2===r?{eventName:"dwell2",intervalId:2}:3===r?{eventName:"dwell3",intervalId:3}:void 0;var r;if(void 0!==i){("SEND_ONLY_UNIQUE"!==Ec.getFlagValueAndActivateTestId("VAS_DISABLE_VIEWABILITY_AND_DWELL_TRACKING_MODE")||!u.has(i.eventName))&&this.trackEvent(i.eventName,o[i.intervalId],{})}return Uo(t)})),p=new ov((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),p.destroy()),Uo(t)}));this.addDestroyHandler((()=>{l.destroy(),null==c||c.destroy(),null==h||h.destroy(),p.destroy()})),this.addDestroyHandler(this.playingStateValueSignal.add((e=>{l.setEnabled(e)}))),this.addDestroyHandler(mo([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,a],((e,t,i)=>e&&t&&i),(e=>{e&&p.reset(),null==c||c.setEnabled(e),p.setEnabled(e)}))),this.addDestroyHandler(mo([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,a],((e,t,i,r)=>e&&t&&i&&r),(e=>{null==h||h.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onSkipped=new yc,this.onStopped=new yc,this.onVideoComplete=new yc,this.onUserClose=new yc,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch(ee)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.intrinsicAdCreativeType&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(qO){return this.vpaidEventBus.dispatch("AdError",qO),void this.destroy({error:qO})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];if(i)return i(...t);return this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e=$h()?"impressionUndetermined":"impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),{})},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),ou("Track VPAIDMeasurer event=["+e+"]"),!o.vpaidInitParameters||!o.measurerStartParameters)return void o.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:r}=o.measurerStartParameters,{slotsParameters:n}=o.parameters,{visibilitySlotParameters:a}=n,{visibilityRatio:s}=a,l=Jh(r.getValue()),d={eventName:e,trackingEventDetails:i,trackingUrls:t,options:bo({win:window,slotSize:l,slotVisibilityRatio:s.getValue(),videoNode:o.vpaidInitParameters.videoSlot,bufferingTime:o.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};Po(d),o.callbacks.onTrackEvent(d),Ao(e,o.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i;const{visibilityRatio:n}=t.slotsParameters.visibilitySlotParameters;this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),{}),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),{}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),{}),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),{}),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);const{valueSignal:s,teardown:l}=Fo([n],(e=>e>=mv));this.addDestroyHandler(l),this.slotVisibilityStateValueSignal=s,this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new K_,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),$l([this.playingStateValueSignal,this.slotHoverStateValueSignal],(e=>{e.dispatch(!1),e.removeAll()}))})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=$(j_,((e,t)=>()=>{ou("Measurer called VPAID action method=["+t+"]"),yu.log({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t},probability:1})})),r=$(z_,((t,i)=>function(){const t=e[i];for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t.apply(e,o)}));$l(ev,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}));return Oo(Ho({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;$l(ev,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e.vpaidDidDispatchEvent(t,r)}),t)}))}vpaidDidDispatchEvent(e,t){const i=Z_[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),{}),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Zc({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};ou("Track VPAIDMeasurer event=[error]"),It(i),this.callbacks.onAdError(i)}var r,o,n;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e)&&this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Zc({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),{}),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),{}),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return td(i)?i:[]}onAdVideoStart(){this.measurerStartParameters?(this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{values:{timeToStart:this.shouldPlayTimeCounter.getTime()}}),$h()&&this.trackRenderUndetermined()):this.callbacks.onExecutionError(new Zc({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const Dv=["clickThrough","close","impression","mute","skip","unmute"],kv={},Rv=()=>0,Vv=()=>false,Lv=()=>false,Bv=()=>"2.0";class xv{constructor(e){this.dispatch=a((e=>{this.value=e,this._isDispatched=!0,G(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,M(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),X):(this.callbacks.push(e),()=>{this.callbacks=fc(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}class Mv extends fu{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:o,initAdCreative:n}=this.params;if(!M(n))throw new Zc({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let a;try{a=n({adParametersString:e,surveyAdCreativeInitParameters:t,slot:i,externalLiveCycle:o})}catch(eg){throw new Zc(eg,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!r(a))throw new Zc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_OBJECT",details:this.getAdCreativeErrorDetails()});const{promise:s,teardown:l}=a;if(!nh(s))throw new Zc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});if(!M(l))throw new Zc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_FUNCTION_TEARDOWN",details:this.getAdCreativeErrorDetails()});const d=()=>{l()};let c;this.addDestroyHandler(d);try{0,c=await s}catch(eg){if(d(),se(eg))throw eg;throw new Zc(eg,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return c}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Uv={startAd:()=>new Promise(X),stopAd:X};class Fv extends fu{constructor(e){super(),this.vpaidEventBus=new Av,this.handshakeVersion=Bv,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=X,this.expandAd=X,this.collapseAd=X,this.getAdIcons=Lv,this.getAdExpanded=Vv,this.setAdVolume=X,this.getAdVolume=Rv,this.initAd=a((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new xv,this.adCreativeLatch=new xv,this.completeLatch=new xv,this.isPackshotStarted=new xv,this.remainingTime=new Uu(-2),this.shouldPlay=new Uu(!1),this.isPlaying=new Uu(!1),this.shouldPlayTimeCounter=new hA,this.lifeCycleLatches=$({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new xv(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}),"AdCreativeWrapper.LatchVpaidEventBusDispatch")))),this.stopAnimation=X,this.completeOrDestroyLatch=new xv,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:X},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>{const e=this.getVideoDuration();return e||-1},this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:r}=t.getCurrentPosition();if(i(e)&&Rt(r)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return Math.max(e-r,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStartedOrPlaying=qt((()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),(()=>{this.vpaidEventBus.dispatch("AdPlaying")})),this.params=e,this.addDestroyHandler((()=>{this.completeOrDestroyLatch.dispatch(void 0)})),this.completeLatch.subscribe((()=>{this.completeOrDestroyLatch.dispatch(void 0)}));const{videoParameters:t,firstFrameParameters:r,videoNodeController:o,slot:n,slotSize:s,packshotParameters:l,adCreativeUserInteractionCallbacks:d,slotsParameters:c}=e;if(t&&r){const{posterImage:e,isPreloaded:t}=r,{videoNode:i}=o,n=function(e,t){return so(e,{backgroundImage:'url("'+t.url+'")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"})}(i,e),a=Date.now();this.videoStartedLatch.subscribe((()=>{t&&yu.log({name:"TimeBetweenFirstFrameImageAndVideoStart",values:{time:Date.now()-a}}),n()})),this.addDestroyHandler(n)}if(this.vpaidEventBus.subscribe((e=>{yu.errorToStats(e)}),"AdError"),this.addDestroyHandler(a(d.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.addDestroyHandler((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>o.getVolume(),this.setAdVolume=e=>{0===e?o.setMuted(!0):o.setVolume(e)};const e=()=>{const e="play"===o.playingState.getValue();this.isPlaying.dispatch(e)};this.completeOrDestroyLatch.subscribe(o.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(o.pause(),t&&(this.attachToVideoNode(t,o),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&o.play();const e=this.shouldPlay.add((e=>{e?o.play():o.pause()}));this.isPackshotStarted.subscribe(e),this.completeOrDestroyLatch.subscribe(e)})))),this.params.videoParameters&&this.videoStartedLatch.subscribe(this.dispatchAdStartedOrPlaying),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:o}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||(M(i)&&(this.getAdDuration=()=>i.call(e)),M(r)&&(this.getAdRemainingTime=()=>r.call(e),this.addDestroyHandler(wr((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=a((()=>{e.stopAd()})),this.addDestroyHandler(this.stopAnimation),this.completeOrDestroyLatch.subscribe(s.add((t=>{M(o)&&o.call(e,t)})))})),l){const e=n.ownerDocument.defaultView;if(e){const e="packshot"===l.type?l.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{Ot(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{if(c.visibilitySlotParameters.visibilityRatio.getValue()>=mv||"honeypot"===l.type)return this.destroyReasonSniffers.complete(),void this.isPackshotStarted.dispatch(l);this.stopAdAndDestroyWrapper("complete")}),"AdCreativeWrapper.completeLatchSubscribeForNotPlayPackshot"))}else yu.error({error:new Zc({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}})})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.params.destroyAfterComplete?this.stopAdAndDestroyWrapper("complete"):this.destroyReasonSniffers.complete()}),"AdCreativeWrapper.completeLatchSubscribeForNoPackshot"));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((t=>{let{reason:i,details:r}=t;"complete"!==i?("firstRenderError"!==i&&"runtimeError"!==i||(yu.error({error:new Zc({code:"firstRenderError"===i?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:{type:e.type,error:r}})}),this.vpaidEventBus.dispatch("AdError",r)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.vpaidEventBusDispatchAdError"))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getStartStrategy();t&&"startPlaying"!==i?(ou("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),yu.log({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,startStrategy:i}})):(ou("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)),this.addDestroyHandler(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||(e?this.dispatchAdStartedOrPlaying():this.vpaidEventBus.dispatch("AdPaused"))}))),this.addDestroyHandler((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),r=i(e)?e:void 0;if(r){return r+this.getPackshotBgVideoDuration()}}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,slot:i,videoParameters:r}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Uv);const{animationMediaFile:o,getPreloadedAdCreativeInitFunction:n,adCreativeParameters:a,surveyAdCreativeParameters:s}=e;let l=n();try{if(M(l))0;else{0;const{promise:e,teardown:i}=br({animationMediaFile:o,win:t});this.completeOrDestroyLatch.subscribe(i),l=await e}}catch(qO){if(se(qO))throw qO;throw new Zc(qO,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:{adParametersString:a}})}if(this.isDestroyed)return void 0;const d=new Mv({slot:i,adParametersString:a,surveyAdCreativeInitParameters:s,externalLiveCycle:Boolean(r),initAdCreative:l});this.addDestroyHandler((()=>{d.destroy()}));const c=await d.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoContentSize:r,videoMediaFile:o,videoMediaFiles:n,videoTimeout:s,bufferEmptyLimit:l,bufferFullTimeout:d,durationFallback:c,onVideoBufferingStateChange:u}=e,{videoNode:p}=t,{clickThroughUrl:m,animationParameters:A,slot:_}=this.params;t.onVolumeChange.add((()=>this.vpaidEventBus.dispatch("AdVolumeChange")));const v=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{yu.log({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-v}})}))),t.setSrc(o),h(m)&&this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=e=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:m,playerHandles:!0,clickSource:e})};this.completeOrDestroyLatch.subscribe(t.onClick.add((()=>{e("AdCreativeWrapperVideoElement")}))),Wo(p)&&!tv&&this.completeOrDestroyLatch.subscribe(so(p,{cursor:"pointer"})),void 0===A&&(this.completeOrDestroyLatch.subscribe(Re({element:_,eventName:"click",listener:()=>{e("AdCreativeWrapperSlotElement")},ignoreBubbling:!0})),tv||this.completeOrDestroyLatch.subscribe(so(_,{cursor:"pointer"})))}))),this.addDestroyHandler(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.addDestroyHandler(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.dispatchAdStartedOrPlaying()})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.completeOrDestroyLatch.subscribe(e),this.completeOrDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!M(e.adjustAdPosition))return;const t=this.getAdDuration(),r=this.getAdRemainingTime();i(t)&&Rt(r)&&e.adjustAdPosition({adDuration:t,adRemainingTime:r})};this.completeOrDestroyLatch.subscribe(function(e){function t(){let{duration:e}=r.getCurrentPosition();return i(e)||(e=o()),e}let{videoNodeController:r,durationFallback:o,callbacks:{AdStarted:n,AdVideoFirstQuartile:s,AdVideoMidpoint:l,AdVideoThirdQuartile:d,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=a(s),p=a(l),m=a(d),A=a(c);let _=0;const v=()=>{const e=t();if(!i(e))return;const{currentTime:o}=r.getCurrentPosition(),n=(o-_)/e;n>=.25&&h(),n>=.5&&p(),n>=.75&&m()},g=a((()=>{v(),u()})),f=[Go(r.videoNode,(()=>{_=r.getCurrentPosition().currentTime,n()})),r.currentPosition.add((e=>{let{currentTime:i}=e;const r=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+.5>=i}({currentTime:i,duration:t()});r&&A()})),r.currentPosition.add(v),r.onEnd.add(g)];return()=>G(f)}({durationFallback:c,videoNodeController:t,callbacks:Xo({},$(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const f=new Error;this.shouldPlayTimeCounter.addCallback(s,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Zc(f,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:o,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add((e=>{u(e)})))}))),this.completeOrDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:r,callback:o}=e;if(!i(r))return X;let n=0;const a=t.onBufferingAfterPlay.add((()=>{n++,ou("bufferEmptyCount=["+n+"] limit=["+r+"]"),n<=r||(a(),o())}));return a}({videoNodeController:t,bufferEmptyLimit:l,callback:()=>{const e=new Zc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:l,mediaFile:o,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.completeOrDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,o=X;const n=t.isBuffering.add((async e=>{if(o(),!e)return;const{promise:a,clear:s}=Tu(i,t.win);o=s,await a,o(),n(),r()}));return()=>{o(),n()}}({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Zc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:o,networkState:p.networkState,readyState:p.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),this.completeOrDestroyLatch.subscribe(t.onError.add((e=>{e=new Zc(e,{details:Xo({},e.details,{selectedMediaFile:o,mediaFiles:n})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.addDestroyHandler(t.currentPosition.add((()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.completeOrDestroyLatch.subscribe(r.add((e=>{const t=this.adCreativeLatch.getValue();t&&M(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{videoParameters:t,slotSize:i,shouldHideSkipButton:o,playerEnvironment:n}=this.params,a=i.getValue(),s=$(this.lifeCycleLatches,(e=>t?X:()=>e.dispatch(void 0))),l=e.startAd({callbacks:Xo({AdClickThru:this.ignoreAfterDestroy((e=>{let{url:t,playerHandles:i,clickSource:r}=e;const o=h(t)?t:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:o,playerHandles:i,clickSource:r})}),"AdCreativeWrapper.startAdCallbackOnAdClickThru")},s,{AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}}),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},requestTimeToSkipChange:e=>{this.params.adCreativeUserInteractionCallbacks.AdTimeToSkipChange(e)},dispatchAdStarted:this.dispatchAdStartedOrPlaying,size:a,videoContentSize:null==t?void 0:t.videoContentSize.getValue(),playerEnvironment:n,shouldHideSkipButton:o,destroyAfterComplete:this.params.destroyAfterComplete});if(!nh(l))throw new Zc({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});l.then(this.ignoreAfterDestroy((e=>{if(t)return;let i="complete";if(r(e)){const t=e.reason;h(t)&&Boolean(this.destroyReasonSniffers[t])&&(i=t)}"complete"===i?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(i)}),"AdCreativeWrapper.awaitResolveOfStartAdPromise")).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),"AdCreativeWrapper.awaitRejectOfStartAdPromise"))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const Hv=a((e=>{yu.log({name:"IntersectionObserverMocked",data:{functionCode:p((()=>e.IntersectionObserver.toString()))},probability:1})})),zv=a((()=>{yu.log({name:"DocumentHiddenMocked",probability:1})})),jv=a((e=>{yu.log({name:"IframeIntersectionObserverMocked",data:{functionCode:p((()=>e.IntersectionObserver.toString()))},probability:1})})),Yv=a((()=>{yu.log({name:"IframeDocumentHiddenMocked",probability:1})})),Wv=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"];class Gv{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=Jo(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}var Xv,qv,Kv,Zv,Jv,Qv,$v,eg={},tg=[],ig=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Xv=tg.slice,qv={__e:function(e,t){for(var i,r,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},Kv=0,on.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Qo({},this.state),"function"==typeof e&&(e=e(Qo({},i),this.props)),e&&Qo(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),sn(this))},on.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sn(this))},on.prototype.render=rn,Zv=[],Jv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ln.__r=0,$v=0;var rg,og,ng,ag=0,sg=[],lg=qv.__b,dg=qv.__r,cg=qv.diffed,ug=qv.__c,hg=qv.unmount;qv.__b=function(e){og=null,lg&&lg(e)},qv.__r=function(e){dg&&dg(e),rg=0;var t=(og=e.__c).__H;t&&(t.__h.forEach(Rn),t.__h.forEach(Vn),t.__h=[])},qv.diffed=function(e){cg&&cg(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==sg.push(t)&&ng===qv.requestAnimationFrame||((ng=qv.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),pg&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);pg&&(t=requestAnimationFrame(i))})(kn)),og=void 0},qv.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Rn),e.__h=e.__h.filter((function(e){return!e.__||Vn(e)}))}catch(Qv){t.some((function(e){e.__h&&(e.__h=[])})),t=[],qv.__e(Qv,e.__v)}})),ug&&ug(e,t)},qv.unmount=function(e){hg&&hg(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Rn)}catch(e){qv.__e(e,t.__v)}};var pg="function"==typeof requestAnimationFrame;const mg=e=>se(e)?e:new Zc(e,{code:"PREACT_ERROR",details:{error:e}}),Ag=e=>{const[t]=Cn(new Uu({status:"initial"}));On((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),X):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),Pn((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(e){var t=bn(rg++,10),i=Cn();return t.__=e,og.componentDidCatch||(og.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];const n=td(r)&&1===r.length&&Ql(r[0])?r[0]:void 0,a=null!=n?n:new Error("Preact error boundary error"),s=mg(a);yu.error({error:s});const{status:l}=t.getValue();"initial"===l?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:en(rn,null,e.children)},_g=e=>en(rn,null,Rd(e.components,((t,i)=>i(xn({},e.componentsProps,{children:t}))),e.children)),vg=Sn(Wl);vg.Provider.displayName="SlotSizeContext";const gg=e=>Fn(e),fg=()=>Dn(vg),yg=Sn(document.body);yg.Provider.displayName="SlotContext";Number(new Date);class Tg{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}class Eg{constructor(){this.stylesUsingCounter=new Tg,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,r=[];for(let o=0;o<i.length;o++){const[t,n]=i[o];if(!n)continue;if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Hn(e,n),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}return r.length?a((()=>{$l(r,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;Ve(r.get(t)),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)}))})):X}}const Sg=new Eg,bg=Sn({buttonText:"",openClickThroughUrl:X});bg.Provider.displayName="HoneypotContext";var Cg=e(1256),Pg=e.n(Cg);const Og=e=>{let{children:t,onClick:i}=e;return zn(Pg()),en("div",{className:Cg.locals.HoneypotButton,onClick:i},en("div",{className:Cg.locals.HoneypotButton__content},t))};var wg=e(6383),Ig=e.n(wg);const Ng=e=>{let{width:t,height:i}=e;return zn(Ig()),en("div",{className:wg.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var Dg=e(5046),kg=e.n(Dg);const Rg=()=>{zn(kg());const{width:e,height:t}=fg(),{buttonText:i,openClickThroughUrl:r}=Dn(bg);return en("div",{onClick:i?void 0:r,className:Un(Dg.locals.HoneypotScreen,{[Dg.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},en("div",{className:Dg.locals.HoneypotScreen__honeypotOverlayWrapper},en(Ng,{width:e,height:t})),i&&en("div",{className:Dg.locals.HoneypotScreen__buttonWrapper},en(Og,{onClick:r},i)))},Vg=[e=>en(yg.Provider,{value:e.container,children:e.children}),e=>en(vg.Provider,{value:gg(e.containerSize),children:e.children}),e=>en(bg.Provider,{value:jn(e),children:e.children})];class Lg extends fu{constructor(e){super(),this.honeypotProgress=new Uu(0),this.shouldPlay=new Uu(!0),this.progress=new Uu(0),this.props=e;const{win:t,onClick:i,videoNodeController:r,parent:o}=this.props;this.addDestroyHandler((e=>{ou("Honeypot: destroy honeypot reason=["+e.reason+"]"),yu.log({name:"HoneypotDestroyed",data:{reason:e},probability:1})}));const n=t.document.createElement("div");o.appendChild(n);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return En(en(Ag,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},en(_g,{components:Vg,componentsProps:e},en(Rg,null))),t),()=>{En(null,t)}}(Yn({},this.props,{container:n,containerSize:e.parentSize,onClick:()=>{yu.log({name:"HoneypotButtonClicked",probability:1}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),Ve(n)})),yu.log({name:"HoneypotRendered",probability:1});const s=new Gv(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==r){const e=r.getMuted();if(!e){let t;r.setMuted(!0),this.addDestroyHandler(r.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||(r.setMuted(e),r.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}r.setLoop(!0),r.play(),this.addDestroyHandler((()=>r.setLoop(!1))),yu.log({name:"HoneypotBackgroundLoopedVideo"})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==r&&(e?r.play():r.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const Bg="https://"+mc+"/pcode-static/measurers/75/omweb-js",xg=Bg+"/Session-Client/omid-session-client-v1.js",Mg=Bg+"/Service/omweb-v1.js",Ug=Bg+"/Compliance-Script/omid-compliance-verification-script-v1.js",Fg=async e=>{const t=Nr(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new Zc({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=Hg(t,xg),r=Hg(t,Mg),o=Promise.all([i,r]),n=Promise.race([o.then((()=>t)),Tu(3e3,window).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),n},Hg=(e,t)=>{const{promise:i}=vr({src:t,win:e.contentWindow});return i},zg=new Set;let jg,Yg;const Wg="0.0."+ql,Gg="generic",Xg="video";class qg extends fu{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new xv,this.omidSessionClient=new xv,this.onSessionFinish=new yc,this.onDestroy=new xv,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,(async e=>{void 0===jg&&(void 0===Yg&&(Yg=Fg(e)),jg=await Yg);const t=()=>{if(zg.has(t)&&(zg.delete(t),0===zg.size)){const t=jg;e.setTimeout((()=>{Ve(t)}),3e3),jg=void 0,Yg=void 0}};return zg.add(t),{omsdkFriendlyIFrame:jg,release:t}})(window).then((e=>{let{omsdkFriendlyIFrame:i,release:r}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(r),yu.log({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)},probability:1})})).catch((e=>(ou("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=Jc(e.contentWindow,"OmidSessionClient.default");t?(ou("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;ou("[OMSDKController]: destroy "+t),i&&yu.error({error:new Zc({code:"OMSDK_ERROR",details:{reason:t}})})}))}async initSession(e){let{impressionType:i="unspecified",startStrategy:r}=e;if(this.isDestroyed)return;const o=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==o)try{var n;const{Partner:e,VerificationScriptResource:a,Context:s,AdSession:l,AdEvents:d,MediaEvents:c,VastProperties:u}=o,h=Gn(window).split("?").shift(),p=new e("Yandex",Wg),m=new s(p,nu(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:r,accessMode:o}=e;return new a(t,i,r,o)})),h);m.setVideoElement(this.videoNode),vc.isDebugEnabled&&(m.underEvaluation=!0);const A=null==(n=this.omsdkServiceScriptIframe.getValue())?void 0:n.contentWindow;if(!A)throw new Error("OMSDK service script IFrame is unloaded");m.setServiceWindow(A);const _=new l(m);if(!_.isSupported())throw new Error("AdSession is not supported");_.setCreativeType("video"),_.setImpressionType(i);const v=new d(_),g=new c(_);_.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&g.complete(),"skip"===t&&g.skipped(),_.finish(),this.onSessionFinish.dispatch()}));const f=t(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),y=this.adPodViewer.adPodViewerPlaybackParams.skipDelay,T=new u(f,y,"startPlaying"===r,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&_.error(Gg,i.message)})),this.videoNodeController.onError.add((e=>_.error(Xg,e.message))),this.videoNodeController.onLoadedData.add((()=>{v.loaded(T)})),this.videoNodeController.isBuffering.add((e=>{e?g.bufferStart():g.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();g.start(e,t)})),this.adPodViewer.onImpression.add((()=>{v.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>g.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>g.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>g.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>g.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>g.pause())),this.adPodViewer.onResume.add((()=>g.resume())),this.videoNodeController.onVolumeChange.add((()=>{g.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{g.playerStateChange(e?"fullscreen":"normal")}))}catch(eg){this.destroy({reason:"Session initialization failed: "+eg.message,isError:!0})}}}const Kg=[Ac,mc],Zg=new Set;$l([...Kg,"static.adsafeprotected.com","z.moatads.com"],(e=>{Zg.add(e)}));class Jg{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,r=1500/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const o=i*(1+this.offset/r);this.position=jr(this.position+o,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-o,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=a(e.onFinish),this.animationFramesController=new Gv(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=jr(e,0,1),this.offset=0,this.params.callback(e))}}const Qg=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),$g=(e,t,i,r)=>{f(t)?(r=Boolean(i),C(t,((t,i)=>{Qn(e,i,t,r)}))):Qn(e,t,i,r)},ef=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));class tf extends fu{constructor(e){var t;super(),this.progress=new Uu(0),this.shouldPlay=new Uu(!0),this.props=e;const{duration:r,win:o}=e;this.isInfiniteDuration=!i(r),this.destroyAfterComplete=null==(t=e.destroyAfterComplete)||t,this.isInfiniteDuration?this.animationController=new Gv(o,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})):this.animationController=new Jg({win:o,duration:r*uA,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{this.destroyAfterComplete&&this.destroy({reason:"complete",details:void 0})}})}setPlaying(e){this.shouldPlay.dispatch(e)}show(){const{win:e,imageUrl:t,videoNodeController:i,parent:r}=this.props,o=!t||"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_VIDEO_AS_PACKSHOT_BACKGROUND_IN_FIRST_PRIORITY");if(t&&$n(r,ea({},Ju,{backgroundImage:"url("+t+")",backgroundPosition:"center",backgroundSize:"cover"})),this.addDestroyHandler((()=>{this.animationController.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),this.progress.add((e=>{e>=1&&this.animationController.stop()})),this.animationController.start(),o&&void 0!==i){const e=i.getMuted();if(!e){let t;i.setMuted(!0),this.addDestroyHandler(i.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||(i.setMuted(e),i.videoNode.dispatchEvent(new Event("volumechange",{bubbles:!1,cancelable:!0,composed:!1})))}))}i.setLoop(!0),i.play(),this.addDestroyHandler((()=>i.setLoop(!1))),yu.log({name:"PackshotBackgroundLoopedVideo",probability:Bc})}this.shouldPlay.add((e=>{e?this.animationController.start():this.animationController.stop(),o&&void 0!==i&&(e?i.play():i.pause())}));const n=e.document.createElement("div");r.appendChild(n);const a=this.renderPackshotContent(ea({},this.props,{parent:n}));this.addDestroyHandler((()=>{a(),Ve(n)}))}setProgress(e){this.animationController instanceof Jg&&this.animationController.setPosition(e)}}var rf=e(5432),of=e.n(rf);const nf=e=>{const{url:t,children:i,onClick:r,pointerEvents:o}=e;zn(of());return en("a",{onClick:e=>{e.preventDefault(),M(r)&&r(e)},className:rf.locals.ClickThroughLink,"data-pointer-events":o,href:t,target:"_blank",rel:"nofollow noreferrer"},i)},af=e=>{const{isClickDisabled:t,children:i,clickThruUrl:r,onClickThru:o}=e;return t?en(rn,null,i):en(nf,{onClick:o,url:r},i)},sf=Sn(Pp);sf.Provider.displayName="I18NContext";const lf=e=>{let{lang:t}=e;return t},df=()=>{const e=Dn(sf);return t=>w_(t,e)},cf=()=>Dn(sf),uf=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return en("svg",{width:t,height:i,style:ta({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},en("g",{"fill-rule":"nonzero",fill:"currentcolor"},en("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var hf=e(2563),pf=e.n(hf);const mf=e=>{let{size:t,children:i}=e;return zn(pf()),en("div",{className:Un(hf.locals.ActionButton,{[hf.locals.ActionButton__content_middle]:"middle"===t,[hf.locals.ActionButton__content_small]:"small"===t})},en("div",{className:hf.locals.ActionButton__textWrapper},i),en(uf,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:i?"0.3em":"0px",flexShrink:"0"}}))};var Af=e(6246),_f=e.n(Af);const vf=e=>{let{title:t,greenUrl:i}=e;return zn(_f()),en("div",{className:Af.locals.InfoBlock},en("div",{className:Af.locals.InfoBlock__title},t),i?en("div",{className:Af.locals.InfoBlock__greenUrl},i):null)};var gf=e(9461),ff=e.n(gf);const yf=e=>{zn(ff());const t=df(),i=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),r=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:o,greenUrl:n,onClickThrough:a,buttonLabel:s=r,faviconSrc:l,targetUrl:d,useDefaultButtonLabel:c=!1}=e;return en("div",{className:gf.locals.ActionPanel__clickableLayer},en("div",{className:gf.locals.ActionPanel},en("div",{className:gf.locals.ActionPanel__content},en(nf,{url:d,onClick:()=>{a({clickSource:"ActionPanel",playerHandles:!0,url:void 0})}},en("div",{className:gf.locals.ActionPanel__mask},en("div",{className:Un(gf.locals.ActionPanel__wrapper,!l&&gf.locals.ActionPanel__wrapper_wide)},en(vf,{greenUrl:n,title:h(o)?o:i}),en(mf,{size:"big"},c?r:s)))),l?en("div",{className:gf.locals.ActionPanel__favicon},en("img",{onClick:()=>{a({playerHandles:!0,url:void 0,clickSource:"ActionPanelFaviconImage"})},src:l,alt:"favicon"})):null)))},Tf=Sn({});Tf.Provider.displayName="ControlsVisibilityContext";const Ef=e=>Fn(e),Sf=()=>Dn(Tf),bf=Sn(void 0);bf.Provider.displayName="FaviconSrcContext";const Cf=()=>Dn(bf),Pf=-1,Of=Sn({timeToSkip:Pf,skipCallback:X});Of.Provider.displayName="SkipContext";const wf=e=>{let{timeToSkipSignal:t,skipCallback:i}=e;return{timeToSkip:Fn(t),skipCallback:i}},If=()=>Dn(Of),Nf=Sn({themeEmptyParameters:void 0,clickThrough:X});Nf.Provider.displayName="ThemeEmptyContext";const Df=e=>{let{themeEmptyParameters:t,clickThrough:i}=e;return{themeEmptyParameters:Fn(t),clickThrough:i}},kf=()=>Dn(Nf);var Rf=e(7480),Vf=e.n(Rf);const Lf=e=>{let{children:t}=e;return zn(Vf()),en("div",{className:Rf.locals.PackshotButton},en("div",{className:Rf.locals.PackshotButton__content},t))};var Bf=e(4368),xf=e.n(Bf);const Mf=e=>{let{width:t,height:i}=e;return zn(xf()),en("div",{className:Bf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var Uf=e(3162),Ff=e.n(Uf);const Hf=e=>{zn(Ff());const t=df(),i=fg(),{timeToSkip:r}=If(),{skip:o}=Sf(),n=function(e){let t;const{width:i}=e;let r;return t=i<360?14:i>=1024?32:Math.max(16,Math.min(14+2*Math.floor((i-240)/80),30)),r=i<560?13:i<720?14:16,{title:{fontSize:t,lineHeight:t+4},body:{fontSize:t-2,lineHeight:t+4},textBlock:{fontSize:r},ctaButton:{fontSize:ra(e)}}}(i),a=function(e){const{width:t}=e;return t<640?.1*t:t<960?.15*t:.2*t}(i),{descriptionText:s,openClickThroughUrl:l,disableOverlay:d=!1,disableTitle:c=!1,disableButton:u=!1,clickUrl:p,title:m,packshotNewDesignMode:A}=e,_=df(),{themeEmptyParameters:v}=kf(),g=void 0===v&&!0!==c&&!0!==u,f=void 0!==v&&!0!==u,y=Un(Uf.locals.PackshotScreen,{[Uf.locals.PackshotScreen_clickable]:g}),T=!0===c?void 0:null!=m?m:_("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),{greenUrl:E,label:S,targetUrl:b}=null!=v?v:{},C=Cf(),P="OFF"!==A,O=!1!==o&&r>=0,w=i.width<=400&&P&&O&&i.width>i.height,I=P?en("div",{className:Uf.locals.PackshotScreen__content},en(af,{isClickDisabled:g,clickThruUrl:p,onClickThru:()=>{l({clickSource:"PackshotTitle",playerHandles:!0,url:void 0})}},T&&en("div",{className:Uf.locals.PackshotScreen__title,style:{fontSize:n.title.fontSize+"px",lineHeight:n.title.lineHeight+"px",padding:"0 "+a+"px"}},T)),f&&en("div",{className:Un(Uf.locals.PackshotScreen__buttonWrapper_newDesign,{[Uf.locals.PackshotScreen__buttonWrapper_newDesign_float_left]:w}),style:{fontSize:n.ctaButton.fontSize+"px"}},en(yf,{useDefaultButtonLabel:w,title:void 0,greenUrl:E,buttonLabel:S,targetUrl:b,onClickThrough:g?X:l,faviconSrc:w?void 0:C}))):v&&en("div",{className:Uf.locals.PackshotScreen__buttonWrapper},en(nf,{url:p,onClick:()=>{l({url:void 0,playerHandles:!0,clickSource:"PackshotButton"})}},en(Lf,null,S||t("LEARN_MORE")))),{width:N,height:D}=i,k=en("div",{className:y,style:{width:N+"px",height:D+"px"}},!d&&en("div",{className:Uf.locals.PackshotScreen__packshotOverlayWrapper},en(Mf,{width:N,height:D})),I,h(s)&&en("div",{className:P?Uf.locals.PackshotScreen__textBlock_newDesgin:Uf.locals.PackshotScreen__textBlock,style:{fontSize:n.textBlock.fontSize+"px"}},s));return g?(e=>en(nf,{url:p,onClick:()=>{l({clickSource:"PackshotContainer",url:void 0,playerHandles:!0})}},e))(k):k},zf=Sn({clickThrough:X,clickUrl:void 0,videoSlotClickUrl:void 0});zf.Provider.displayName="ClickUrlDataContext";const jf=e=>{const t=Fn(e.currentVastAd),i=Fn(e.videoSlotClickUrl);return In((()=>({clickThrough:e.clickThrough,clickUrl:null==t?void 0:t.clickUrlData.tgaOfferClickUrl,videoSlotClickUrl:i})),[t])},Yf=()=>Dn(zf);class Wf extends tf{constructor(e){super(e),this.addDestroyHandler((e=>{ou("Packshot: destroy Packshot reason=["+e.reason+"]"),yu.log({name:"PackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:e},probability:Bc})}))}renderPackshotContent(e){const{title:t,descriptionText:i,openClickThroughUrl:r,disableOverlay:o,disableTitle:n,disableButton:a,clickUrl:s,packshotNewDesignMode:l}=e;return En(en(Ag,{onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},onFirstRender:e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})}},en(_g,{components:Gf,componentsProps:e},en(Hf,{title:t,descriptionText:i,openClickThroughUrl:e=>{yu.log({name:"PackshotButtonClicked",probability:1}),r(e)},disableOverlay:o,disableTitle:n,disableButton:a,clickUrl:s,packshotNewDesignMode:l}))),e.parent),yu.log({name:"PackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:Bc}),()=>{En(null,e.parent)}}}const Gf=[e=>en(yg.Provider,{value:e.parent,children:e.children}),e=>en(vg.Provider,{value:gg(e.parentSize),children:e.children}),e=>en(sf.Provider,{value:lf(e),children:e.children}),e=>en(Nf.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:e.openClickThroughUrl},children:e.children}),e=>en(zf.Provider,{value:{clickThrough:e.openClickThroughUrl,clickUrl:e.clickUrl,videoSlotClickUrl:e.clickUrl},children:e.children}),e=>en(Of.Provider,{value:wf({timeToSkipSignal:e.timeToSkip,skipCallback:X}),children:e.children}),e=>en(Tf.Provider,{value:Ef(e.controlsVisibility),children:e.children})],Xf={duration:NaN,remainingTime:0};let qf;const Kf=c({portion:"portion",seconds:"seconds"});class Zf{constructor(e){this.trackingUrls={portion:[],seconds:[]},$l(e,(e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Rt(i))return[];const r=t-i,o={portion:r/t,seconds:r},n=[];return $l(Kf,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,o[e]);n.push(...t)})),n}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=or(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=r,Qe(nu(i,(e=>{let{urls:t}=e;return t})))}}const Jf="2.0",Qf=c({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),$f=["slot","videoSlot"];class ey extends fu{static getVpaidAd(e){return Oo(new ey({outsideApi:e}))}handshakeVersion(){return Jf}stopAd(){ou("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),Aa(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,o,n){if(this.isDestroyed)return void yu.error({error:new Zc({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:o,environmentVars:n}})});const a=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(n,$f);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:o,environmentVars:_a({},a,{videoSlot:void 0,slot:void 0})}]).then(X).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=X,this.getAdIcons=Lv,this.getterValues=ze(nu(Qf,(e=>[e,z_[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,r)=>{e.apply(i,r)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t}),"OutsideApiRemoteVpaid.listenRemoteVpaidGetterValueChangeOnDestroy"))),this.addDestroyHandler((e=>{"fatal"===e.reason&&yu.error({error:new Zc({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?yu.error({error:new Zc({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(X).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const ty=(e,t,i,r,o,n)=>{const a=e?r:t,s=e?i:o;return{width:a,height:s,top:(n.height-s)/2,left:(n.width-a)/2}},iy=e=>{const{image:t,boundingRectangle:{width:i,height:r},scaleForHorizontal:o=1,scaleForVertical:n=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/r,h=c>1?o:n,p=h*(i<l||s?i:l),m=h*(r<d||s?r:d),A=l*(m/d),_=d*(p/l);return{width:u?p:A,height:u?_:m,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:ty(u,p,m,A,_,{width:i,height:r}),coeff:l*d/(i*r*a),isHorizontal:c>1,smartCenters:t.smartCenters}},ry=["idle","load","init","start","play"];const oy=e=>Se(e)||!ti(e),ny=e=>{var t;const{adConfig:{secureMode:i}}=e,r=null!=(t=vc.hardcodedParams.adsdksecuremode)?t:i;if(!r)return!1;const o=e.getJSMediaFile();if(!o)return!1;switch(r){case"ForceSafe":return!0;case"Safe":return!oy(o.url);default:return!1}},ay=a((()=>{yu.log({name:"AdCreativeVideoBannerVastUnmoderatedInsideText"})})),sy=a((()=>{yu.log({name:"AdCreativeVideoBannerVastHasBooleanFields"})})),ly=e=>{const t=xt(e);return Boolean(t)},dy=e=>{if(!r(e))return[];const{sitelinks:t,addInfo:i,telNum:o,workingTime:n,metro:a,region:s}=e;if(hy(t)){const e=fc(t,(e=>h(e.title)&&h(e.url)));if(e.length)return nu(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const l=null==i?void 0:i.callouts_list;if(uy(l)){const e=fc(l,h);if(e.length)return nu(e,(e=>({type:"callout",text:e})))}const d=fc([o,n,a,s],h);return nu(d,(e=>({type:"contact",text:e})))},cy=e=>{if(void 0!==(null==e?void 0:e.secondTitle)&&h(null==e?void 0:e.secondTitle))return e.secondTitle},uy=e=>Array.isArray(e)&&im(e,s),hy=e=>Array.isArray(e)&&im(e,r),py=e=>h(e)?e:void 0,my=e=>"boolean"===typeof e?e:void 0,Ay=e=>r(e)&&im(Zt(e),(e=>"string"===typeof e))?e:void 0,_y=new Map([["1","ru"],["2","uk"],["3","en"],["4","be"],["5","kk"],["6","tr"],["ru","ru"],["uk","uk"],["en","en"],["by","be"],["kz","kk"],["tr","tr"]]),vy=e=>{var t;return null!=(t=_y.get(e))?t:"ru"},gy=e=>{var t;const{adParametersObject:i}=e;if(!r(i))return;const o=(e=>{if(!ly(e))return;const{AGE_BACKGROUND_COLOR:t,AGE_TEXT_COLOR:i,BODY_BACKGROUND_COLOR:r,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:n,BUTTON_COLOR:a,BUTTON_TEXT_COLOR:s,DISCLAIMER_BACKGROUND_COLOR:l,DISCLAIMER_TEXT_COLOR:d,DOMAIN_BACKGROUND_COLOR:c,DOMAIN_TEXT_COLOR:u,HAS_AGE:h,HAS_DISCLAIMER:p,HAS_LEGAL:m,LEGAL_BACKGROUND_COLOR:A,LEGAL_TEXT:_,LEGAL_TEXT_COLOR:v,TITLE_BACKGROUND_COLOR:g,TITLE_TEXT_COLOR:f,BUTTON_POSITION:y,BUTTON_LABELS:T}=e;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_AGE"in e)&&sy();const E=xt(e);if(!E)return;const{domain:S,green_url_text_prefix:b,green_url_text_suffix:C,age:P,lang:O,iconUrl:w}=E,I=Ut({domain:S,greenUrlTextPrefix:b,greenUrlTextSuffix:C}),N=Ht(e)||{},{punyDomain:D}=N,k=mt(e);N===E.unmoderated&&ay();const R=cy(N),{title:V,body:L,hasTitle:B,hasBody:x}=Mt(e);return{title:V,body:L,titleExtension:py(R),domain:py(S),greenUrl:I,punyDomain:py(D),iconUrl:w,domainBackgroundColor:py(c),domainTextColor:py(u),ageRestriction:py(P),hasAgeRestriction:my(h),extraLinks:dy(N),images:ga(e),clickThruUrl:Yt(e),ageBackgroundColor:py(t),ageTextColor:py(i),bodyBackgroundColor:py(r),bodyTextColor:py(o),buttonBorderColor:py(n),buttonColor:py(a),buttonTextColor:py(s),hasDisclaimer:my(p),disclaimerBackgroundColor:py(l),disclaimerTextColor:py(d),hasBody:x,hasLegal:my(m),hasTitle:B,legalBackgroundColor:py(A),legalText:py(_),legalTextColor:py(v),titleBackgroundColor:py(g),titleTextColor:py(f),buttonPosition:py(y),buttonLabels:Ay(T),assets:Yp(e),targetUrl:Ce(e),productType:k,lang:vy(O)}})(null!=(t=i.adParameters)?t:i);return{parsedParameters:o,adParametersObject:i}};var fy,yy=e(7262),Ty=e.n(yy);!function(e){e.TEST="TEST",e.MOEVIDEO="MOEVIDEO",e.VIDEONOW="VIDEONOW",e.ADLOOK="ADLOOK",e.BUZZOOLA="BUZZOOLA",e.PUNCHMEDIA="PUNCHMEDIA",e.BETWEENDIGITAL="BETWEENDIGITAL",e.ADHIGH="ADHIGH",e.ADRIVER="ADRIVER",e.MRADX="MRADX",e.RUTARGET="RUTARGET",e.DSSERVING="DSSERVING"}(fy||(fy={}));const Ey=pe({TEST:"test_vpaid",MOEVIDEO:"moevideo.biz",VIDEONOW:"videonow.ru",ADLOOK:"adlook.me",BUZZOOLA:"buzzoola.com",PUNCHMEDIA:"punchmedia.ru",BETWEENDIGITAL:"betweendigital.com",ADHIGH:"adhigh.net",ADRIVER:"adriver.ru",MRADX:"mradx.net",RUTARGET:"rutarget.ru",DSSERVING:"ds.serving-sys.ru"});var Sy=e(4873),by=e.n(Sy);let Cy=!0;var Py=e(3857),Oy=e.n(Py);const wy=e=>{zn(Oy());const{product:t,isHorizontalFormat:i,onProductClick:r}=e,o=wn(null),n=Un(Py.locals.EcomProductCard,{[Py.locals.EcomProductCard_horizontal]:i}),{priceInfo:a}=t,s=Un(Py.locals.EcomProductCard__price,{[Py.locals.EcomProductCard__price_withOldPrice]:void 0!==(null==a?void 0:a.oldPrice)}),l=cf(),d=Pa(o);return en("div",{style:{"--pc-line-height":1.2,"--pc-lines-count":In((()=>{if(null===o.current||void 0===d)return;const e=Number.parseFloat(getComputedStyle(o.current).fontSize);return Math.floor(d.height/(1.2*e))}),[o.current,t.text,d])},className:n},en("img",{className:Py.locals.EcomProductCard__Image,src:t.imageUrl}),en("div",{className:Py.locals.EcomProductCard__Details},en("div",{className:Py.locals.EcomProductCard__pricesContainer},a&&en("span",{className:s},Oa(a.price,a.currency,l,0)),(null==a?void 0:a.oldPrice)&&en("span",{className:Py.locals.EcomProductCard__oldPrice},Oa(a.oldPrice,a.currency,l,0))),en("div",{className:Py.locals.EcomProductCard__textContainer,ref:o},en("div",{className:Py.locals.EcomProductCard__text},t.text)),en("div",{className:Py.locals.EcomProductCard__linkContainer},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),en(nf,{onClick:r,url:t.link},en("span",null)))};var Iy=0,Ny=1,Dy=2,ky=e(9759),Ry=e.n(ky);const Vy=150,Ly=3,By=e=>{zn(Ry());const{products:t,maxItemsPerView:i=Ly,onProductClick:r,onUserAction:o=X}=e;if(0===t.length)return null;const n=wn(null),a=Pa(n),{itemsPerView:s,carouselItemWidth:l,carouselItemContainerWidth:d,isHorizontalCardsFormat:c}=function(e,t){if(void 0===e)return{itemsPerView:1,carouselItemWidth:Vy,carouselItemContainerWidth:Vy,isHorizontalCardsFormat:!1};const i=e.width<e.height;if(Math.min(5*e.height/7,e.width)>=Vy||i){const i=Math.max(Math.min(Math.floor(e.width/Vy),t),1);return{itemsPerView:i,carouselItemWidth:e.width/i,carouselItemContainerWidth:e.width/i,isHorizontalCardsFormat:!1}}return{itemsPerView:1,carouselItemWidth:e.width,carouselItemContainerWidth:e.width,isHorizontalCardsFormat:!0}}(a,i),u=e=>()=>{(e=>{null!==n.current&&void 0!==d&&(n.current.scrollLeft+=d*e)})(e),o(Iy)},h={"--pc-card-width":l+"px","--pc-card-container-width":d+"px"},[p,m]=Cn(!1),[A,_]=Cn(!1),v=e=>{var t,i;const r=null!=(t=e.scrollLeft)?t:0,o=(null!=(i=e.scrollWidth)?i:0)-(r+e.clientWidth)>1;m(r>0),_(o)},g=Nn(function(e,t,i,r){function o(){null!==n&&clearTimeout(n),n=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let n=null;const a=function(){const a=arguments;r=r||this,i&&null===n&&e.apply(r,a),o(),n=window.setTimeout((function(){i||e.apply(r,a),n=null}),t)};return a.cancel=o,a}((e=>{0!==e.deltaX&&o(Iy)}),200),[o]);Pn((()=>{null!==n.current&&v(n.current)}),[n.current]);const f=t.length>s,y=df(),T=Un(ky.locals.EcomProductsCarousel__productCardContainer,{[ky.locals.EcomProductsCarousel__productCardContainer_verticalCards]:!c,[ky.locals.EcomProductsCarousel__productCardContainer_horizontalCards]:c}),E=Un(ky.locals.EcomProductsCarousel__productCards,{[ky.locals.EcomProductsCarousel__productCards_noScroll]:!f});return en("div",{className:ky.locals.EcomProductsCarousel,style:h},en("div",{className:ky.locals.EcomProductsCarousel__slideToLeftContainer},f&&en("button",{type:"button",onClick:u(-1),className:ky.locals.EcomProductsCarousel__slideToLeft,disabled:!p,title:y("PREV_ECOM_PRODUCT")},en(wa,{className:ky.locals.EcomProductsCarousel__slideToLeftIcon}))),en("div",{className:E,ref:n,onScroll:e=>{v(e.target)},onWheel:g,onMouseMove:e=>{null!==e.target&&"onpointermove"in e.target||o(Dy)},onPointerMove:()=>{o(Dy)}},void 0!==a&&nu(t,(e=>en("div",{className:T},en(wy,{product:e,isHorizontalFormat:c,onProductClick:()=>{o(Ny),r(e)}}))))),en("div",{className:ky.locals.EcomProductsCarousel__slideToRightContainer},f&&en("button",{type:"button",onClick:u(1),className:ky.locals.EcomProductsCarousel__slideToRight,title:y("NEXT_ECOM_PRODUCT"),disabled:!A},en(Ia,{className:ky.locals.EcomProductsCarousel__slideToRightIcon}))))},xy=e=>{zn(by());const t=fg(),i={fontSize:ra(t)},r=t.height>t.width,{products:o,openClickThroughUrl:n,isProductsVisible:a,onUserAction:s,showCloseButton:l,onCloseClick:d}=e,c=r?1:3,u=Un(Sy.locals.EcomProductsPackshotScreen,{[Sy.locals.EcomProductsPackshotScreen_singleVisibleItem]:1===c||1===e.products.length,[Sy.locals.EcomProductsPackshotScreen_vertical]:r}),h=Un(Sy.locals.EcomProductsPackshotScreen__closeButton,{[Sy.locals.EcomProductsPackshotScreen__closeButton_hidden]:!l});return en(rn,null,a&&en("div",{className:u,style:i},en("div",{className:Sy.locals.EcomProductsPackshotScreen__closeButtonContainer},en("button",{type:"button",className:h,onClick:d},en(Na,{className:Sy.locals.EcomProductsPackshotScreen__closeIcon}))),en(By,{products:o,maxItemsPerView:c,onProductClick:e=>{n(e.clickThruUrl)},onUserAction:s})),!a&&en(Hf,e.classicPackshotProps))};class My extends tf{constructor(e){super(e),this.isProductsVisible=new Uu(!1),this.addDestroyHandler((e=>{ou("ProductsPackshot: destroy Productspackshot reason=["+e.reason+"]"),yu.log({name:"EcomProductsPackshotDestroyed",data:{isInfiniteDuration:this.isInfiniteDuration,reason:e},probability:Bc})}))}setProductsVisibility(e){this.isProductsVisible.dispatch(e)}renderPackshotContent(e){var t;const i=e=>{"error"===e.status&&this.destroy({reason:"firstRenderError",details:e.error})},r=e=>{this.destroy({reason:"runtimeError",details:e})},o=t=>{yu.log({name:"EcomProductsPackshotButtonClicked",probability:1}),e.openClickThroughUrl(t)},n={clickUrl:null==(t=e.themeEmptyParameters)?void 0:t.clickUrl,descriptionText:void 0,openClickThroughUrl:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)},packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",title:e.title,disableOverlay:e.disableOverlay,disableTitle:e.disableTitle,disableButton:e.disableButton},a=()=>{const{duration:t,userActionIncreaseDuration:i}=e,r=jr(this.progress.getValue()-i/t,0,1);this.setProgress(r)},s=()=>{this.destroy({reason:"complete",details:void 0})};return En(en((()=>{const t=Fn(this.isProductsVisible),l=Fn(e.abuseDisplayStatus),d=Fn(e.controlsVisibility),c=Fn(e.timeToSkip),u=!(!1!==d.skip&&c>=0)&&"hidden"===l&&this.destroyAfterComplete;return en(Ag,{onRuntimeError:r,onFirstRender:i},en(_g,{components:Uy,componentsProps:e},en(xy,{classicPackshotProps:n,products:e.ecomShop.products,openClickThroughUrl:o,isProductsVisible:t,showCloseButton:u,onUserAction:a,onCloseClick:s})))}),null),e.parent),yu.log({name:"EcomProductsPackshotRendered",data:{isInfiniteDuration:this.isInfiniteDuration},probability:Bc}),()=>{En(null,e.parent)}}}const Uy=[e=>en(yg.Provider,{value:e.parent,children:e.children}),e=>en(vg.Provider,{value:gg(e.parentSize),children:e.children}),e=>en(Nf.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:()=>{void 0!==e.themeEmptyParameters&&e.openClickThroughUrl(e.themeEmptyParameters.clickUrl)}},children:e.children}),e=>en(Tf.Provider,{value:Ef(e.controlsVisibility),children:e.children})];class Fy extends fu{constructor(e){super(),this.onAdSkippableStateChange=new yc,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.isInfinityPackshotEnabled=!1,this.styleModulesManager=new Eg,this.lifeCycleStage=new Uu("idle",((e,t)=>{const i=ry.indexOf(e);return ry.indexOf(t)-i!==1&&this.stats.error({error:new Zc({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:ka({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=a((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),ou("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(a((()=>{ou("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),this.stats.log({name:"VpaidCreativeStarted",data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e}})})),"AdStarted")})),this.creativeAdStartedCallback=qt((()=>{if(this.isDestroyed)return void this.stats.error({error:new Zc({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||this.stats.error({error:new Zc({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=a((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();ou("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{this.stats.error({error:new Zc({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=a((()=>{const{creativesLayoutContainer:e,slotParameters:t}=this.adDisplayController,i=t.document.createElement("div");i.classList.add(yy.locals.AdPodContainer),this.styleModulesManager.useStyleModule(i,Ty()),this.isCreativeStartRequested.addOne((()=>{Le(i,{visibility:"visible"})})),this.addDestroyHandler((()=>{Ve(i)})),e.appendChild(i);const r=aa(i);return r&&Le(r,Ju),r||i})),this.prepareVpaidCreative=a((async e=>{let{startStrategy:t}=e;this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add((()=>{this.onVolumeChange.dispatch(void 0)}))),this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable",startStrategy:t});const i=await this.initCreative();if(!i||this.isDestroyed)throw new Zc({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});i.subscribe((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})}),"AdError"),this.creative=i,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),"play"===this.playingState.getValue()?this.startVpaidCreative(i):this.startAndPauseVpaidCreative(i),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),ou("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(r=this.creative)?void 0:r.getAdRemainingTime())?i:-1)+"]]")}),"AdPodViewer.updatePosition"),this.isAdPlayingCalled=!1,this.sentTrackings={impression:0,creativeView:0,firstQuartile:0,midpoint:0,thirdQuartile:0,beforeComplete:0,complete:0,clickThrough:0},this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:uo(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new Uu(Xf,sa),this.packshotStartLatch=new xv,this.adVideoIsBuffering=new Uu(!1),this.playingState=new Uu("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Zc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&this.stats.error({error:new Zc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new Uu(!1),this.onReady=new yc,this.onBeforeDestroy=new yc,this.isStarted=new Uu(!1),this.onResume=new yc,this.onPause=new yc,this.onVolumeChange=new yc,this.onImpression=new yc,this.onFirstQuartile=new yc,this.onMidpoint=new yc,this.onThirdQuartile=new yc,this.onComplete=new yc,this.onBeforeComplete=new yc,this.completeLatch=new xv((e=>{let{isInfinityPackshotEnabled:t}=e;this.trackVastEvent("complete",{}),this.onComplete.dispatch({isInfinityPackshotEnabled:t})})),this.onClickThrough=new yc,this.onAdInteraction=new yc,this.playingTimeCounter=new hA,this.shouldPlayTimeCounter=new hA,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=a((()=>{this.stats.error({error:new Zc({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r,enableInfinityPackshot:o,stats:s,ecomShopState:l}=e;this.userInteractionDispatchers=(e=>({AdClickThru:t=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:t})})},AdSkipped:()=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})},AdTimeToSkipChange:()=>{e.error({error:new Zc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_TIME_TO_SKIP_CHANGE_WITHOUT_AD_CREATIVE",details:void 0})})}}))(s),this.stats=s,this.ecomShopState=l;const d=Jn(i.vastAd,i.adConfig);if(d){ou("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(d));const e=new qg(this,d);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),o=Math.round(i-r),a=Math.round(this.bufferingTimeManager.getBufferingTime()*uA),l=Math.round(this.getDuration()*uA),d=Math.round(this.getAdRemainingTime()*uA),c=Math.round(l-d),u=Math.round(a/c*1e6),{droppedVideoFrames:h,corruptedVideoFrames:p,totalVideoFrames:m,droppedVideoFramesRatio:A}=n(this.adDisplayController.videoNode),_=t.getAdPlacementOptions(),{videoToDevicePixelRatio:v,videoPixelRatio:g}=_,f=Boolean(this.getVideoSlotClickUrl()),y=ce(this.adDisplayController.slotParameters.window),{adBreakType:T,adFormatType:E}=_,{sentTrackings:S}=this;s.log({name:"ViewerDestroy",data:{destroyReason:e,adBreakType:T,adFormatType:E,wasViewerStarted:this.isStarted.getValue(),sentTrackings:S},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:o,bufferingTime:a,duration:l,remainingTime:d,currentTime:c,bufferingTimeRatio:u,videoToDevicePixelRatio:v,videoPixelRatio:g,droppedVideoFrames:Math.round(h),corruptedVideoFrames:Math.round(p),totalVideoFrames:Math.round(m),droppedVideoFramesRatio:Math.round(1e6*A)},sensors:{videoSlotIsClickable:f,touchScreen:y,reason:e.reason},dailySensors:ka({},$(S,(e=>e>0)))}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.enableInfinityPackshot=null!=o&&o,this.isStarted.add((()=>{this.trackVastEvent("creativeView",{})})),this.onResume.add((()=>{this.trackVastEvent("resume",{})})),this.onPause.add((()=>{this.trackVastEvent("pause",{})})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",{})}));let c=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();c!==e&&(this.trackVastEvent(e?"mute":"unmute",{}),c=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",{})}));const u=new Zf(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const r=u.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&ca({eventName:"progress",trackingEventDetails:{},trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",{})})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",{})})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",{})})),this.bufferingTimeManager=new K_,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*uA;this.playingTimeCounter.addCallback(e,(()=>{s.log({name:"TooLongPlaying",data:{mediaFile:this.mediaAd.getJSMediaFile(),adFormatType:la(this.mediaAd),adParameters:this.mediaAd.vastAd.adParametersObject}})})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.isStarted.add((()=>{this.playingState.dispatch("play")})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",{})})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,{})})),this.addDestroyHandler((()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()})),this.addDestroyHandler(Re({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne((()=>{this.subscribeFullscreenForLogs()}));const h=new Error,{vpaidTimeout:p}=r;this.shouldPlayTimeCounter.addCallback(p,(()=>{const e=this.getScriptSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:o}=i,n={adPodId:this.mediaAd.getAdPodId(),timeout:p,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:r,liveCycleStage:t,videoNodeSrc:o.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:o.networkState,readyState:o.readyState};this.isDestroyed?s.error({error:new Zc({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:n})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&s.error({error:new Zc({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:n})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Zc(h,{code:Ea({creativeLifeCycleStage:t,isYandexCreative:oy(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:n})}))})),this.completeLatch.subscribe((()=>{this.playingTimeCounter.stop()})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}startCreative(e){let{startStrategy:t}=e;this.isDestroyed&&this.stats.error({error:new Zc({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const i="startPlaying"===t?"play":"pause";this.playingState.dispatch(i),this.creative?this.resume():this.prepareVpaidCreative({startStrategy:t}).catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return t(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return t(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}pause(){this.playingState.dispatch("pause"),this.creative&&(ou("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),ou("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(ou("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():H_}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){var r;void 0===i&&(i="normal"),null==(r=this.creative)||r.resizeAd(e,t,i)}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!ny(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,o=i.muted;this.creative.setAdVolume(e);const n=i.volume,a=i.muted;!t||this.adCreativeWrapper||this.mediaAd.getIsIndependentOnVideoElement()||r!==n||o!==a||this.stats.log({name:"VpaidCreativeDidNotChangeVideoSlotVolume",data:this.getVPAIDLogDetails()})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){oy(this.getScriptSrc())&&(ou("preload VPAID creative by start and pause"),this.startVpaidCreative(e),this.stats.log({name:"PreloadVPAIDCreativeByStartAndPause",data:{vpaidSrc:this.getScriptSrc()}}),ou("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,o=Wi(r),n=this.createContainerNode();let s;if(o){ou("[AdPodViewer]: play creative as AdCreative"),s=n;const{creative:i,wrapper:r}=this.wrapAdCreative({creativeSlot:s});e=i,this.adCreativeWrapper=r,t=a((()=>{try{ou("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(qO){this.stats.error({error:new Zc(qO,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(ny(this.mediaAd)){ou("[AdPodViewer]: play creative via VASFrame"),s=n;const i=gh({container:s,initTimeout:5e3});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler((()=>{this.destroy({reason:"error",details:new Zc({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{r.destroy(void 0)})),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const o=()=>ey.getVpaidAd(r),l=this.getStandardVpaidCreative(o);e=l.creative,t=a((()=>{ou("[AdPodViewer]: call VPAID stopAd method"),l.stopAd()})),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{ou("[AdPodViewer]: play creative with Friendly Iframe");const i=PA.create({parentElement:n,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;Le(r,Ju),s=r.contentDocument.body;const o=r.contentWindow;Ko(o)&&Yv(),Zo(o)&&jv(o),$l(Wv,(e=>{this.addDestroyHandler(Re({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{i.destroy(void 0)})),i.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const a=await this.loadVpaidMediaFile(o);if(this.isDestroyed)return;const l=this.getStandardVpaidCreative(a);e=l.creative,t=l.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{ou("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),t()})),this.stats.log({name:"VpaidCreativeLoaded",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i}}),this.isDestroyed)throw new Zc({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:l}=this,{videoNodeController:d,playbackParameters:c}=l,{clientWidth:u,clientHeight:h}=d.videoNode,p=this.getDesiredBitrate(),m={AdParameters:this.getAdParameters()},A=l.autoplayAbilityResult.getValue();let _;_=void 0!==A&&(d.videoNode.muted?"restricted"!==A.autoplayAbility:"allowed"===A.autoplayAbility);const v={slot:s,videoSlot:d.videoNode,videoSlotCanAutoPlay:_,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:c.lang,controlsSettings:{controlsVisibility:kp},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},g=ma({creative:e,isYandexCreative:oy(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(g,s.ownerDocument.defaultView);const f=Date.now();return await new Promise(((i,r)=>{g.subscribe((()=>{ou("VPAID dispatched AdLoaded event"),i(g)}),"AdLoaded"),g.subscribe((e=>{ou("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))}),"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(u,h,"normal",p,m,v)}catch(qO){throw ou("[AdPodViewer]: creative.initAd() error, call stopAd"),t(),new Zc(qO,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),this.stats.log({name:"VpaidCreativeInitialized",data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-f}}),g}wrapAdCreative(e){let{creativeSlot:t}=e;const i=this.getAdParameters(),{adParametersObject:r}=this.mediaAd.vastAd,{parsed:{videoMediaFiles:o,animationMediaFile:n,adParameters:a},errors:s}=sr(null!=r?r:i);let l;if("survey"===this.adDisplayController.getAdPlacementOptions().adFormatType&&this.mediaAd.vastAd.surveyParameters){const{disableSurveyCompleteScreen:e,disableSurveyStartTimeout:t}=this.adDisplayController.playbackParameters;l=ka({},this.mediaAd.vastAd.surveyParameters,{disableSurveyCompleteScreen:void 0!==e&&e,disableSurveyStartTimeout:void 0!==t&&t})}Xt(s);const{playbackParameters:d,videoContentSize:c,slotParameters:u,videoNodeController:p}=this.adDisplayController,{videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:_}=this.adPodViewerPlaybackParams,v=o.length>0&&!Xi(this.mediaAd.vastAd)&&!Gi(this.mediaAd.vastAd),g=this.mediaAd.getIsConvertedFromVideoVast();let f,y,T;if(v){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,i=this.mediaAd.getAdPodId(),r=ka({container:u.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:M(tu(u.window))},y_);e||(e=qr(o,r,{adBreak:t,adPodId:i,initiator:"AdPodViewer"}).prioritisedMediaFile);const n=g?1===o.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new Zc({code:n,details:{mediaFiles:o,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:r}});if(function(e){const{win:t,videoType:i,videoCodec:r,width:o,height:n,bitrate:a}=e;if(vc.VAS_USER_SESSION_RANDOM>xc)return;if(!r||!a)return;if(!h(i)||!xr(r)&&!Br(r))return;const s=t.navigator;if(!s.mediaCapabilities)return;const l={type:"file",video:{contentType:i+";codecs="+r,width:o,height:n,bitrate:a,framerate:25}};s.mediaCapabilities.decodingInfo(l).then((e=>{yu.log({name:"MediaCapabilitiesCheck",data:{config:l,result:e},probability:1})})).catch((e=>{yu.error({error:new Zc({code:"MEDIA_CAPABILITIES_CHECK_ERROR",details:{config:l,error:e}})})}))}({win:u.window,videoType:e.type,videoCodec:Lr(e.codec),width:e.width,height:e.height,bitrate:e.bitrate}),v){const{firstFrameImages:t}=this.mediaAd.vastAd,i=this.mediaAd.getPreloadedFirstFramePicture(),r=null!=i?i:ur(t,e);void 0!==r&&(y={posterImage:r,isPreloaded:void 0!==i})}f={videoContentSize:c,videoMediaFile:ka({},e,{url:bm(e.url)}),videoMediaFiles:o,videoTimeout:m,bufferFullTimeout:A,bufferEmptyLimit:_,durationFallback:()=>this.mediaAd.getDuration(),getStartStrategy:()=>"play"===this.playingState.getValue()?"startPlaying":"warmupOnly",onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}T=n&&"InteractiveElementsAdCreative"===Dm[n.url]?"IV":"AD_CREATIVE_FRIENDLY_IFRAME";let E,S=t.ownerDocument.defaultView;if(n){E={animationMediaFile:n,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:a,surveyAdCreativeParameters:l};const e=PA.createHidden({parentElement:t,scope:T,provideLogDetails:this.getVPAIDLogDetails});S=e.window,this.addDestroyHandler((()=>{e.destroy(void 0)})),e.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}let b=this.adPodViewerPlaybackParams.packshotParameters;var C;!1===this.adPodViewerPlaybackParams.packshotSettings.isEnabled?b=void 0:b=null!=(C=b)?C:this.getAutogeneratedPackshotParameters(v);const P=this.getVideoSlotClickUrl(),O=this.mediaAd.getIsConvertedFromVideoVast();this.isInfinityPackshotEnabled=this.enableInfinityPackshot&&(!v||void 0!==b),this.enableInfinityPackshot&&this.stats.log({name:"InfinityPackshotEnabled",sensors:{isPossible:this.isInfinityPackshotEnabled}});const w=S,I={AdClickThru:e=>{this.stats.log({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e}}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped();const i=this.completeLatch.getValue();this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==i?void 0:i.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:null!=(t=null==i?void 0:i.isInfinityPackshotEnabled)&&t}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdTimeToSkipChange:e=>{this.adDisplayController.timeToSkipAdCreative.dispatch(e)},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),ou("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}},{creative:N,wrapper:D,userInteractionDispatchers:k}=qo({adCreativeWindow:w,slot:t,slotsParameters:{visibilitySlotParameters:this.adDisplayController.visibilitySlotParameters},animationParameters:E,videoParameters:f,firstFrameParameters:y,videoNodeController:p,slotSize:u.size,clickThroughUrl:P,intrinsicAdCreativeType:O?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:w,slot:t,packshotParameters:b,packshotSettings:this.adPodViewerPlaybackParams.packshotSettings,slotSize:u.size,videoNodeController:p,adCreativeUserInteractionCallbacks:I,themeEmptyParameters:ba(this.mediaAd.vastAd)}),lang:d.lang,adCreativeUserInteractionCallbacks:I,verifyLogAdditionalData:Wn(this.mediaAd.vastAd),shouldHideSkipButton:!1===this.adDisplayController.playbackParameters.controlsSettings.controlsVisibility.skip,playerEnvironment:this.adDisplayController.playerEnvironment,destroyAfterComplete:!this.isInfinityPackshotEnabled});return this.userInteractionDispatchers=k,{creative:N,wrapper:D}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null==(e=t.adParametersObject)?void 0:e.theme;Mm(t)&&Oe(i)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=oy(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(Or(e,((e,i,r)=>{this.stats.error({error:Cr({scope:t,errorType:i,error:e,details:ka({},this.getVPAIDLogDetails(),{error:e,data:r})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(CA(e,(()=>{this.destroy({reason:"error",details:new Zc({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;this.stats.log({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t},probability:1})}try{const{promise:t,teardown:i}=wA({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(qO){throw new Zc(qO,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=oy(this.getScriptSrc());if("function"!==typeof e)throw new Zc({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:ka({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(qO){throw new Zc(qO,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const o=a((()=>{ou("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(qO){this.stats.error({error:new Zc(qO,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>r(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new Zc({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(Jf);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const r=nu(t.split("."),(e=>parseInt(e,10))),o=nu(i.split("."),(e=>parseInt(e,10)));for(let n=0;n<o.length;n++){const e=o[n],t=r[n],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:Jf,versionToCheck:n}))throw ou("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),o(),new Zc({code:"VPAID_VERSION_ERROR",details:ka({},this.getVPAIDLogDetails(),{playerSupportedVersion:Jf,creativeVersion:n})});return{creative:i,stopAd:o}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250),i=()=>{M(e.clearInterval)&&e.clearInterval(t)};return this.addDestroyHandler((()=>{i()})),()=>{i()}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled}})}),"AdStopped"),e.subscribe(((e,t,i)=>{this.clickThrough({url:e,clickSource:"VpaidAdClickThruEvent",playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let r;e.subscribe((()=>{ou("VPAID dispatched AdDurationChange event"),i()}),"AdDurationChange"),e.subscribe((()=>{this.creativeAdStartedCallback(),i(),M(r)&&r(),r=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{ou("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),M(r)&&r(),r=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{ou("VPAID dispatched AdPaused event"),this.updatePosition(),M(r)&&r(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const o=a((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{o()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const n=a((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback,isInfinityPackshotEnabled:this.isInfinityPackshotEnabled})}));e.subscribe((()=>{ou("VPAID dispatched AdVideoComplete event"),n()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();if("string"===typeof e){const r=((e,t,i)=>{const r=ic(Ey,(e=>{let[,i]=e;return-1!==t.indexOf(i)}));if(!r)return;if(-1===e.indexOf("no active campaigns"))return;const[o]=r;return new Zc({code:"EXTERNAL_VPAID_NO_AD_"+o,details:Ca({},i,{error:e})})})(e,this.getCurrentSource().url,this.getVPAIDLogDetails());return r||new Zc({code:t,message:"String error from vpaid ["+e+"]",details:i})}return se(e)?e:e?new Zc(e,{code:t,details:i}):new Zc({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){var t;const i=null!=(t=Ec.getNumberFlagValueAndActivateTestId("VAS_AUTOGENERATED_PACKSHOT_DURATION"))?t:3;if(!i||!e)return;const{vastAd:r}=this.mediaAd,{slotParameters:o}=this.adDisplayController,n=ya(r,o.size.getValue()),a=this.adPodViewerPlaybackParams.clickThroughUrl||r.clickUrlData.serializablePlaybackParametersClickUrl;if(!h(a))return void this.stats.log({name:"AutogeneratedPackshot_NoClickThroughLink"});const{title:s}=Mt(this.mediaAd.vastAd.adParametersObject);return{packshotImageUrl:n,packshotActionButtonClickUrl:a,packshotDuration:i,packshotTitle:s,packshotButtonText:void 0}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",{})}trackVastEvent(e,t){var i;const r=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];e in this.sentTrackings||(this.sentTrackings[e]=0),this.sentTrackings[e]+=1,ca({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:r,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||this.stats.error({error:new Zc({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=zl),this.trackVastEvent("start",{values:{timeToStart:e}})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;const{playerHandles:i,clickSource:r}=e,{clickThroughUrl:o}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&this.stats.error({error:new Zc({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?n=e.url:o&&(this.stats.log({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:o,adPodId:this.mediaAd.getAdPodId()},probability:1}),n=o);uv(this.adDisplayController.videoNode)<=.1&&this.stats.log({name:"ClickOnTinyBufferedTime",probability:1});const{pauseOnClickThrough:s,clickThroughConfirmation:l,clickThroughCallback:d}=this.adDisplayController.playbackParameters,c=Boolean(d||n);if(!c||!i)return this.trackVastEvent("clickThrough",{dailySensors:{clickSource:r}}),void this.stats.log({name:"PhantomClickThrough",data:{canHandleClickThrough:c,playerHandles:i,hasClickThroughCallback:Boolean(d),clickThroughUrl:n,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}});n&&(n=Je({url:Da(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const u=a((function(i){void 0===i&&(i=!1);const o=Date.now(),a=t.adDisplayController.getPaused(),l=s&&!a&&!t.completeLatch.getValue();if(l&&t.pause(),i){const e=ha(window.document,(i=>{var r;if(!i)return;l&&t.resume();const n=Date.now()-o;ca({eventName:"returnAfterClickThrough",trackingEventDetails:{values:{timeSpentBeforeReturn:n}},trackingUrls:null!=(r=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?r:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const a=(e=>{switch(!0){case e<=Number(uA):return"ReturnBackAfterClickThroughIn1Sec";case e<=2e3:return"ReturnBackAfterClickThroughIn2Sec";case e<=1e4:return"ReturnBackAfterClickThroughIn10Sec";case e<=6e4:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(n);t.stats.log({name:a,data:{timeSpentBeforeReturn:n,adPodId:t.mediaAd.getAdPodId()},probability:1}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",{dailySensors:{clickSource:r}}),t.onClickThrough.dispatch({adWasPaused:Boolean(s)}),d&&t.stats.log({name:"ClickThroughCallbackHandle",data:{clickThroughParams:e,url:n,pauseOnClickThrough:s,adPodId:t.mediaAd.getAdPodId()}})}));if(d){l||u();const t=this.isDestroyed;d({url:n,onHandle:u}),!t&&this.isDestroyed&&this.stats.error({error:new Zc({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),this.stats.log({name:"ClickThroughCallbackCall",data:{clickThroughParams:e,url:n,pauseOnClickThrough:s,adPodId:this.mediaAd.getAdPodId()}})}else{null!==window.open(n,"_blank")&&u(!0)}}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return E_;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getVideoSlotClickUrl(){const{mediaAd:e}=this;if("video"===e.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:t}=e,i=t.clickUrlData.serializablePlaybackParametersClickUrl;return i||void 0}getDesiredBitrate(){const{desiredBitrate:e=Ip}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;ca({eventName:"showHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;ca({eventName:"clickHp",trackingEventDetails:{},trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return"TRUE"!==Ec.getFlagValueAndActivateTestId("VAS_DISABLE_HONEYPOT")&&(!!vc.hardcodedParams.adsdkhoneypotforced||!Se(Ic)&&this.areHoneypotTrackingUrlsDefined()&&gd()<.001)}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){let{win:t,slot:i,packshotParameters:r,packshotSettings:o,slotSize:n,videoNodeController:a,adCreativeUserInteractionCallbacks:s,themeEmptyParameters:l}=e;const d=()=>{this.packshotStartLatch.dispatch(void 0)};if(this.isHoneypotEnabledForCurrentCreative())return{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotRender",probability:1}),d();const e=new Lg({win:t,parent:i,parentSize:n,videoNodeController:a,onClick:()=>{ou("Honeypot clicked"),this.trackHoneypotClickEvent(),this.stats.log({name:"AdCreativeWrapperHoneypotContinueClicked",probability:1}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"});return e}};const c=this.adDisplayController.playbackParameters.lang,u=this.ecomShopState.getValue();if(void 0!==u.ecomShop){var h,p;const e=u.ecomShop,c=null!=(h=Ec.getNumberFlagValueAndActivateTestId("VAS_ECOM_PRODUCTS_PACKSHOT_DURATION"))?h:5,m=null!=(p=Ec.getNumberFlagValueAndActivateTestId("VAS_ECOM_PACKSHOT_INCREASE_DURATION"))?p:c/2,{title:A}=Mt(this.mediaAd.vastAd.adParametersObject);return{type:"ecom-packshot",renderLayoutComponent:()=>{var u;d(),this.adDisplayController.abuseDisplayStatus;const h=new My({win:t,parent:i,parentSize:n,videoNodeController:a,duration:c,userActionIncreaseDuration:m,destroyAfterComplete:!this.enableInfinityPackshot,openClickThroughUrl:e=>{s.AdClickThru({url:e,clickSource:"EcomProductsCarousel",playerHandles:!0})},ecomShop:e,themeEmptyParameters:l,disableOverlay:Boolean(o.disableOverlay),disableTitle:Boolean(o.disableTitle),disableButton:Boolean(o.disableButton),title:null!=(u=null==r?void 0:r.packshotTitle)?u:A,abuseDisplayStatus:this.adDisplayController.abuseDisplayStatus,timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility});return h.addDestroyHandler(this.ecomShopState.add((e=>{h.setProductsVisibility(e.isVisible)}))),this.ecomShopState.dispatch(ka({},this.ecomShopState.getValue(),{isVisible:!0})),h.show(),h}}}if(void 0===r)return;const m=null!=l?l:{ageRestriction:void 0,body:void 0,clickUrl:r.packshotActionButtonClickUrl,greenUrl:void 0,label:r.packshotButtonText||w_("LEARN_MORE",c),title:void 0,targetUrl:r.packshotActionButtonClickUrl};return ka({},r,{type:"packshot",renderLayoutComponent:()=>{d();const e=new Wf({win:t,parent:i,parentSize:n,packshotNewDesignMode:"ONLY_ELEMENTS_CLICKABLE",videoNodeController:a,lang:c,destroyAfterComplete:!this.enableInfinityPackshot,title:r.packshotTitle,imageUrl:r.packshotImageUrl,duration:r.packshotDuration,clickUrl:r.packshotActionButtonClickUrl,openClickThroughUrl:e=>{let{clickSource:t}=e;s.AdClickThru({url:r.packshotActionButtonClickUrl,playerHandles:!0,clickSource:t})},themeEmptyParameters:m,descriptionText:void 0,disableOverlay:Boolean(o.disableOverlay),disableTitle:Boolean(o.disableTitle),disableButton:Boolean(o.disableButton),timeToSkip:this.adDisplayController.timeToSkip,controlsVisibility:this.adDisplayController.combinedSkinControlsVisibility});return e.show(),e}})}}const Hy=Dp,zy=1e4,jy=1e4,Yy={bufferEmptyLimit:5,bufferFullTimeout:5e3,videoTimeout:5e3,vpaidTimeout:5e3},Wy=["3000","4000","5000","6000","7000"],Gy=["2","3","4","5","6"],Xy=Ma("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",Gy),qy=Ma("TIMEOUT_NON_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",Wy),Ky=Ma("TIMEOUT_NON_PREROLL_MULTIROLL_VIDEO_TIMEOUT",Wy),Zy=Ma("TIMEOUT_NON_PREROLL_MULTIROLL_VPAID_TIMEOUT",Wy),Jy=Ma("TIMEOUT_PREROLL_MULTIROLL_BUFFER_EMPTY_LIMIT",Gy),Qy=Ma("TIMEOUT_PREROLL_MULTIROLL_BUFFER_FULL_TIMEOUT",Wy),$y=Ma("TIMEOUT_PREROLL_MULTIROLL_VIDEO_TIMEOUT",Wy),eT=Ma("TIMEOUT_PREROLL_MULTIROLL_VPAID_TIMEOUT",Wy),tT={preroll:yt({bufferEmptyLimit:parseInt(null!=Jy?Jy:"",10),bufferFullTimeout:parseInt(null!=Qy?Qy:"",10),videoTimeout:parseInt(null!=$y?$y:"",10),vpaidTimeout:parseInt(null!=eT?eT:"",10)},(e=>i(e))),non_preroll:yt({bufferEmptyLimit:parseInt(null!=Xy?Xy:"",10),bufferFullTimeout:parseInt(null!=qy?qy:"",10),videoTimeout:parseInt(null!=Ky?Ky:"",10),vpaidTimeout:parseInt(null!=Zy?Zy:"",10)},(e=>i(e)))},iT=450,rT=!(Ga(window)>=15),oT=Jo(window),nT=oT.requestAnimationFrame,aT=oT.cancelAnimationFrame;class sT extends fu{constructor(e){var t,i;super(),this.isPlaying=new Uu(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=Eo(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:o,clientHeight:n}=this.params.container,a=o/n,s=r.width/r.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=2;d.drawImage(c,0,0,r.width,r.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,r.width,r.height,0,0,u,h);d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),Ve(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||$g(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){$g(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";$g(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=le(this.params.videoNode).position;-1===["fixed","absolute"].indexOf(t)&&(e["z-index"]="-1"),$g(this.blurWrapper,e),$g(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=nT(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),aT(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,o=t<0,n=o?r.offsetHeight*e:r.offsetWidth/e,a=o?n:r.offsetWidth,s=o?r.offsetHeight:n,l=(o?i.offsetWidth:i.offsetHeight)/n*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,o)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}var lT;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(lT||(lT={}));const dT=["pagehide","unload"],cT=new Map,uT=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class hT{constructor(e){const{cues:t}=Qa(e);this.cues=t.sort(((e,t)=>e.start-t.start))}findCuesByCurrentTime(e){return fc(this.cues,(t=>this.isCueApplicable(t,e)))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const pT=e=>{const t=Xa(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=so(e,{objectFit:""});return a((()=>{t(),i()}))};let mT=function(e,t,i){e.attachEvent("on"+t,i)},AT=function(e,t,i){e.detachEvent("on"+t,i)};w(document,"addEventListener")&&w(document,"removeEventListener")&&(mT=function(e,t,i,r){const o=e&&w(e,"addEventListener");o&&o.call(e,t,i,r)},AT=function(e,t,i,r){const o=e&&w(e,"removeEventListener");o&&o.call(e,t,i,r)});let _T=!1,vT=!1,gT=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>_T=!0}),Object.defineProperty(t,"passive",{get:()=>vT=!0}),Object.defineProperty(t,"capture",{get:()=>gT=!0}),mT(e,"click",oe,t)}}catch(qO){}const fT=15,yT=1e3,TT="Fullscreen is not supported";class ET{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new yc,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=yo(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&Wa(e)&&(this.onDestroy.addOne(Re({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Re({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=fo(e,t),this.names&&(this.onDestroy.addOne(Re({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(TT);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(TT);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(TT);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=fc(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,$l(this.handlers,(t=>t(e)))}}class ST{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const o={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(o)},this.unsubscribeEvent=Re({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return ic(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const bT=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class CT extends fu{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,ou("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.init().then((()=>{ou("MSEController: MSE successfully attached"),yu.log({name:"MSEControllerAttachSuccess"})})).catch((e=>{ou("MSEController: init error"),"AbortError"===e.name?yu.log({name:"MSEControllerFetchWasAborted",data:{message:e.message}}):yu.error({error:new Zc(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return ou("MSEController#reader: abort controller was already aborted"),void yu.error({error:new Zc({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});ou("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Zc({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{ou("MSEController#reader: cancel reader"),Aa(i.cancel())})),ou("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>Re({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let r;t&&i?r=xA({type:t,codec:i}):(yu.log({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e}}),r='video/webm; codecs="vorbis,vp8"');const o=this.mediaSource.addSourceBuffer(r);return Re({element:o,eventName:"error",listener:this.ignoreAfterDestroy((e=>{ou("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Zc(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}),"MSEController.ElementEventListener")}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&(ou("MSEController#abort source buffer"),yu.log({name:"MSEControllerSourceBufferAbortOnDestroy"}),o.abort())})),ou("MSEController: got source buffer"),o}async doReadCycle(e,t){ou("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+bT);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise((e=>Re({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(bT){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>Re({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(bT&&(ou("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise((e=>Re({element:t,eventName:"updateend",listener:e})));ou("MSEController: read cycle complete")}async finalize(e){for(ou("MSEController#close streams");e.updating;)await new Promise((t=>Re({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?(ou("MSEController#finalize: close stream"),this.mediaSource.endOfStream(),this.destroy(void 0)):ou("MSEController#finalize: media source is closed")}}const PT=Math.ceil(8),OT=wd;class wT extends fu{constructor(e,t){super(),this.onClick=new yc,this.currentPosition=new Uu({currentTime:0,duration:0},sa),this.onError=new yc,this.onEnd=new yc,this.onVolumeChange=new yc,this.onPlay=new yc,this.onPlayAfterPause=new yc,this.onBufferingAfterPlay=new yc,this.isBuffering=new Uu(!1),this.onPlaying=new yc,this.onCanPlay=new yc,this.onLoadedData=new yc,this.pauseRequest=new Uu(-1),this.videoNode=e;const i=this.videoNode.paused?"pause":"play";this.playingState=new Uu(i),this.win=Wo(e)?e.ownerDocument.defaultView:t,this.fullscreenApi=new ET(this.win,e),this.cspErrorHandler=new ST(this.win);let r=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:i,paused:o,ended:n}=this.videoNode;switch(ou("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:r,nextPlayingState:e,currentTime:t,duration:i,paused:o,ended:n})+"]"),e){case"play":"pause"===r&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case"end":this.onEnd.dispatch(void 0);break;case"buffering":"play"===r&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch("buffering"===e),r=e}));const o={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Zc({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&yu.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Tu(1e3,this.win);this.addDestroyHandler((()=>{t(),i()})),e.then(i).catch(ee)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch("play")},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch("play")}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const n in o)o.hasOwnProperty(n)&&e.addEventListener(n,o[n]);this.addDestroyHandler((()=>{for(const t in o)o.hasOwnProperty(t)&&e.removeEventListener(t,o[t]);this.fullscreenApi.destroy(),this.cspErrorHandler.destroy(),this.onCanPlay.removeAll()}))}play(){ou("VideoNodeController.play");const e=this.videoNode.play();nh(e)&&e.catch((e=>{this.shouldIgnorePlayRejection(e)||yu.error({error:new Zc(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}))}pause(){ou("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),"end"!==this.playingState.getValue()&&this.playingState.dispatch("pause")}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:i}=this;let r;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const o=tu(this.win);r=!(!M(o)||void 0!==zr(e)),ou("VideoNodeController.setSrc shouldPlayWithMSE=["+r+"] url=["+t+"]"),is(i,(()=>{if(!r)return i.src=t,void i.load();const o=(e=>{if(!XA||!zA)throw new Zc({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new CT(as({},e,{MediaSourceConstructor:zA}))})({mediaFile:e,videoSlot:i});this.activeMSEController=o,o.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}),"VideoNodeController.mseControllerOnDestroy")),this.addDestroyHandler((()=>{o.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return ns(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return yo(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){is(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return ss(this.videoNode)}setVolume(e){!function(e,t){is(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return pr(e.type)?V(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:i,currentSrc:r,currentTime:o,duration:n,error:a,networkState:s,readyState:l}=e,d=a&&a.code,c={code:d,message:a&&a.message||"",src:i,currentSrc:r,currentTime:o,duration:n,networkState:s,readyState:l,selectedMediaFile:void 0,mediaFiles:void 0};if(!a||"undefined"===typeof MediaError)return new Zc({code:"VIDEO_ERROR",details:c});switch(d){case MediaError.MEDIA_ERR_ABORTED:return new Zc({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new Zc({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new Zc({code:o>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return t(s)&&t(l)&&l===e.HAVE_NOTHING&&s===e.NETWORK_NO_SOURCE?new Zc({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new Zc({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new Zc({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=Ga(this.win)>=11?os(this.videoNode,e):Re({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();ou("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=Re({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),o=Re({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),n=Re({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=Re({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(o),this.addDestroyHandler(n),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=Re({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch("pause")},options:{passive:!0}}),i=wr((()=>{const{paused:t,ended:i}=e;if("play"===this.playingState.getValue()&&t&&!i){const{currentTime:t,duration:i}=e;ou("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),yu.log({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch("pause")}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Re({element:this.videoNode,eventName:"ended",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch("end"):ou("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=wr((()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:o}=this.videoNode,n=this.playingState.getValue();if(r>0&&e>=r)return void("end"!==n&&(yu.log({name:"DetectVideoEndByCurrentTime"}),this.playingState.dispatch("end")));const a=!o&&r>0&&e===i&&r-e<1&&"play"===this.playingState.getValue();i=e,a?t>=PT?(t=0,"end"!==n&&(yu.log({name:"DetectVideoEndByStalledOffset",probability:1}),this.playingState.dispatch("end"))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=X;const t=q_(this.videoNode,(t=>{let i;if(i=t?"buffering":this.videoNode.paused?"pause":"play",e(),this.playingState.dispatch(i),t&&OT){const{clear:t,promise:i}=Tu(1e3,this.win);e=t,this.addDestroyHandler(t),i.then((()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:r,src:o}=this.videoNode;yu.log({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:o,currentTime:e,duration:t},probability:1})})).catch(ee)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Re({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}subscribeLoadedData(){this.addDestroyHandler(Re({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=1e3}}const IT=e=>!1!==e.abuse,NT={isCloseAvailable:!1,isCloseDialogActive:!1},DT={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},kT=(e,t)=>t>=mv&&("play"===e||"pause"===e),RT=[{type:"video/x-flv",codec:void 0},{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"h264"},{type:"video/mp4",codec:"h265"},{type:"video/mp4",codec:"hev1.1.6.L60.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L90.90"},{type:"video/mp4",codec:"hev1.1.6.L120.90"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/x-ms-wmv",codec:void 0},{type:"application/x-shockwave-flash",codec:void 0},{type:"video/3gp",codec:"av1"},{type:"video/3gp",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"video/mpeg",codec:"av1"}];var VT=e(6416),LT=e.n(VT);const BT=jA?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",xT=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Aa(e.play())}})(e);return()=>{t(),i(),r()}},MT={once:!0,passive:!0};class UT{constructor(e,t){let{checkSoundEnabled:i}=t;this.stop=X,this.isStopped=!1,this.revertVideoState=X,this.video=e;const r=document.createElement("div");r.style.display="none";const o=xT(e),n=is(e,(()=>Xa(e,{src:BT})));let s;this.revertVideoState=a((()=>{n(),e.load(),o(),Ve(r)})),this.promise=new Promise((async(e,t)=>{let r;if(s=t,i){if(r=await this.requestAutoplayAbilityByMuted(!1),this.isStopped)return;if(r.autoplayAbility)return this.revertVideoState(),void e({autoplayAbility:"allowed",detectionMethod:r.detectionMethod,detectionDetails:r.detectionDetails})}const o=await this.requestAutoplayAbilityByMuted(!0);if(this.isStopped)return;let n;n=r&&r.detectionMethod!==o.detectionMethod?"DifferentDetectionMethods":o.detectionMethod,this.revertVideoState(),this.isStopped=!0,e({autoplayAbility:o.autoplayAbility?"muted":"restricted",detectionMethod:n||"NotRecognized",detectionDetails:{soundDisabled:o,soundEnabled:r}})})),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(is(t,(()=>{t.load()})),await Ch(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:"RAAStopped"};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{(function(e){let t=0;const i=[],r=(r,o)=>{i.push(Re({element:e,eventName:r,listener:o,options:MT})),clearTimeout(t)},o=new Promise((i=>{const o=t=>{e.paused&&i({detectionMethod:t,autoplayAbility:!1})},n=e.play();o("VideoTagPaused"),r("durationchange",(()=>o("PauseAfterDurationChange"))),r("error",(()=>o("VideoTagPausedAfterError"))),r("pause",(()=>i({detectionMethod:"PauseEvent",autoplayAbility:!1}))),r("playing",(()=>{i({detectionMethod:"PlayingEvent",autoplayAbility:!0})})),n?(r("progress",(()=>{i({detectionMethod:"ProgressEvent",autoplayAbility:!0})})),n.then((()=>{i({detectionMethod:"PromiseResolve",autoplayAbility:!0})})).catch((e=>{i({detectionMethod:"PromiseReject",autoplayAbility:!1,detectionDetails:e?{code:e.code,name:e.name,message:e.message}:"not_error"})}))):t=window.setTimeout((()=>{i({detectionMethod:"Timeout",autoplayAbility:!1})}),500)}));return o.then((()=>G(i))),o})(t).then((t=>{e(t)})).catch((t=>{e({autoplayAbility:!1,detectionMethod:"PlayRejected",detectionDetails:{code:t.code,name:t.name,message:t.message}})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:"RAAStopped"}:i}}const FT=["test-direct.yandex.ru","direct.yandex.ru","partner2.yandex.ru"],HT=e=>mu(FT,(t=>t===e||Ee(e,"."+t))),zT=e=>{const{hostname:t}=N(e.location.href),{referrer:i}=e.document;return HT(t)||HT(i)},jT=e=>!!Qh&&("IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype),YT=["1247278","663369","663373","1375818","1275620","265882","734430","754063","663376","575584","1215622","385590","139995","661333","753971","734464","669901","461140","752673","348635","1223915","670298","1223914","675288","670300","1223913","1583915","730529","1366868","259601","128930","216651","427941","578603","1572937","447162","154950","448212","350986","129405","136261","1299351","575586","592219","447131","578807","578609","577872","142300","491044","1461718","447169","69381","567266","333441","630193","125905","272256","683973","451243","486953","223754","1404395","49517","460527","446885","338669","700312","575746","56459","446683","1487819","508482","981354","752036","255445","126345","256304","1289815","447112","588375","555724","49912","146642","269694"],WT=e=>{var t;const i=null!=(t=function(e){if(s(e))return e.split(",")}(Ec.getFlagValueAndActivateTestId("VAS_IOV2_PAGE_ID_BLACKLIST")))?t:YT;return L(i,e)},GT=["ctc.ru","more.tv","tv.mail.ru","domashniy.ru","ontvtime.tv","zenvix.net","ontvtime.ru","glaz.tv","ren.tv","ctclove.ru","televizorus.com","rosserial.be","m.glaz.tv","5-tv.ru","ivi.ru","smotrim.ru","m.5-tv.ru","federal.tv","chetv.ru","hd.kinopoisk.ru"],XT=()=>{var e;const t=null!=(e=function(e){if(s(e))return e.split(",")}(Ec.getFlagValueAndActivateTestId("VAS_IOV2_BLACKLISTED_TOP_ANCESTORS")))?e:GT;return mu(t,(e=>e===yv||Ee(yv,"."+e)))},qT=e=>{let{win:t,pageId:i}=e;const r=!h(i)||!WT(i);return jT(t)&&!XT()&&!(e=>zT(e)||zT(kd))(t)&&r&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY")},KT="https://favicon.yandex.net/favicon/",ZT=e=>{const t=(e=>{const t=gy(e);if(!t)return;const{parsedParameters:i}=t;return i?i.iconUrl:void 0})(e);if(t)return{url:t,source:"bk"};const i=function(e){if(!Sa(e))return;const t=gy(e);if(!r(t))return;const{adParametersObject:i,parsedParameters:o}=t;if(!r(i)||!r(o))return;const{domain:n,punyDomain:a}=o;return null!=a?a:n}(e);if(i){return{url:""+KT+i+"?size=32&stub=1",source:"domain"}}},JT="2147483647",QT=e=>{let{element:t,win:i}=e;const r=new Uu(!0),o=t.ownerDocument.createElement("div");$n(o,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:JT},!0),t.appendChild(o);const n=new i.IntersectionObserver((e=>{const t=e[e.length-1],{isVisible:i=!0}=t;r.dispatch(i)}),{trackVisibility:!0,delay:100});return n.observe(o),{teardown:()=>{n.disconnect(),r.removeAll(),Ve(o)},visualVisibilitySignal:r}};let $T=0;class eE extends fu{constructor(e){var t;let{config:i,videoNode:o,layoutSlot:n,skinParameters:s,backgroundSlot:l,visibilitySlotParameters:d,retainLastMediaAfterPlayback:u,stats:p}=e;super(),t=this,this.volumeButtonCollapseProgress=new Uu(void 0),this.volumeStatus=new Uu("unknown"),this.videoSlotClickUrl=new Uu(void 0),this.ecomShopState=new Uu({isVisible:!1,ecomShop:void 0}),this.onReady=new yc,this.onBeforeDestroy=new yc,this.onDestroy_PUBLIC_DO_NOT_USE=new yc,this.onBeforeAdStart=new yc,this.onAdStart=new yc,this.adSlowStart=new Uu(!1),this.onAdMediaStart=new yc,this.onAdMediaEnd=new yc,this.onAdEnd=new yc,this.onAdSkipped=new yc,this.onClickThrough=new yc,this.playerEnvironment=void 0,this.autoplayAbilityResult=new Uu({autoplayAbility:"restricted",detectionMethod:"AutomaticallyGenerated"},sa),this.tooltipParameters={container:{containerElement:new Uu(void 0),setContainerElement:e=>{this.tooltipParameters.container.containerElement.dispatch(e)}},content:{tooltipContent:new Uu(void 0),setTooltipContent:e=>{this.tooltipParameters.content.tooltipContent.dispatch(e)}}},this.onAdStartRejected=new yc,this.adContentSize=new Uu(void 0,sa),this.onAdStop=new yc,this.onAdPodPlayAdMedia=new yc,this.onAdPodStartRequest=new yc,this.onAdPodStart=new yc,this.onAdPodImpression=new yc,this.onAdPodFirstQuartile=new yc,this.onAdPodMidpoint=new yc,this.onAdPodThirdQuartile=new yc,this.onAdPodPause=new yc,this.onAdPodResume=new yc,this.onAdPodError=new yc,this.onAdPodComplete=new yc,this.onAdPodClose=new yc,this.onAdInteraction=new yc,this.adMediaState=new Uu({name:"idle"},sa),this.isPackshotPlaying=new Uu(!1),this.themeEmptyParameters=new Uu(void 0,sa),this.faviconSrc=new Uu(void 0),this.showTitleAndBody=new Uu(void 0),this.currentVastAd=new Uu(void 0),this.bannerFlags=new Uu(void 0,sa),this.abuseParameters=new Uu(x_,sa),this.adPodDuration=new Uu(NaN),this.adVolumeAvailability=new Uu(false),this.adPodRemainingTime=new Uu(-2),this.skinAnimationProgress=new Uu(0),this.timeToSkipComputed=new Uu(Pf),this.timeToSkipAdCreative=new Uu(void 0),this.timeToSkip=Fo([this.timeToSkipComputed,this.timeToSkipAdCreative],((e,t)=>null!=t?t:e)).valueSignal,this.adSkippableState=new Uu(H_),this.playingState=new Uu("idle",((e,t)=>"idle"===t?(this.stats.error({error:new Zc({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new Uu(NT,sa),this.adTuneState=new Uu(F_,sa),this.combinedSkinControlsVisibility=new Uu({},sa),this.creativeType=new Uu(void 0),this.adSystemType=new Uu(void 0),this.contentAfterAdPod=new Uu(dp,sa),this.socialAdvertising=new Uu(!1),this.abuseDisplayStatus=new Uu("hidden"),this.pauseByOpenAbuseScreen=new Uu(!1),this.adPodsCount=new Uu(0),this.playingAdPodIndex=new Uu(0),this.adPodCurrentSubtitles=new Uu([]),this.isFullscreen=new Uu(!1),this.displayAdSequence=new Uu(void 0,sa),this.shouldShowSkipButton=new Uu({shouldShowSkipButton:!1}),this.logAbuseOpenFirstTime=a((()=>{this.stats.log({name:"AbuseScreenOpenFirstTime",probability:1})})),this.onAllAdPodComplete=new yc,this.lastMediaRetained=new Uu(void 0),this.adBlockIdentification=new Uu({adType:void 0,partnerId:void 0,impId:void 0}),this.adTitleParameters=new Uu(void 0),this.isNewSkinEnabled=a((()=>{if(!0===this.playbackParameters.enableNewSkin)return{reason:"enabledByApi",isEnabled:!0};if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_EVERYWHERE"))return{reason:"enabledByEverywhereExperiment",isEnabled:!0};if("multiroll"===this.playerEnvironment)return{reason:"disabledInMultiroll",isEnabled:!1};return"videoInCombo"===this.skinParameters.skinVariant?"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_VIDEO_IN_COMBO")?{reason:"enabledForVideoInCombo",isEnabled:!0}:{reason:"disabledForVideoInCombo",isEnabled:!1}:ru&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_NANPU")?{reason:"enableInNanpu",isEnabled:!0}:"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN_IN_THIRD_PARTY_ENVIRONMENT")?{reason:"enableInThirdPartyEnv",isEnabled:!0}:{reason:"disabledByDefault",isEnabled:!1}})),this.skinControlsHideReasons=new Uu(ze(nu(Dp,(e=>[e,[]])))),this.publicApiControlsVisibility=new Uu({}),this.isCreativeWithOwnControls=new Uu(!1),this.vastAdControlsSettings=new Uu(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new Uu(!0),this.adPodBackground=new Uu(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=X,this.adVideoIsBuffering=new Uu(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}})((()=>{this.onAdInteraction.dispatch(void 0)}),500),this.documentVisibility=new Uu(!1),this.currentViewerProductType=new Uu(void 0),this.styleModulesManager=new Eg,this.isSurveyCreative=new Uu(!1),this.isBrandliftSurveyCreative=new Uu(!1),this.prepareSkin=a((()=>{const e=this.skinContainer;e.classList.add(VT.locals.AdDisplayControllerSkinContainer),this.styleModulesManager.useStyleModule(e,LT());const t=aa(e);t||this.stats.log({name:"CouldNotCreateSkinShadowRoot",probability:1});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:o}=this.skinParameters.renderSkinFunction(null!=t?t:e,this);i.then((()=>{const{isEnabled:e,reason:t}=this.isNewSkinEnabled();this.stats.log({name:"SkinRendered",sensors:{isNewSkin:e?"1":"0",reason:t}})})).catch((e=>{this.stats.error({error:new Zc(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),r.catch((e=>{this.stats.error({error:new Zc(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{o(),Ve(e)}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":w_("YANDEX_DIRECT_LINK",this.playbackParameters.lang),i=!this.getPaused(),r=Date.now();this.stats.log({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e},probability:1}),i&&this.pause();if(null===window.open(t,"_blank"))return;const o=ha(window.document,(n=>{n&&(this.stats.log({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e},probability:1}),o(),i&&this.resume())}));this.addDestroyHandler(o)},this.isYandexCreative=new Uu(void 0),this.clickThrough=e=>{const{clickSource:t}=e;this.currentViewer?(this.stats.log({name:"AdDisplayControllerClickThrough",data:{clickSource:t,playbackParameters:this.playbackParameters},probability:1}),this.viewerClickThrough(this.currentViewer,e)):this.stats.error({error:new Zc({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{clickSource:t,playbackParameters:this.playbackParameters}})})},this.onSkinSkipButtonClick=()=>{const e=this.timeToSkip.getValue();0===e?this.skipCurrentViewer():this.stats.log({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e},probability:1})},this.setEcomShopState=function(e,i){void 0===i&&(i=!1);const r=t.ecomShopState.getValue();if(!mu(c(e),(t=>e[t]!==r[t])))return;const o=As({},r,e);if(o.isVisible=o.isVisible&&void 0!==o.ecomShop&&o.ecomShop.products.length>0,t.ecomShopState.dispatch(o),!i||t.isPackshotPlaying.getValue())return;const n=t.playingState.getValue();o.isVisible&&"play"===n&&t.pause(),o.isVisible||"pause"!==n||t.play()},this.destroyCurrentViewer=()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{this.stats.log({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:1});const t="AbuseVariantChoose_"+e;this.stats.log({name:t,probability:1})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(qO){this.stats.error({error:new Zc(qO,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(qO){this.stats.error({error:new Zc(qO,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewer)return void this.stats.error({error:new Zc({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContiner&&this.hideCreativesContainer();const{reason:i,action:r}=B_[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e);(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(this.stats.log({name:"AbuseScreenCopiedCountLink",probability:1}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):this.stats.error({error:new Zc({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),this.stats.log({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:1}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:D_.action,reasonId:D_.reason})},this.abuseScreenCloseHandler=()=>{this.stats.log({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:1}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:k_.action,reasonId:k_.reason})},this.handleAbuseScreenCloseByResumeError=()=>{this.stats.error({error:new Zc({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewer;if(!e)return void this.stats.log({name:"GetCurrentViewerAssetsCalledWithoutViewer"});const{adParametersObject:t,assets:i,creativeParameters:r}=e.mediaAd.vastAd,o=null==i?void 0:i.button,n=this.getAdPlacementOptions(),{adFormatType:a}=n,s="survey"===a?"survey":void 0,l=this.getEcomAsAsset();if(!ly(t))return this.stats.log({name:"GetCurrentViewerAssetsReturnedEmpty"}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,adFormatType:s,isFullyClickable:ds(a,e.getVideoSlotClickUrl()),sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0,ecomShop:l};const{abuseUrl:d}=this.abuseParameters.getValue(),c={logo:null==i?void 0:i.logo,domain:null==r?void 0:r.domain,greenUrl:null==r?void 0:r.greenUrl,punyDomain:null==r?void 0:r.punyDomain,title:null==r?void 0:r.title,body:null==r?void 0:r.body,age:null==r?void 0:r.ageRestriction,buttonCaption:null==o?void 0:o.caption,lang:this.playbackParameters.lang,targetUrl:Ce(t),socialAdvertising:this.socialAdvertising.getValue(),app:null==i?void 0:i.app,icon:null==i?void 0:i.icon,images:null==i?void 0:i.images,adFormatType:s,isFullyClickable:ds(a,e.getVideoSlotClickUrl()),sendAdTuneTracking:d?e=>{this.stats.log({name:"GetCurrentViewerAssetsAdTuneTracking"}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThrough",url:void 0,playerHandles:!0})}:void 0,clickThroughButtonAsset:o?()=>{this.viewerClickThrough(e,{clickSource:"ApiClickThroughButtonAsset",url:o.href,playerHandles:!0})}:void 0,ecomShop:l};return this.stats.log({name:"GetCurrentViewerAssetsReturnAssets",data:c}),c},this.subscribeInteractionHandlers=()=>{if(!jc(this.slotParameters.element))return X;const e=[],t=Wo(this.videoNode);return $l(Wv,(i=>{e.push(Re({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Re({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>G(e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{if(!vc.isDebugEnabled)return;const e=function(e){var t,i;const r=e;return null!=(t=r.ya)&&null!=(i=t.videoAd)&&i.debugParameters||Za(r,{videoAd:{debugParameters:{}}},"ya"),r.ya.videoAd.debugParameters}(window),{stats:t}=this;if(!e.adDisplayControllerRegistry){const i=new Map,r=new Set;Object.defineProperty(e,"adDisplayControllerRegistry",{get:()=>(U("You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllerRegistryGetter"}),r)}),Object.defineProperty(e,"blockRegistry",{get:()=>(U("You are using debug code block registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeBlockRegistryGetter"}),i)});const o=()=>(U("You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeAdDisplayControllersGetter"}),Array.from(e.adDisplayControllerRegistry.values()));e.getAdDisplayControllers=o;const n=()=>(U("You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."),t.log({name:"UsingDebugCodeGetBlocksInfo"}),Array.from(e.blockRegistry.values()));e.getBlocksInfo=n}const i=e.adDisplayControllerRegistry,r=e.blockRegistry;i.add(this),this.addDestroyHandler(this.adBlockIdentification.add((e=>{if(!e||void 0===e.impId||void 0===e.partnerId)return;const t=e.partnerId+"-"+e.impId;if(r.has(t))return;const i=(e=>{const t=e.adBlockIdentification.getValue();return{visibilityTrackingElement:e.visibilitySlotParameters.element,adType:null==t?void 0:t.adType,bundleName:ac,VSID:gc,partnerId:null==t?void 0:t.partnerId,impId:null==t?void 0:t.impId}})(this);r.set(t,i)}))),this.addDestroyHandler((()=>{i.delete(this)}))},this.desiredPlayStateByVisibility=new Uu(void 0),this.pausedByVisibilityRatio=new Uu(void 0),this.logOnceVisibilityPauseOnce=a((()=>{this.stats.log({name:"AdDisplayControllerVisibilityPausedOnStart",probability:1})})),this.setupTrackVisibilityReporting=()=>{const e=new xv,t=this.slotParameters.window;if(!jT(t))return void this.stats.log({name:"IntersectionObserverTrackVisibilityNotSupported"});const{teardown:i,visualVisibilitySignal:r}=QT({element:this.visibilitySlotParameters.element,win:t});e.subscribe(i),e.subscribe(mo([this.visibilitySlotParameters.visibilityRatio,this.documentVisibility,r],((e,t,i)=>t&&e>=mv&&!i),(t=>{t&&(this.stats.log({name:"IntersectionObserverTrackVisibilityDiffers"}),e.dispatch(void 0))}))),this.addDestroyHandler((()=>{e.dispatch(void 0)}))},this.setupVisibilityPlaybackPauseResume=()=>{this.desiredPlayStateByVisibility.add((e=>{if(void 0===e)return void 0;const t="pause"===e;t?(this.documentVisibility.getValue()&&"play"===this.playingState.getValue()&&this.logOnceVisibilityPauseOnce(),this.pause()):this.resume(),this.pausedByVisibilityRatio.dispatch(t),this.stats.log({name:t?"AdDisplayControllerVisibilityPause":"AdDisplayControllerVisibilityResume"})})),this.addDestroyHandler(this.onReady.addOne((()=>{const e=Fo([this.documentVisibility,this.visibilitySlotParameters.visibilityRatio,this.isYandexCreative],((e,t,i)=>{const r=this.getVolume()>0,o=t>=mv;if(!this.currentViewer)return;if(!i)return;if(!e&&r)return;return"pause"!==this.currentViewer.playingState.getValue()&&!o?"pause":o&&!0===this.pausedByVisibilityRatio.getValue()?"play":void 0}));this.addDestroyHandler(e.teardown),this.desiredPlayStateByVisibility.dispatch(e.valueSignal.getValue()),e.valueSignal.add(this.desiredPlayStateByVisibility),this.addDestroyHandler(this.playingState.subscribeValueConditionOnce((e=>"end"===e),(()=>{e.teardown()})))})))},this.stats=p,this.retainLastMediaAfterPlayback=Boolean(u),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),vc.isDebugEnabled&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=l,this.visibilitySlotParameters=d,function(e){Ko(e)&&zv(),Zo(e)&&Hv(e)}(window);const m=void 0===o.volume||void 0===o.muted;m&&this.stats.error({error:new Zc({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:A,errors:_}=za(i);this.playbackParameters=A,void 0!==this.playbackParameters.skipDelayForNonYandexCreatives&&this.stats.log({name:"UseOfPublicApiSkipDelayForNonYandexCreativesParameter",data:{config:i}}),this.adVolume=new Uu(ss(o)),this.adHasBeenUnmuted=new Uu(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=m;const v=new iv(n),g=v.onResize;g.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),g.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{v.destroy()}));const f=new Uu(!1);this.addDestroyHandler(vo(n,(e=>{f.dispatch(e)}))),this.slotParameters={element:n,document:n.ownerDocument,window:n.ownerDocument.defaultView,size:g,isHovered:f},this.skinParameters=s,this.addDestroyHandler(((e,t)=>{const i=wr((()=>{uo(e)||(i(),t())}));return i})(n,(()=>{this.destroy({reason:"error",details:new Zc({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new Uu(void 0,sa);const y=new Uu(kT(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));this.addDestroyHandler(mo([this.playingState,this.visibilitySlotParameters.visibilityRatio],kT,(e=>y.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:i,callback:r,win:o}=e,n=0;const a=()=>{if(M(null==o?void 0:o.clearTimeout))return o.clearTimeout(n)},s=t.add((e=>{e?n=o.setTimeout((()=>{r(),s()}),i):a()}));return()=>{a(),s()}})({valueSignal:y,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler(function(e,t){const i=()=>{const i=Eo(e);t(i)},r=[];return r.push(Re({element:e,eventName:"resize",listener:i}),wr(i)),()=>{G(r)}}(o,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(Eo(o))})),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{v.destroy()})),Xt(_),this.videoNode=o,cs(this.videoNode),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const T=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),T())}));this.addDestroyHandler(mo([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),$T++,100===$T&&this.stats.error({error:new Zc({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),this.stats.log({name:"CreateAdDisplayController",data:{config:this.playbackParameters}}),this.desiredBitrate=i.desiredBitrate,this.videoNodeController=new wT(o,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1))),this.addDestroyHandler(function(e,t){let{controlsSettingsFromConfig:i,isFakeVideoElementWithoutVolumeChangeSupport:r,playingState:o,slotSize:n,skinControlsHideReasons:a,isCreativeWithOwnControls:s,vastAdControlsSettings:l,publicApiControlsVisibility:d,productType:c,isSurveyCreative:u,isBrandliftSurveyCreative:h,playerEnvironment:p,adSystemType:m,adTitleParameters:A}=e,_={};return mo([o,n,a,s,l,d,c,u,h,m,A],((e,t,o,n,a,s,l,d,c,u,h)=>{let{width:m}=t;if("idle"===e||!(m>=140)||n)return kp;const A={controlsVisibility:$(o,(e=>!(e.length>0)&&void 0))};return Va(void 0===u?{controlsVisibility:{adLabel:!1}}:void 0,"boolean"===typeof(null==h?void 0:h.show)?{controlsVisibility:{adLabel:h.show}}:void 0,a,i,{controlsVisibility:s},A,r?{controlsVisibility:{mute:!1}}:void 0,l&&$e(l)?{controlsVisibility:{disclaimers:!1,ageLabel:!1}}:void 0,d&&"multiroll"!==p?{controlsVisibility:{timeline:!1}}:void 0,c?{controlsVisibility:{skip:!1}}:void 0).controlsVisibility}),qt((e=>{_=e,t(_)}),(e=>{for(const i of Dp)if(e[i]!==_[i])return _=e,void t(_)})))}({controlsSettingsFromConfig:this.playbackParameters.controlsSettings,publicApiControlsVisibility:this.publicApiControlsVisibility,isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,productType:this.currentViewerProductType,isSurveyCreative:this.isSurveyCreative,isBrandliftSurveyCreative:this.isBrandliftSurveyCreative,playerEnvironment:this.playerEnvironment,adSystemType:this.adSystemType,adTitleParameters:this.adTitleParameters},(e=>{this.combinedSkinControlsVisibility.dispatch(e)}))),this.addDestroyHandler(this.playingState.add((e=>{if("play"===e){if(this.isPackshotPlaying.getValue())return;this.setEcomShopState({isVisible:!1})}}))),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t,nextViewer:i}=e;const r=void 0===i?this.playbackParameters.contentAfterAd:lp;$l(r.poster,(e=>{let{url:t}=e;hr(t)}));const{mediaAd:o}=t;this.isCreativeWithOwnControls.dispatch(o.isCreativeWithOwnControls()),this.adSystemType.dispatch(o.getIsYandexCreative()?"yandex":"external"),this.isYandexCreative.dispatch(oy(t.getScriptSrc())),this.contentAfterAdPod.dispatch(r);const n=xa(o.vastAd);this.vastAdControlsSettings.dispatch(n),this.currentVastAd.dispatch(o.vastAd),this.ecomShopState.dispatch({isVisible:!1,ecomShop:o.vastAd.ecomShop});const a=ba(o.vastAd);if(this.themeEmptyParameters.dispatch(a),a){const e=ZT(o.vastAd);if(e){const{url:i,source:r}=e;"bk"===r&&this.stats.log({name:"UsedFaviconFromBK",data:{src:i}}),this.faviconSrc.dispatch(i);const o=new Image;t.addDestroyHandler(Re({element:o,eventName:"load",listener:()=>{clearTimeout(a)}}));const n=e=>{var t;clearTimeout(a),this.stats.log({name:"FaviconIsNotLoaded",data:{reason:null!=(t=null==e?void 0:e.message)?t:"timeout",src:i}}),this.faviconSrc.dispatch(void 0)};t.addDestroyHandler(Re({element:o,eventName:"error",listener:n})),o.src=i;const a=setTimeout(n,3e3)}}var s;this.showTitleAndBody.dispatch(ms(o.vastAd)),this.bannerFlags.dispatch(o.vastAd.bannerFlags),t.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)})),this.currentViewerProductType.dispatch(o.vastAd.productType),this.isSurveyCreative.dispatch(Gi(o.vastAd)),this.isBrandliftSurveyCreative.dispatch(!!Gi(s=o.vastAd)&&Wt(s.adParametersObject)),this.adTitleParameters.dispatch(o.vastAd.adTitleParameters),this.initCreativeType(t),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!this.isSurveyCreative.getValue()})})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(dp),this.vastAdControlsSettings.dispatch(void 0),this.themeEmptyParameters.dispatch(void 0),this.faviconSrc.dispatch(void 0),this.showTitleAndBody.dispatch(void 0),this.bannerFlags.dispatch(void 0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1),this.currentViewerProductType.dispatch(void 0),this.isSurveyCreative.dispatch(!1),this.isBrandliftSurveyCreative.dispatch(!1),this.adTitleParameters.dispatch(void 0),this.shouldShowSkipButton.dispatch({shouldShowSkipButton:!1})})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null==(t=e.adParametersObject)?void 0:t.socialAdvertising)}(i));const{abuseUrl:r}=i;r&&this.abuseParameters.dispatch({abuseUrl:r,legalText:i.legalText})})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{Ve(this.creativesLayoutContainer),Ve(this.skinContainer)}))})),this.adBlockIdentification.addOne((e=>{let{partnerId:t}=e;const i=void 0===t?void 0:String(t);qT({pageId:i,win:this.slotParameters.window})&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ENABLE_VISIBILITY_PLAYBACK_PAUSING")&&this.onBeforeAdStart.addOne(this.setupVisibilityPlaybackPauseResume)})),"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY_REPORTS")&&this.onBeforeAdStart.addOne(this.setupTrackVisibilityReporting),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(ou("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;ou("mark slow start, actual passed time=["+t+"]ms"),this.stats.log({name:"AdSlowStart",data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilityResult.add((e=>{let{autoplayAbility:t}=e;"restricted"===t&&this.onAdStartRejected.dispatch(void 0),"muted"===t&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{if(this.isFinished=!0,this.playingState.dispatch("end"),$l(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const r=this.adPodDestroyReasonObjects[i];void 0===r?t.destroy({reason:"destroy",details:void 0}):t.destroy(r)})),this.viewersList.length=0,this.adBlockIdentification.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),y.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.desiredPlayStateByVisibility.removeAll(),this.adTitleParameters.removeAll(),this.adVolume.removeAll(),this.autoplayAbilityResult.removeAll(),this.currentViewer){if(this.currentViewer.isCreativeStartRequested.getValue()){const e=this.currentViewer.mediaAd.adBreak.adType;this.onAdMediaEnd.dispatch({adType:e})}this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0}this.videoNodeController.destroy(),Ve(this.nativeControlsHideStyle)})),this.addDestroyHandler(mo([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],ls,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.adPodCurrentSubtitles.dispatch([]);const i=(e=>{const{adParametersObject:t}=e;if(!r(t))return;if(!r(t.subtitles))return;const{vtt:i}=t.subtitles;return h(i)?i:void 0})(t.mediaAd.vastAd);let o;if(i)try{o=new hT(i)}catch(eg){this.stats.log({name:"SubtitleProviderInitializationError",data:{message:eg.message}})}I_||t.addDestroyHandler(mo([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],((e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i})),(e=>{let{remainingTime:t,duration:i,isPackshotPlaying:r}=e;const n=Math.max(0,i-t);if(r)this.adPodCurrentSubtitles.dispatch([]);else if(o){const e=o.findCuesByCurrentTime(n);this.adPodCurrentSubtitles.dispatch(e)}})))}));const{skinContainer:E,creativesLayoutContainer:S}=this.prepareContainersToAppend();this.skinContainer=E,this.creativesLayoutContainer=S,this.prepareSkin(),this.addDestroyHandler(Ja((()=>{this.destroy({reason:"unload",details:void 0})}),null!=kd?kd:window)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(To(window,o)),this.addDestroyHandler(((e,t)=>{if(cT.has(t)){const i=cT.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=cT.get(t);e&&(G(e.tasks),e.timeoutId=window.setTimeout(i,t))};cT.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=cT.get(t);if(!i)return;const{timeoutId:r,tasks:o}=i,n=o.indexOf(e);-1!==n&&o.splice(n,1),0===o.length&&(window.clearTimeout(r),cT.delete(t))}})((()=>{const e=To(window,o);this.isFullscreen.dispatch(e)}),1e3)),this.watchDocumentVisibility(),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)})),this.initAdSequence()}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new Zc({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),r=Wo(this.videoNode)?uo(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=jc(e)?uo(e):void 0;return this.stats.error({error:new Zc({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return this.stats.error({error:new Zc({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&this.stats.log({name:"CallShowAdMultipleTimes"});const{adBreak:o,adConfig:n}=e[0];return this.adBlockIdentification.dispatch({partnerId:n.partnerId,impId:null!=(t=n.impId)?t:o.impId,adType:o.adType}),this.isFinished=!1,new Promise(((t,r)=>{this.viewersList=nu(e,((t,i)=>{let r;t.vastAd.trackingEvents=gt(t.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const o=t.getJSMediaFile();r=!!o&&oy(o.url);const n={adDisplayController:this,mediaAd:t,adPodViewerPlaybackParams:Ua({playbackParameters:this.playbackParameters,vastAd:t.vastAd,adBreakType:t.adBreak.adType,isYandexAdCreative:r}),enableInfinityPackshot:!0===this.playbackParameters.enableInfinityPackshot&&i===e.length-1,stats:this.stats,ecomShopState:this.ecomShopState},a=new Fy(n);return a.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),a.onImpression.add(this.onAdPodImpression),a.onFirstQuartile.add(this.onAdPodFirstQuartile),a.onMidpoint.add(this.onAdPodMidpoint),a.onThirdQuartile.add(this.onAdPodThirdQuartile),a.onAdInteraction.add(this.onAdInteractionWrapper),a})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:o.adType}),this.onAdPodStart.addOne((()=>{this.stats.log({name:"AdStarted",data:{config:this.playbackParameters},values:{startTime:Date.now()-i}})})),this.startAdPlayback(o.adType).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:o.adType}),r(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{ir(e),this.stats.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:o.adType}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewer:t}=this;let i;t&&(i=t.mediaAd.getAdPodId());let r,o,n,a=0;return t&&(a=t.getBufferingTime()),t&&(r=t.mediaAd.adBreak.adType),t&&(o=la(t.mediaAd)),t&&(n=t.mediaAd.vastAd.productType),bo({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:i,videoNode:e,bufferingTime:a,adBreakType:r,adFormatType:o,productType:n})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i="normal"),null==(r=this.currentViewer)||r.resizeAd(e,t,i)}async play(){const{currentViewer:e}=this;return e?(e.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"}),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const r=Fa(e);r?i(r):t()}))}))):Promise.reject(new Error("VAS Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}destroyCurrentViewerIfneeded(e){this.currentViewer&&this.currentViewer.destroy({reason:e,details:void 0})}close(){this.destroyNextViewers("close"),this.destroyCurrentViewerIfneeded("close")}skipAllViewers(){this.destroyNextViewers("skip"),this.skipCurrentViewer(),this.destroyCurrentViewerIfneeded("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void this.stats.error({error:new Zc({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(this.currentViewer.isDestroyed)this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(this.currentViewer.isStarted.getValue()){if(!this.isFinished)return this.currentViewer.getAdSkippableState()?void this.currentViewer.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:o}=this.abuseParameters.getValue();o||this.stats.error({error:new Zc({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})});ca({eventName:"close",trackingEventDetails:{},trackingUrls:[V(o,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdHeight())?e:0}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}getCurrentViewerSkipDelay(){return this.currentViewer?this.currentViewer.adPodViewerPlaybackParams.skipDelay:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!=(e=null==t?void 0:t.mediaAd.getDuration())?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return $l(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,r)=>{const o=e[t];let n=o;return i?n=fc(o,(e=>e!==r)):i||L(o,r)||(n=[...o],n.push(r)),us({},e,{[t]:n})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!r(e)&&!1!==e&&void 0!==e){const t=new Zc({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw this.stats.error({error:t}),U("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsVisibility.getValue();let i;i=r(e)?Va({controlsVisibility:t},{controlsVisibility:e}).controlsVisibility:!1===e?kp:{},this.stats.log({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i}}),ou("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsVisibility.dispatch(i)}areAllAdPodsCompleted(){return im(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getEcomAsAsset(){const e=this.ecomShopState.getValue();if(void 0===e.ecomShop)return;const t={ecomShopState:e,setEcomShopState:e=>{this.setEcomShopState(e,!0)},onEcomShopStateChange:X};return this.addDestroyHandler(this.ecomShopState.add((e=>{t.onEcomShopStateChange(e)}))),t}getAutoplay(){if(!0===this.pausedByVisibilityRatio.getValue())return ou("autoplay=false due to paused state by visibility"),!1;if(this.getViewersWithVideoCountBeforeCurrent()>0)return ou("autoplay=true due to subsequent viewer"),!0;if("restricted"===this.autoplayAbilityResult.getValue().autoplayAbility)return ou("autoplay=false due to requireUserGesture"),!1;const e=this.playingState.getValue();if("idle"!==e){const t="pause"!==e;return ou("autoplay=["+t+"] due to playingStateValue"),t}return ou("autoplay=true due to default"),!0}setVisibleNativeControls(e){e?Ve(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Hn(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){var e;this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==(null==(e=this.adBlockIdentification.getValue())?void 0:e.adType)&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=X;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{r(i)&&h(i.color)?t=so(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!Wo(e))return;const{parentElement:t}=e;if(t)return t;yu.error({error:new Zc({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void ou("BackgroundBlur container cannot be created");this.initBackgroundColor(t);if(!mu(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if(ou("BackgroundBlur is presented in AdBreak"),!rT)return void ou("BackgroundBlur is NOT supported");const r=new sT({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},this.stats.log({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i}}),this.addDestroyHandler(mo([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,r,o)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const n=o.width/o.height,a=r.width/r.height-n;return Math.abs(a)>.1}),(e=>{r.setPlaying(e)}))),this.addDestroyHandler((()=>null==r?void 0:r.destroy()))}playAdMedia(e){let{adType:t,viewer:i,viewerIndex:r,nextViewer:o,completeCallback:n}=e;this.currentViewer=i,this.onAdPodStartRequest.dispatch(i),i.trackOnCreativeInit();let a=NaN;i.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{a=Date.now()})),this.adContentSize.dispatch(i.mediaAd.getAdContentDimensions()),i.isStarted.addOne((()=>{this.adContentSize.dispatch(i.getAdContentSize())})),i.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)})),i.isStarted.add((()=>{isNaN(a)?this.stats.error({error:new Zc({code:"AdPodStartWithoutPlayRequest",details:void 0})}):this.stats.log({name:"AdPodStart",values:{startTime:Date.now()-a},data:{src:i.getScriptSrc(),config:this.playbackParameters,playRequestTime:String(a),adPodId:i.mediaAd.getAdPodId(),position:i.mediaAd.vastAd.parseIndex,bidreqid:i.mediaAd.vastAd.bidreqid,campaignid:i.mediaAd.vastAd.campaignid,pageId:i.mediaAd.vastAd.pageId,impId:i.mediaAd.vastAd.impId,vmapRequestId:i.mediaAd.vastAd.vmapRequestId},sensors:{showTitleAndBody:String(ms(i.mediaAd.vastAd))}})})),this.onAdPodPlayAdMedia.dispatch({adType:t,viewer:i,viewerIndex:r,nextViewer:o});const s=i.playingState.getValue();"idle"!==s&&this.stats.error({error:new Zc({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:s}})}),i.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewer===i?this.playingState.dispatch(e):this.stats.error({error:new Zc({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),i.addDestroyHandler((e=>{const r=Fa(e);r&&(this.trackError(r),this.stats.error({error:r}),ir("AdPod playing error",r),this.onAdPodError.dispatch({error:r,adPodId:i.mediaAd.getAdPodId()})),this.currentViewer=void 0,this.adPodDestroyReasonObjects.push(e),this.onAdMediaEnd.dispatch({adType:t}),n()})),i.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"})}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(Wo(t)){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},o=pT(e),{parentElement:n}=e;return a((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),o(),xe(e,r),n&&n!==e.parentElement&&yu.error({error:new Zc({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=qa(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!Wo(e))return X;const t=e.getAttribute("src")||e.src||null,i=nu(W(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return a((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),$l(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),C(t,((e,t)=>{i.setAttribute(t,String(e))}))})),is(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{pT(t)})))}const r=Date.now();let o,n;const s=this.checkAutoplayAbility();this.videoNode;if(s?(o="sync",n=s):(o="async",n=await this.requestAutoplayAbility()),this.isFinished)throw new Zc({code:"AD_FINISHED_DURING_RAA",details:void 0});this.stats.log({name:"RequestAutoplayAbility",values:{duration:Date.now()-r},sensors:{strategy:o,method:n.detectionMethod,result:n.autoplayAbility},data:{config:this.playbackParameters,autoplayAbility:n,saveData:p((()=>{var e;return null==(e=navigator.connection)?void 0:e.saveData}))}}),this.autoplayAbilityResult.dispatch(n);const l=a((()=>{this.onReady.dispatch(void 0)})),d=a((()=>{this.onAdStart.dispatch({adType:e})}));return $l(this.viewersList,((t,r)=>{t.onComplete.addOne((t=>{let{isInfinityPackshotEnabled:i}=t;this.onAdPodComplete.dispatch({adType:e}),i&&this.onAdMediaEnd.dispatch({adType:e})})),t.addDestroyHandler((t=>{let{reason:i}=t;"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(l),t.isStarted.addOne(d),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:o}=t.adPodViewerPlaybackParams;var n;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,o,r)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:r,adPodRemainingTime:o,playingState:n,isStarted:a,isBuffering:s,callback:l}=e;const d=new xv,c=new Uu(-1);return d.subscribe((()=>c.removeAll)),a.addOne((()=>{const e=new Jg({win:t,duration:r.getValue()*uA,callback:e=>{const t=jr(e,0,1);l(t)},onFinish:X});c.add((t=>{Rt(t)&&e.adjustPosition(t)})),d.subscribe((()=>{e.stop()})),d.subscribe(mo([o,r],((e,t)=>Rt(e)&&i(t)?(t-e)/t:-1),(e=>{c.dispatch(e)}))),d.subscribe(mo([c,n,s],((e,t,i)=>Rt(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{d.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.isPackshotPlaying.getValue()||this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{"play"===e&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.dispatch(0)})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e))),!(n=t).isVpaidAdPodViewer()||n.mediaAd.vastAd.imhoParams||n.mediaAd.getIsYandexCreative()||Wi(n.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,o,r)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkipComputed.dispatch(e?0:Pf)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=nu(this.viewersList,((t,i)=>{const r=this.viewersList[i+1];return o=>{if(this.timeToSkipComputed.dispatch(Pf),this.timeToSkipAdCreative.dispatch(void 0),this.isFinished){const e=new Zc({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),o()}const n=this.getAdPodContainerSizeError(t);if(n)return t.mediaAd.trackError(n),this.onAdPodError.dispatch({error:n,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:n}),U('You are using unplayable "slot" sizes, check passed element dimensions.'),o();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(La(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({adType:e,viewer:t,viewerIndex:i,nextViewer:r,completeCallback:o})}}));let r=-1;!function e(){r++;const o=i[r];void 0===o?t():o(e)}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters;if(_o(t.getValue(),tv))return;const r=i.getBoundingClientRect();if(_o(r,tv))return;const o=r.width<.1||r.height<.1,n="none"===le(i).display;let a;a=o?n?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE";const s=e.mediaAd.getAdContentDimensions();return new Zc({code:a,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:{width:r.width,height:r.height},adContentDimensions:s,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}checkAutoplayAbility(){if(im(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())))return ou("autoplayAbility=positive for independentOnVideoElement ad"),{autoplayAbility:"allowed",detectionMethod:"IndependentOnVideo"};const{videoSlotCanAutoPlay:e}=this.playbackParameters;if("boolean"===typeof e)return ou("autoplayAbility=["+e+"] due to videoSlotCanAutoPlay"),e?{autoplayAbility:"allowed",detectionMethod:"PositiveVideoSlotCanAutoplay"}:{autoplayAbility:"restricted",detectionMethod:"NegativeVideoSlotCanAutoplay"};ce(this.slotParameters.window)&&!this.videoNode.hasAttribute("playsinline")&&(this.stats.log({name:"NoPlaysinlineOnVideoTagInTouchScreenDeviceForRAA"}),U('Attribute "playsinline" is NOT set on the <video/> element, this may cause the inability to autoplay'));const t=ps(this.videoNode);return t?(ou("autoplayAbility=["+t.autoplayAbility+"] by sync detect method=["+t.detectionMethod+"]"),t):void 0}requestAutoplayAbility(){ou("start autoplay ability request");const e=Date.now(),{promise:t,stop:i}=function(e,t){const i=new UT(e,t);return{promise:i.promise,stop:i.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise((o=>{t.then((e=>{r=!0,ou("autoplayAbility=["+JSON.stringify(e)+"]"),o(e)})).catch((()=>{r=!0})),"idle"===this.playingState.getValue()&&this.playingState.addOne((t=>{r||(this.stats.log({name:"RequestAutoplayAbilityStoppedByPlayingState",values:{duration:Date.now()-e},data:{config:this.playbackParameters,nextState:t}}),ou("RAA stopped by playingState=["+t+"]"),i(),o({autoplayAbility:"allowed",detectionMethod:"ExternalMethodCall",detectionDetails:{nextState:t}}))}))}))}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;if(i)for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){t[r].trackVastEvent(e,{})}this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const o=new Jg({win:t,duration:250,callback:e=>{const t=jr(e,0,1);i(t),1===t&&o.stop()},onFinish:X});r((()=>o.stop())),o.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==N_&&"small"!==ja(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const r=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return Pf;if(r>i-2)return Pf;if(!Rt(t))return Pf;const o=i-t;return r<=o?0:r-o}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkipComputed.dispatch(r)}watchDocumentVisibility(){const e=this.visibilitySlotParameters.element.ownerDocument;this.documentVisibility.dispatch(ge(e)),this.addDestroyHandler(ha(e,(e=>this.documentVisibility.dispatch(e)))),this.addDestroyHandler((()=>{this.documentVisibility.removeAll()}))}initAdSequence(){const{adSequence:e}=this.playbackParameters;e?this.displayAdSequence.dispatch(e):this.addDestroyHandler(mo([this.playingAdPodIndex,this.adPodsCount],((e,t)=>({index:e,count:t})),this.displayAdSequence.dispatch.bind(this.displayAdSequence)))}initCreativeType(e){const{mediaAd:t}=e,i=la(t);let r;"survey"===i?r="survey":ds(i,e.getVideoSlotClickUrl())?r="fullyClickable":Sa(t.vastAd)&&(r="themeEmpty"),this.creativeType.dispatch(r)}}const tE=mu([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e))),iE=2;class rE extends fu{constructor(e,t){let{considerDocumentVisibility:i=!0,numberOfMeasurementSteps:r=iE,enableTrackVisibility:o=!1}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new Uu(!1),this.documentVisibilityValueSignal=new Uu(true),this.isElementReachableByTrackVisibilityValueSignal=new Uu(!0),this.recalculateVisibility=()=>{if(this.isDestroyed||!uo(this.element))return;const e=ys(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const n=Math.max(r,iE),a=e.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new Uu(0);const s=a.IntersectionObserver;Boolean(s)?this.startIntersectionObserver(s,n):this.startVisibilityCheckInterval(a),o&&Boolean(s)&&jT(a)&&this.startCheckVisibilityWithTrackVisibility(a),i&&this.startObservingDocumentVisibility(a);const{valueSignal:l,teardown:d}=Fo([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((e,t,i)=>i&&t?e:0));l.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=mv)})),this.totalVisibilityRatioValueSignal=l,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),d(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[mv],r=1/t;for(let n=1;n<t;n++)i.push(n*r);const o=new e((e=>{const t=e[e.length-1],{intersectionRatio:i}=t;this.elementVisibilityRatioValueSignal.dispatch(i)}),{threshold:i});o.observe(this.element),this.addDestroyHandler((()=>{o.disconnect()}))}startVisibilityCheckInterval(e){const t=wr(this.recalculateVisibility);this.addDestroyHandler(t);const i=e.setTimeout(this.recalculateVisibility,0);this.addDestroyHandler((()=>{e.clearTimeout(i)}))}startCheckVisibilityWithTrackVisibility(e){const{element:t}=this,{teardown:i,visualVisibilitySignal:r}=QT({element:t,win:e});this.addDestroyHandler(i),r.add(this.isElementReachableByTrackVisibilityValueSignal)}startObservingDocumentVisibility(e){const t=e.setTimeout((()=>{const t=e.document,i=ge(t);this.documentVisibilityValueSignal.dispatch(i);const r=ha(t,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(r)}),0);this.addDestroyHandler((()=>{e.clearTimeout(t)}))}}class oE extends fu{constructor(e){var t,i,r,o,n;let{videoSlot:a,layoutSlot:s,mediaAds:l,playbackParameters:d,skinParameters:c,stats:u}=e;if(super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{ou("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{ou("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=new xv,this.getPublicInstance=()=>({playAd:this.playAd,warmupAd:this.warmupAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility}),this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{if(ou("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled.getDispatched()){Nt(new Zc({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled.dispatch(void 0),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch(ee)},this.warmupAd=()=>{this.playAd(),this.pauseAd()},this.stopAd=()=>{ou("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?Pf:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.getAdVolumeAvailabilityState=()=>!(!this.isPlayAdCalled.getDispatched()||this.isDestroyed)&&this.adDisplayController.getAdVolumeAvailability(),this.getAdRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getDuration():_s(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled.getDispatched())return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(this.isPlayAdCalled){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else this.stats.error({error:new Zc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.subscribe=(e,t)=>{if("function"!==typeof t)return X;const i=i=>{try{t(i)}catch(qO){this.stats.error({error:new Zc(qO,{code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),ee(qO)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.isPlayAdCalled.getDispatched()?X:this.isPlayAdCalled.subscribe(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:r,adPodId:o}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",this.stats.error({error:new Zc({code:t,details:{error:r,adPodId:o}})})),i({code:t,adPodId:o})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&r()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return X}},this.stats=u,!s){const e=new Zc({code:"APC_SLOT_IS_NOT_SET",details:{slotString:String(s)}});throw u.error({error:e}),e}u.log({name:"CreatePlaybackController",data:{config:d,adBreakType:null==(t=l[0])?void 0:t.adBreak.adType}}),this.videoSlot=a,this.layoutSlot=s,this.mediaAds=l,this.playbackParameters=d;const h=new iv(s);let p,m;if(this.addDestroyHandler((()=>{h.destroy()})),d.visibilitySlot){p=d.visibilitySlot;const e=new iv(p);m=e.onResize,this.addDestroyHandler((()=>{e.destroy()}))}else p=s,m=h.onResize;const A=qT({pageId:null!=(i=null==(r=l[0])?void 0:r.vastAd.pageId)?i:String(null!=(o=null==(n=l[0])?void 0:n.adConfig.partnerId)?o:""),win:window}),_=new rE(p,{numberOfMeasurementSteps:10,enableTrackVisibility:A});this.addDestroyHandler((()=>{_.destroy(void 0)}));const v={element:p,size:m,visibilityRatio:_.totalVisibilityRatioValueSignal};this.adDisplayController=new eE({config:this.playbackParameters,videoNode:this.videoSlot,layoutSlot:this.layoutSlot,skinParameters:c,visibilitySlotParameters:v,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback,stats:u}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(Ja((()=>{this.destroy("unload")}),null!=kd?kd:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled.getDispatched()&&!this.isDestroyed)t();else{Nt(new Zc({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const nE=Sn({shouldUseNewSkin:!1,supportsFullscreen:!1});nE.Provider.displayName="NewSkinContext";const aE=()=>Dn(nE);var sE=e(5676),lE=e.n(sE);const dE=e=>{var t;zn(lE());const{children:i,onSplitResult:r,fontStyle:o}=e,n=i,[a,s]=Cn([]),l={"--stw-text-lines-count":a.length,"--stw-font":o},d=wn(null),{width:c}=null!=(t=Pa(d))?t:{};return Pn((()=>{if(void 0===c||void 0===i||0===i.length)return;const e=d.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=(e=>{const t=new yc,{canvas:i,text:r,context:o,fontStyle:n}=e;t.addOne(so(i,{font:n}));const a=o.font;t.addOne((()=>{o.font=a})),o.font=n;const s=o.measureText(" ").width,l=i.offsetWidth,d=r.split(" "),c=[];let u=[],h="",p=0;for(let m=0;m<d.length;m++){const e=d[m],t=o.measureText(e).width;if(t>l){c.length=0;break}const i=h.length>0?" ":"",r=h+i+e,n=p+(i?s:0)+t;n>=l?(c.push(u),u=[],u.push(e),h=e,p=t,m===d.length-1&&c.push(u)):(u.push(e),h=r,p=n,m===d.length-1&&c.push(u))}return t.dispatch(void 0),c.length?c:void 0})({canvas:e,context:t,text:n,mode:"lines",fontStyle:o});a&&(null==r||r(a),s(a))}),[d,c,undefined,n,o]),en("div",{style:l,className:sE.locals.SplitTextLinesWrapper__container},en("div",{className:sE.locals.SplitTextLinesWrapper__lines},nu(a,((e,t)=>{const i=t===a.length-1,r=e.join("");let o=0;const n=r.length,s={"--stw-text-line-length":n,"--stw-text-line-words-count":e.length,"--stw-text-line-index":t};return en(rn,{key:r},en("div",{className:sE.locals.SplitTextLinesWrapper__textLine,style:s},nu(e,((t,i)=>{const r=i===e.length-1?"":"\xa0";return en("span",{key:""+t+i,className:sE.locals.SplitTextLinesWrapper__word,style:{"--stw-text-word-index":i}},nu(t.split(""),((e,t)=>{const i=e+"-"+t,r=Math.round(100*o/n),a=jr(Math.floor(r/30),0,2),s={"--stw-text-char-inside-word-index":t,"--stw-text-char-inside-line-index":o,"--stw-text-char-inside-line-percent":r,"--stw-text-char-inside-line-third":a};return o+=1,en("span",{key:i,className:sE.locals.SplitTextLinesWrapper__char,style:s},e)})),r)}))),!i&&en("br",null))}))),en("canvas",{className:sE.locals.SplitTextLinesWrapper__canvas,ref:d}))},cE=e=>{const t=Fn(e.currentVastAd);return In((()=>{var i,r;const{tgaOfferClickUrl:o,vastClickUrl:n,serializablePlaybackParametersClickUrl:a}=null!=(i=null==t?void 0:t.clickUrlData)?i:{},s=null!=(r=null!=o?o:n)?r:a;return void 0===s?void 0:V(s,{[Oh]:gc,[Dh]:e.getAdPlacementOptions().adPodId})}),[t])},uE=Sn({isAbuseSupported:!1,abuseButtonClickHandler:X,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:X,abuseVariantChooseHandler:X,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:X,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:X,isAbuseSubmitted:!1,setAbuseSubmitted:X,abuseSubmitType:void 0,setAbuseSubmitType:X,previousDisplayType:"default",setPreviousDisplayType:X,destroyCurrentViewer:X,abuseScaleRate:void 0,setAbuseScaleRate:X,legalText:void 0,onAbuseCopyLinkToClipboardClick:X,resetAbuseVisualState:X,abusePlaceholderHint:"",abusePlaceholderText:""});uE.Provider.displayName="AbuseContext";const hE=e=>{let{adDisplayController:t}=e;const i=Fn(t.pauseByOpenAbuseScreen),r=Fn(t.abuseDisplayStatus),{abuseParameters:o,playingState:n}=t,{abuseUrl:a,legalText:s}=Fn(o),l=function(e){return void 0===e&&(e=""),U_+e.slice(e.lastIndexOf("/"))}(a),[d,c]=Cn(""),[u,h]=Cn("default"),[p,m]=Cn(!1),[A,_]=Cn(undefined),[v,g]=Cn("default"),[f,y]=Cn(undefined);Pn((()=>{"play"===n.getValue()&&"hidden"!==r&&t.handleAbuseScreenCloseByResumeError()}),[r,n]);const T=cE(t),E=T?()=>{t.onAbuseCopyLinkToClipboardClick(T)}:void 0,S=Nn((()=>{m(!1),_(void 0),h("default")}),[m,_,h]),b=df();let C="",P="";switch(A){case"complaint":C=b("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),P=b("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":C=b("ABUSE_PLACEHOLDER_TEXT_HIDE"),P=b("ABUSE_PLACEHOLDER_HINT_HIDE")}return{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:r,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:E,abuseCustomReasonText:d,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,resetAbuseVisualState:S,abuseSubmitType:A,setAbuseSubmitType:_,isAbuseSubmitted:p,setAbuseSubmitted:m,previousDisplayType:v,setPreviousDisplayType:g,abuseScaleRate:f,setAbuseScaleRate:y,legalText:s,abusePlaceholderHint:P,abusePlaceholderText:C,advertiserInfoUrl:l}},pE=()=>Dn(uE),mE=Sn(!0);mE.Provider.displayName="ShowTitleAndBodyContext";const AE=e=>{const t=Fn(e);return void 0===(i=t)?"FALSE"!==Ec.getFlagValueAndActivateTestId("VAS_SHOW_TITLE_AND_BODY_AD_PARAMETER_DEFAULT"):i;var i},_E=Sn({isPackshotPlaying:!1});_E.Provider.displayName="SkinPackshotContext";const vE=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Fn(t)}},gE=()=>Dn(_E);var fE=e(2935),yE=e.n(fE);const TE=Sn(0);TE.Provider.displayName="AdAnimationProgressContext";const EE=e=>{let{skinAnimationProgress:t}=e;return Fn(t)},SE=()=>Dn(TE),bE=Sn(NaN);bE.Provider.displayName="AdDurationContext";const CE=e=>{let{adDisplayController:t}=e;return Fn(t.adPodDuration)},PE=()=>Dn(bE),OE=Sn({playingState:"idle",play:X,pause:X,isStarted:!1,isSlowStart:!1});OE.Provider.displayName="PlayingStateContext";const wE=e=>{let{adDisplayController:t}=e;const[i,r]=Cn(!1),o=Fn(t.playingState),n=Fn(t.adSlowStart);Pn((()=>{const e=t.onAdStart.addOne((()=>{r(!0)}));return()=>{e()}}),[]);return{playingState:o,play:()=>{t.resume()},pause:()=>{t.pause()},isStarted:i,isSlowStart:n}},IE=()=>Dn(OE),NE=(e,t)=>{const{bodyAnimationEnlargementDelay:i,bodyAnimationEnlargementDuration:r,bodyAnimationShowDelay:o,bodyAnimationShowDuration:n,showLineDelay:a}=t,{titleAnimationHideDelay:s,titleAnimationHideDuration:l,titleAnimationEnlargementNextLineDelay:d,titleSinglePartDuration:c,titleAnimationEnlargementDelay:u,titleAnimationEnlargementDuration:h,titleAnimationShowDelay:p}=e;return{"--ctat-animation-body-animation-enlargement-delay":i+"ms","--ctat-animation-body-animation-enlargement-duration":r+"ms","--ctat-animation-body-animation-show-delay":o+"ms","--ctat-animation-body-animation-show-duration":n+"ms","--ctat-animation-body-animation-show-line-delay":a+"ms","--ctat-animation-title-animation-show-delay":p+"ms","--ctat-animation-title-animation-enlargement-delay":u+"ms","--ctat-animation-title-animation-enlargement-duration":h+"ms","--ctat-animation-title-animation-hide-delay":s+"ms","--ctat-animation-title-animation-hide-duration":l+"ms","--ctat-animation-title-enlargement-next-line-delay":d+"ms","--ctat-animation-title-part-duration":c+"ms"}},DE=a((()=>{yu.log({name:"CSSVariablesAreNotSupported"})})),kE=e=>{let{onClickOutside:t}=e;zn(yE());const{isAbuseSubmitted:i}=pE(),{isPackshotPlaying:r}=gE(),{themeEmptyParameters:o,clickThrough:n}=kf(),a=Dn(mE),{title:s,body:l,clickUrl:d,targetUrl:c}=null!=o?o:{},u=Sf(),h=!1!==u.title&&!1!==u.body,p=!1!==u.actionButton,[m,A]=Cn(void 0),[_,v]=Cn(void 0),g=wn(null),f=wn(null),y=()=>{n({url:d,playerHandles:!0,clickSource:"SkinCallToActionText"})},{isReadyToAnimate:T,containerStyle:E,titleFontStyle:S,bodyFontStyle:b}=Ss(m,_,g,f,p);return"undefined"!==typeof CSS&&CSS.supports("animation-delay","var(--time)")?h&&a?r||i?null:s||l?en("div",{className:fE.locals.CallToActionTextContainer},en("div",{className:Un(fE.locals.CallToActionText,{[fE.locals.CallToActionText__animated]:T}),style:E,onClick:t},en("div",{className:fE.locals.CallToActionText__overlay},s&&en("div",{className:fE.locals.CallToActionText__title,ref:g},en(nf,{url:c,onClick:y,pointerEvents:"none"},en(dE,{fontStyle:S,onSplitResult:e=>A(e)},s))),l&&en("div",{className:fE.locals.CallToActionText__body,ref:f},en(nf,{url:c,onClick:y,pointerEvents:"none"},en(dE,{fontStyle:b,onSplitResult:e=>v(e)},l)))))):null:null:(DE(),null)},RE=Sn({socialAdvertising:!1});RE.Provider.displayName="SocialAdvertisingContext";const VE=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Fn(t.socialAdvertising)}},LE=()=>Dn(RE);var BE=e(8866),xE=e.n(BE);const ME=e=>{let{isActive:t}=e;return zn(xE()),en("svg",{className:Un(BE.locals.AbuseAnimationIcon,{[BE.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},en("g",{className:BE.locals.AbuseAnimationIcon__lines},en("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Un(BE.locals.AbuseAnimationIcon__line,BE.locals.AbuseAnimationIcon__line_left)}),en("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Un(BE.locals.AbuseAnimationIcon__line,BE.locals.AbuseAnimationIcon__line_right)})),en("g",null,en("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),en("g",null,en("circle",{class:Un(BE.locals.AbuseAnimationIcon__dot,BE.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),en("circle",{class:BE.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),en("circle",{class:Un(BE.locals.AbuseAnimationIcon__dot,BE.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},UE=e=>{let{width:t,height:i}=e;return t<=240||i<=280};var FE=e(8971),HE=e.n(FE);const zE=e=>{let{onClickHandler:t,isActive:i}=e;zn(HE());const r=UE(fg());return en("div",{onClick:t,className:Un(FE.locals.AbuseBurgerButton,{[FE.locals.AbuseBurgerButton_inFullSize]:r})},en(ME,{isActive:i}))};var jE=e(2020),YE=e.n(jE);const WE=e=>{let{children:t,isActive:i=!0,url:r,onClick:o,className:n,buttonClassName:a,contentClassName:s}=e;zn(YE());const l=Un(jE.locals.Button,n,{[jE.locals.Button_active]:i,[jE.locals.Button_link]:Boolean(r)}),d=en("div",{className:jE.locals.Button__clickable},en("div",{className:a},en("div",{className:Un(jE.locals.Button__content,s)},t)));return r?en("a",{className:l,href:r,target:"_blank",onClick:o},d):en("div",{className:l,onClick:o},d)};var GE=e(2645),XE=e.n(GE);const qE=e=>{let{icon:t,className:i}=e;return t?en("div",{className:i},t):null},KE=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:o,url:n}=e;zn(XE());const a=Nn((()=>{o&&o()}),[o]);return en(WE,{className:GE.locals.AbuseOptionButton,url:n,buttonClassName:GE.locals.AbuseOptionButton__clickable,contentClassName:GE.locals.AbuseOptionButton__content,onClick:a},en(qE,{icon:i,className:GE.locals.AbuseOptionButton__leftIcon}),t,en(qE,{icon:r,className:GE.locals.AbuseOptionButton__rightIcon}))},ZE=e=>{let{className:t}=e;return en(bs,{className:t})},JE=e=>{let{className:t}=e;return en(Cs,{className:t})},QE=e=>"anotherReasonAd"===e?en(ZE,null):"about"===e||"advertiserInfo"===e?en(JE,null):void 0;var $E=e(7486),eS=e.n($E);const tS=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=df();return en("div",{className:$E.locals.AbuseDisplay__complaintDisplay},en("div",{className:$E.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),nu(c(t),(e=>en(KE,{key:e,onClick:i[e],rightIcon:QE(e),buttonText:t[e]}))))},iS=e=>{let{className:t}=e;return en(Ps,{className:t})},rS=e=>{let{className:t}=e;return en(Os,{className:t})},oS=e=>{let{className:t}=e;return en(ws,{className:t})},nS=e=>{let{className:t}=e;return en(Is,{className:t})},aS=e=>{switch(e){case"hide":return en(rS,null);case"complaint":return en(iS,null);case"about":return en(nS,null);case"advertiserInfo":return en(oS,null);default:return}},sS=["slotParameters"],lS=e=>{const{slotParameters:t}=e,i=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,sS),{document:r,window:o}=t;if(yu.log({name:"ReportBug",data:ks({},i,{VSID:gc}),values:{},sensors:{},probability:1}),!r||!o)return void ou("Couldn't retrieve document or window from adDisplayController");const n=r.createElement("div");$n(n,{backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",zIndex:""+(Number.parseInt(JT,10)-1)});const a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"}),l=new FileReader;l.readAsDataURL(s);const d=r.createElement("div");$n(d,{width:"500px",height:"500px",padding:"18px",borderRadius:"20px",backgroundColor:"white"}),n.appendChild(d);const c=r.createElement("iframe");$n(c,{height:"100%",width:"100%",backgroundColor:"white",border:"none"}),c.setAttribute("src","https://forms.yandex.ru/u/62d1740f9ff9566c865e6a59/?iframe=1&media-type=mobile&theme=compact-long-text-input&lang=ru");const u=e=>{let t;try{t=JSON.parse(e.data)}catch(eg){return void ou("Report bug form receive non-valid JSON string")}t["iframe-height"]&&(d.style.height=t["iframe-height"]+"px")};o.addEventListener("message",u),l.onload=()=>{const t=l.result;c.onload=()=>{setTimeout((()=>{var t,o,n,a,s,l;null==(t=c.contentWindow)||t.postMessage("pong","*"),null==(o=c.contentWindow)||o.postMessage(JSON.stringify({message:"set-question-value",slug:"data",value:JSON.stringify(i)}),"*"),null==(n=c.contentWindow)||n.postMessage(JSON.stringify({message:"set-question-value",slug:"block_id",value:e.blockId}),"*"),null==(a=c.contentWindow)||a.postMessage(JSON.stringify({message:"set-question-value",slug:"banner_id",value:e.bannerId}),"*"),null==(s=c.contentWindow)||s.postMessage(JSON.stringify({message:"set-question-value",slug:"VSID",value:gc}),"*"),null==(l=c.contentWindow)||l.postMessage(JSON.stringify({message:"set-question-value",slug:"url_page",value:ie(r).location}),"*")}),0),setTimeout((()=>{var e;const i="meta_"+(new Date).toISOString()+".json";null==(e=c.contentWindow)||e.postMessage(JSON.stringify({message:"set-question-value",slug:"answer_files",value:{format:"dataUrl",dataUrl:t,name:i}}),"https://forms.yandex.ru")}),0)}},d.appendChild(c),r.body.appendChild(n);const h=()=>{n.remove(),o.removeEventListener("message",u),n.removeEventListener("click",h)};n.addEventListener("click",h)},dS=e=>null!=e&&e.hasOwnProperty("vast")?null==e?void 0:e.vast:void 0,cS=Sn({vast:void 0,blockId:"",bannerId:"",videoContentSize:void 0,clickUrl:void 0,slotParameters:{element:void 0,document:void 0,window:void 0,size:void 0,isHovered:void 0}});cS.Provider.displayName="ReportBugContext";const uS=e=>{var t,i,r,o,n;let{adDisplayController:a}=e;const s=Fn(a.currentVastAd),l=(null==(t=dS(s))?void 0:t.xmlString)||"",{partnerId:d,impId:c}=Fn(a.adBlockIdentification),u=Fn(a.videoContentSize),h=cE(a);return{vast:l,blockId:"R-A-"+d+"-"+c,bannerId:null==s||null==(i=s.adParametersObject)||null==(r=i.AUCTION_DC_PARAMS)||null==(o=r.data_params)||null==(n=o.misc)?void 0:n.object_id,videoContentSize:u,clickUrl:h,slotParameters:a.slotParameters}},hS=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:o}=e;const{onAbuseCopyLinkToClipboardClick:n,advertiserInfoUrl:a}=pE(),s=df(),{isStarted:l}=IE(),{vast:d,clickUrl:u,blockId:h,bannerId:p,videoContentSize:m,slotParameters:A}=Dn(cS),_=fg(),[v,g]=Cn(!1);return Pn((()=>{o||g(!1)}),[o]),en("div",null,r&&en("div",{className:$E.locals.AbuseDisplay__legal},r),nu(c(t),(e=>{let r;switch(e){case"advertiserInfo":r=a;break;case"about":r=M_;break;default:r=void 0}return en(KE,{key:e,url:r,onClick:i[e],leftIcon:aS(e),rightIcon:QE(e),buttonText:t[e]})})),n&&en(KE,{key:"copy",onClick:()=>{n&&(n(),g(!0))},buttonText:s(v?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:en(Ds,null)}),vc.VAS_UAAS_CONFIG.isInternalNetwork&&en(KE,{key:"report_bug",onClick:()=>{lS({vast:d,clickUrl:u,blockId:h,bannerId:p,videoContentSize:m,slotSize:_,slotParameters:A,wasVideoStarted:l})},buttonText:s("ABUSE_REPORT_PROBLEM"),leftIcon:en(Ns,null)}))},pS=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=df();return en("div",{className:$E.locals.AbuseDisplay__hideDisplay},en("div",{className:$E.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),nu(c(t),(e=>en(KE,{key:e,onClick:i[e],rightIcon:QE(e),buttonText:t[e]}))))},mS=e=>{let{className:t}=e;return en(Rs,{className:t})},AS=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:o,setAbuseActiveDisplayType:n}=pE(),a=df(),s=Nn((()=>{n(t)}),[t]);return en("div",{className:$E.locals.AbuseDisplay__customReasonDisplay},en("div",{className:$E.locals.AbuseDisplay__customReasonDisplayHeader},en("div",{className:$E.locals.AbuseDisplay__arrowLeftIcon,onClick:s},en(mS,null)),en("div",{className:$E.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),en("div",{className:$E.locals.AbuseDisplay__messageBox},en("textarea",{className:$E.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&o(t)},value:r}),en(WE,{className:$E.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:$E.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},_S=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;zn(eS());const{abuseVariantChooseHandler:r,abuseActiveDisplayType:o,setAbuseActiveDisplayType:n,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:u,setPreviousDisplayType:h,legalText:p,resetAbuseVisualState:m}=pE(),A=fg(),_=UE(A),[v,g]=Cn(null),f={current:null};Pn((()=>{!t&&a&&(m(),u())}),[a,t,m]),Pn((()=>{if(_)return;const e=f.current;e&&g(e.offsetHeight+"px")}),[o,_]),Pn((()=>{_&&g(null)}),[_]);const y=In((()=>$(B_,((e,t)=>()=>{if(h(o),"hide"===t){if(i)return void r(t);n("hide"),l("hide"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0})}else if("complaint"===t)n("complaint"),l("complaint"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0});else if("anotherReasonAd"===t)n("message");else{const e="about"===t||"advertiserInfo"===t;m(),r(t,{noDestroyOnClick:e})}}))),[r,o,i]),T={height:null!=v?v:""},E=df(),S=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),advertiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT")}))(E),b=(e=>Rd(c(R_),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(E),C=((e,t)=>t?Rd(c(L_),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):Rd(c(V_),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(E,i);return en("div",{className:Un($E.locals.AbuseDisplay,{[$E.locals.AbuseDisplay_fullSize]:_,[$E.locals.AbuseDisplay_visible]:t}),style:T},en("div",{className:$E.locals.AbuseDisplay__content,ref:f},"default"===o?en(hS,{isVisibleAbuse:t,legalInfoText:p,buttonTexts:S,onClickHandlers:y}):null,"hide"===o?en(pS,{buttonTexts:b,onClickHandlers:y}):null,"complaint"===o?en(tS,{buttonTexts:C,onClickHandlers:y}):null,"message"===o?en(AS,{onClickHandler:r,previousDisplayType:d}):null))};var vS=e(8561),gS=e.n(vS);const fS=()=>{zn(gS());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=pE(),{width:r}=fg();if(!e)return null;const o=r<=640;return en("div",{className:Un(vS.locals.AbusePlaceholder,{[vS.locals.AbusePlaceholder_place_left]:o,[vS.locals.AbusePlaceholder_place_center]:!o})},en("div",{className:vS.locals.AbusePlaceholder__container},en("div",{className:vS.locals.AbusePlaceholder__text},t),en("div",{className:vS.locals.AbusePlaceholder__hint},i)))};var yS=e(1155),TS=e.n(yS);const ES=()=>{zn(TS());const{abuseDisplayStatus:e,isAbuseSupported:t}=pE(),i=Sf(),r=IT(i),o="selection"===e,{abuseScreenCloseHandler:n,abuseButtonClickHandler:a}=pE(),{socialAdvertising:s}=LE();if(!r)return null;if(!t)return null;return en("div",{className:yS.locals.AbuseContainer},en(fS,null),en(zE,{onClickHandler:()=>o?n():a(),isActive:o}),en(_S,{isVisibleAbuse:o,socialAdvertising:s}))},SS=Sn({creativeType:void 0});SS.Provider.displayName="CreativeTypeContext";const bS=e=>{let{adDisplayController:t}=e;return{creativeType:Fn(t.creativeType)}},CS=()=>Dn(SS);var PS=e(4115),OS=e.n(PS);cc({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK"});const wS=e=>{let{className:t}=e;return zn(OS()),en(Vs,{className:Un(PS.locals.SpinnerIcon__css_animated,t)})},IS=wS;var NS=e(9130),DS=e.n(NS);const kS=e=>{let{className:t}=e;return zn(DS()),en(IS,{className:Un(NS.locals.Spinner,t)})},RS=Sn("middle");RS.Provider.displayName="SkinSizeNameContext";const VS=()=>Dn(RS),LS=e=>{let{className:t}=e;return en(Ls,{className:t})};var BS=e(7276),xS=e.n(BS);const MS=e=>{let{onClick:t,size:i}=e;zn(xS());const r=Un(BS.locals.CirclePlayButton,{[BS.locals.CirclePlayButton_fullSize]:"small"!==i}),o=Un(BS.locals.CirclePlayButton__icon,{[BS.locals.CirclePlayButton__icon_fullSize]:"small"!==i});return en(WE,{className:r,contentClassName:BS.locals.CirclePlayButton__basecontent,onClick:t},en(LS,{className:o}))},US=()=>{const e=VS(),{play:t}=IE();return en(MS,{size:e,onClick:()=>{yu.log({name:"SkinPlayByCircleButton",probability:1}),t()}})};var FS=e(7012),HS=e.n(FS);const zS=()=>{zn(HS());const{playingState:e,isStarted:t,isSlowStart:i}=IE(),{play:r,loader:o}=Sf(),{isAbuseSubmitted:n,abuseDisplayStatus:a}=pE(),{isPackshotPlaying:s}=gE(),l=UE(fg()),{creativeType:d}=CS();if(n)return null;const c="pause"===e,u=c&&!1!==r&&!("selection"===a&&l)&&!s&&!("survey"===d),h=!u&&!c&&!t&&i&&!1!==o;return en("div",{className:FS.locals.CenterControls},u&&en(US,null),h&&en(kS,null))};var jS=e(5050),YS=e.n(jS);const WS=e=>{let{hidden:t}=e;return zn(YS()),en("div",{className:Un(jS.locals.ControlsBottomShadow,t&&jS.locals.ControlsBottomShadow_hidden)})};var GS=e(5817),XS=e.n(GS);const qS=e=>{let{size:t,tooltipText:r,label:o,dspLabel:n,ageRestriction:a,surveyQuestionNumber:s,surveyQuestionCount:l,domain:d,onClick:c,theme:u}=e;zn(XS());const p=df();if(!h(o)&&!h(a))return null;const m=h(o),A=void 0!==s&&l&&l>2;return en("div",{className:Un(GS.locals.AdLabel,{[GS.locals.AdLabel_fullSize]:"small"!==t,[GS.locals.AdLabel_clickable]:m,[GS.locals.AdLabel_survey]:i(s)&&i(l),[GS.locals.AdLabel_light]:"light"===u,[GS.locals.AdLabel_dark]:"dark"===u}),title:h(r)?r:void 0,onClick:m?c:void 0,"data-testid":"adLabel"},o,n?en(rn,null,h(o)&&en("span",{className:GS.locals.AdLabel__delimiter},"|"),en("span",null,n)):null,a?en(rn,null,h(o)&&en("span",{className:GS.locals.AdLabel__delimiter},"|"),en("span",{className:GS.locals.AdLabel__ageLabel},a)):null,A?en(rn,null,h(o)&&en("span",{className:GS.locals.AdLabel__delimiter},"|"),en("span",null,s," ",p("OF")," ",l," ",p("SURVEY_AD_LABEL_OF_QUESTIONS"))):null,d?en(rn,null,h(o)&&en("span",{className:GS.locals.AdLabel__delimiter},"|"),en("span",{className:GS.locals.AdLabel__domain},d)):null)};var KS=e(3614),ZS=e.n(KS);const JS=e=>{let{onClick:t}=e;zn(ZS());const i=Sf(),r=df()("SOCIAL_ADVERTISING_AD_LABEL");return!1===i.socialAdLabel?null:en("a",{className:KS.locals.SocialAdvertisingAdLabel,onClick:t},r)},QS=Sn({adSystemType:void 0,dspLabel:void 0,openAdSystemWebsite:X});QS.Provider.displayName="AdSystemContext";const $S=e=>{let{adDisplayController:t}=e;const i=Fn(t.currentVastAd);return{adSystemType:Fn(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite,dspLabel:null==i?void 0:i.dspLabel}},eb=Sn(void 0);eb.Provider.displayName="VideoSlotClickUrlContext";const tb=()=>Dn(eb),ib=Sn({domain:void 0});ib.Provider.displayName="AdTitleContext";const rb=e=>{var t;let{adDisplayController:i}=e;return{domain:null==(t=Fn(i.adTitleParameters))?void 0:t.domain}},ob=()=>{const e=df(),{socialAdvertising:t}=LE(),{openAdSystemWebsite:i,dspLabel:r}=Dn(QS),{clickThrough:o,clickUrl:n}=Yf(),a=tb(),{domain:s}=Dn(ib),{creativeType:l}=CS(),d="survey"===l;let c=e("AD_TITLE");return d?c=e("SURVEY_AD_LABEL"):t&&(c=e("SOCIAL_ADVERTISING_AD_LABEL")),{onClick:()=>{if(t)return i();if(d)return o({url:"https://surveys.yandex.ru/landing/?from=direct_adlabel&utm_source=direct_adlabel",playerHandles:!0,clickSource:"SurveyAdLabel"});return o({url:null!=n?n:a,playerHandles:!0,clickSource:"SkinAdLabel"})},label:c,dspLabel:r,tooltipText:c,domain:s}};var nb=e(9843),ab=e.n(nb);const sb=Sn({containerElement:void 0,setContainerElement:X});sb.Provider.displayName="TooltipContainerContext";const lb=e=>{let{containerElement:t,setContainerElement:i}=e;return{containerElement:Fn(t),setContainerElement:i}},db=()=>Dn(sb),cb=Sn({tooltipContent:void 0,setTooltipContent:X});cb.Provider.displayName="TooltipContentContext";const ub=e=>{let{tooltipContent:t,setTooltipContent:i}=e;return{tooltipContent:Fn(t),setTooltipContent:i}},hb=()=>Dn(cb),pb=Sn(void 0),mb=e=>{let{bannerFlags:t}=e;return Fn(t)},Ab=()=>Dn(pb),_b=e=>{var t,i;let{isSmall:r}=e;zn(ab());const o=df(),n=Sf(),a=null!=(t=null==(i=Ab())?void 0:i.businessUnit)&&t,s=wn(null);if(xs({targetElementRef:s,content:o("BU_LABEL_TOOLTIP_TEXT"),arrowPosition:"top"}),!1===n.businessUnitAdLabel)return null;if(!a)return null;return en("div",{ref:s,className:Un(nb.locals.BusinessUnitAdLabel,{[nb.locals.BusinessUnitAdLabel_small]:r})},en(Bs,null))};var vb=e(7769),gb=e.n(vb);const fb=()=>{zn(gb());const e=Sf(),{playingState:t}=IE(),i=VS(),{socialAdvertising:r}=LE(),{themeEmptyParameters:o}=kf(),{ageRestriction:n}=o||{},a=!1!==e.ageLabel,{tooltipText:s,label:l,domain:d,onClick:c,dspLabel:u}=ob(),h=Ec.getFlagValueAndActivateTestId("VAS_NEW_AD_LABEL_THEME");let p;if(r)p=en(JS,{onClick:c});else{p=!1!==e.adLabel&&"idle"!==t&&en(qS,{size:i,label:l,tooltipText:s,dspLabel:u,ageRestriction:a?n:void 0,domain:d,onClick:c,theme:"light"===h||"dark"===h?h:void 0})}return en("div",{class:vb.locals.AdLabelsPanel},p,en(_b,{isSmall:"small"===i}))};var yb=e(4499),Tb=e.n(yb);const Eb=()=>(zn(Tb()),en("div",{className:yb.locals.TopControls},en(fb,null)));var Sb=e(8183),bb=e.n(Sb),Cb=e(3030),Pb=e.n(Cb);const Ob=Sn({isTouchScreenDevice:!1});Ob.Provider.displayName="IsTouchScreenDeviceContext";const wb=e=>{let{adDisplayController:t}=e;return{isTouchScreenDevice:ce(t.slotParameters.window)}},Ib=()=>Dn(Ob),Nb=e=>{let{isHidden:t}=e;zn(Pb());const i=SE(),{isTouchScreenDevice:r}=Ib();return en("div",{className:Un(Cb.locals.PlayerLikeTimeline,t&&Cb.locals.PlayerLikeTimeline_hidden)},en("div",{className:Cb.locals.PlayerLikeTimeline__innerContainer},en("div",{className:Un(Cb.locals.PlayerLikeTimeline__backgroundTrack,r&&Cb.locals.PlayerLikeTimeline__backgroundTrack_mobile)},en("div",{className:Cb.locals.PlayerLikeTimeline__background}),en("div",{style:{transform:"scaleX("+i+") translateX(0%)"},className:Cb.locals.PlayerLikeTimeline__timeLine}))))};var Db=e(8409),kb=e.n(Db);const Rb=e=>{let{icon:t,onClick:i,className:r,disabled:o=!1}=e;return zn(kb()),en("div",{className:Un(Db.locals.ControlPanelButton,r,o&&Db.locals.ControlPanelButton_disabled),onClick:o?void 0:i},t)},Vb=e=>{let{className:t}=e;const{playingState:i,play:r,pause:o}=IE();return en(Rb,{className:t,onClick:"pause"===i?r:o,icon:en("pause"===i?Us:Ms,null)})},Lb=Sn({volumeStatus:"unknown",volume:0,setVolume:X,setMuted:X});Lb.Provider.displayName="VolumeContext";const Bb=e=>{let{adDisplayController:t}=e;return{volumeStatus:Fn(t.volumeStatus),volume:Fn(t.adVolume),setVolume:e=>t.setVolume(e),setMuted:e=>t.setMuted(e)}},xb=()=>Dn(Lb);var Mb=e(6535),Ub=e.n(Mb);const Fb=e=>{let{variant:t="slider",disabled:i=!1}=e;zn(Ub());const{volumeStatus:r,setMuted:o,setVolume:n,volume:a}=xb(),s="unmuted"===r,[l,d]=Cn(!1),[c,u]=Cn(!1),h="slider"===t&&!i,p=h&&(c||l),m=wn(null);return en("div",{onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},className:Un(Mb.locals.ControlPanelSoundButton,p&&Mb.locals.ControlPanelSoundButton_opened)},en(Rb,{onClick:()=>{o(s)},disabled:i,icon:en(Hb,{volume:a})}),h?en("div",{className:Mb.locals.ControlPanelSoundButton__SliderContainer,onMouseDown:e=>{if(!m.current)return;u(!0);const{left:t,width:i}=m.current.getBoundingClientRect(),r=m.current.ownerDocument,o=e=>{const r=jr((e.clientX-t)/i,0,1);n(r)},a=()=>{u(!1),null==r||r.removeEventListener("mousemove",o),null==r||r.removeEventListener("mouseup",a)};r.addEventListener("mousemove",o),r.addEventListener("mouseup",a),o(e)},ref:m},en("div",{className:Mb.locals.ControlPanelSoundButton__SliderContainerLiner}),en("div",{className:Mb.locals.ControlPanelSoundButton__SliderContainerThumbContainer},en("div",{className:Mb.locals.ControlPanelSoundButton__SliderContainerThumb,style:{left:Math.round(100*a)+"%"}}))):null)},Hb=e=>{let{volume:t}=e;return en(0===t?zs:t<.24?Fs:t<.5?Hs:js,null)};var zb=e(9997),jb=e.n(zb);const Yb=e=>{let{children:t,disabled:i,tag:r}=e;zn(jb());const o=h(r)?()=>{yu.log({name:"NbkButtonClicked",sensors:{tag:r},probability:1})}:void 0;return en("button",{className:Un(zb.locals.PlayerButtonMimic,i&&zb.locals.PlayerButtonMimic_disabled),onClick:o,type:"button"},t)};var Wb=e(6515),Gb=e.n(Wb);const Xb=e=>{let{isHidden:t}=e;zn(Gb());const{width:i}=fg(),{isTouchScreenDevice:r}=Ib(),o=Sf(),{volumeStatus:n}=xb(),{playingState:a}=IE(),s=qs({controlsVisibility:o,volumeStatus:n,playingState:a});return en("div",{className:Un(Wb.locals.PlayerLikeControlLine,t&&Wb.locals.PlayerLikeControlLine_hidden)},en("div",{className:Wb.locals.PlayerLikeControlLine__leftButtons},en(Vb,null),en(Fb,{variant:r?"toggle":"slider",disabled:!s})),en("div",{className:Wb.locals.PlayerLikeControlLine__rightButtons},i>330?en(Yb,{tag:"externalPlayback",disabled:!0},en(Ys,null)):null,i>440?en(Yb,{tag:"report"},en(Ws,null)):null,en(Yb,{tag:"settings",disabled:!0},en(Gs,null)),en(Yb,{tag:"fullscreen"},en(Xs,null))))};var qb=e(6413),Kb=e.n(qb);const Zb=e=>{zn(Kb());const t=df(),{themeEmptyParameters:i}=kf(),r=fg(),{clickUrl:o,clickThrough:n}=Yf(),{greenUrl:a,targetUrl:s}=i||{},l=Nn((()=>{n({url:o,playerHandles:!0,clickSource:"SkinActionButton"})}),[n,o]),{showLabelOnButton:d,faviconSrc:c}=e,u=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),h=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),p=null!=a?a:h,m=r.width>=260;return en(nf,{url:s,onClick:l},en("div",{className:qb.locals.ActionPanelSmall__clickableContainer},en("div",{className:qb.locals.ActionPanelSmall},c?en("div",{className:qb.locals.ActionPanelSmall__favIconContainer},en("img",{className:qb.locals.ActionPanelSmall__favIcon,src:c,alt:"favicon"})):void 0,m&&en("span",{className:qb.locals.ActionPanelSmall__label},p),en("div",{style:{paddingRight:4}},en(mf,{size:"small"},d?u:void 0)))))},Jb=e=>{let{compactMode:t}=e;const{themeEmptyParameters:i}=kf(),{clickThrough:r,clickUrl:o}=Yf(),{greenUrl:n,label:a,targetUrl:s}=i||{},l=Cf(),d=Nn((()=>{r({url:o,playerHandles:!0,clickSource:"SkinActionButton"})}),[r,o]);return i?o?t?en(Zb,{showLabelOnButton:!0,faviconSrc:l}):en(yf,{title:void 0,greenUrl:n,buttonLabel:a,targetUrl:s,onClickThrough:d,faviconSrc:l}):(yu.log({name:"ThemeEmpty_noClickUrl"}),null):null},Qb=Sn(dp);Qb.Provider.displayName="ContentAfterAdPodContext";const $b=e=>{let{className:t}=e;return en(Ks,{className:t})};var eC=e(3765),tC=e.n(eC);const iC=e=>{let{className:t}=e;zn(tC());const{skipCallback:i,timeToSkip:r}=If(),o=fg(),n=df(),a=Sf(),s=Dn(Qb),l=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return v(String(t),2,"0")}(r);if(!1===a.skip)return null;if(r===Pf)return null;const d=n("SKIP"),c=0===r,u=Un(t,eC.locals.SkipButton__clickable,c&&eC.locals.SkipButton_active),h=o.width>320;let p;return p="startVideo"===s.type||"continueVideo"===s.type?s.poster:[],en("div",{className:u,onClick:i},en("div",{className:eC.locals.SkipButton},h&&en(oC,{skipTitle:d,image:p}),en("div",{className:eC.locals.SkipButton__contentRight},en(rC,{countdownString:l}))))},rC=e=>{let{countdownString:t}=e;if(!t)return en($b,{className:eC.locals.SkipButton__icon});const[i,r]=t;return en("div",{className:eC.locals.SkipButton__timeToSkipString},en("span",{className:eC.locals.SkipButton__timeToSkipString__leftDigit},i),en("span",{className:eC.locals.SkipButton__timeToSkipString__rightDigit},r))},oC=e=>{let{skipTitle:t,image:i}=e;return en("div",{className:eC.locals.SkipButton__contentLeft},i.length>0?en("img",{src:i[0].url,className:eC.locals.SkipButton__leftImage}):en("div",{className:eC.locals.SkipButton__skipText},t))};var nC=e(8237),aC=e.n(nC);const sC=Sn({ecomShopState:{ecomShop:void 0,isVisible:!1},setShopVisibility:X}),lC=()=>Dn(sC),dC=Sn({skinVariant:"default"});dC.Provider.displayName="SkinVariantContext";const cC=e=>{let{skinVariant:t}=e;return{skinVariant:t}},uC=()=>Dn(dC),hC=Sn({shouldShowSkipButton:!0});hC.Provider.displayName="SkipButtonContext";const pC=e=>{let{adDisplayController:t}=e;return Fn(t.shouldShowSkipButton)},mC=()=>Dn(hC),AC=Math.max(.1,.05);var _C=e(5655),vC=e.n(_C);const gC=e=>{zn(vC());const{setShopVisibility:t,ecomShopState:i}=lC();if(void 0===i||void 0===i.ecomShop)return null;const{isVisible:r}=i,{buttonText:o,type:n}=i.ecomShop,a=df(),s=n===zp?Qs:el,l=n===zp?$s:tl,d=a("ECOM_PRODUCTS_BUTTON_SHOW"),c=a("ECOM_PRODUCTS_BUTTON_HIDE"),u=In((()=>[o,d,c].sort(((e,t)=>t.length-e.length))[0]),[o,d,c]);return en("button",{type:"button",className:_C.locals.EcomShopSkinButton,onClick:()=>{t(!r)}},en(r?l:s,{className:_C.locals.EcomShopSkinButton__ShowHideIcon}),!e.compactMode&&en("div",{className:_C.locals.EcomShopSkinButton__Text},en("div",{className:_C.locals.EcomShopSkinButton__TextMainLine},o),en("div",{className:_C.locals.EcomShopSkinButton__TextDetailsLine},en("div",{className:_C.locals.EcomShopSkinButton__Placeholder},u),en("div",{className:_C.locals.EcomShopSkinButton__TextDetailsContent},r?c:d))))},fC=e=>{let{showSkipButton:t}=e;zn(aC());const{themeEmptyParameters:i}=kf(),r=Sf(),o=fg(),n=VS(),{isPackshotPlaying:a}=gE(),s=!1!==r.actionButton&&void 0!==i&&!a;let l;l=t&&!1!==r.skip?o.width<750:"small"===n;const d=Un(nC.locals.CallToActionControls,l?nC.locals.CallToActionControls_twoLines:nC.locals.CallToActionControls_oneLine),c=o.width<iT||o.height<300,{fontSize:u,skipButtonFontSize:h,isProductsButtonVisible:p}=Js(),m={"--ctalc-font-size":u,"--ctalc-skip-button-font-size":h},{shouldUseNewSkin:A}=aE();return en("div",{className:d,style:A&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_LIFT_BUTTONS_UP_IN_NEW_SKIN")||"PLAYER_LIKE_SKIN"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?il({},m,{position:"absolute",left:0,right:0,bottom:"small"===n?58:66}):m},s&&en("div",{className:nC.locals.CallToActionControls_SkinActionPanel},en(Jb,{compactMode:c})),p&&en("div",{className:nC.locals.CallToActionControls_SkinProductsPackshotButton},en(gC,{compactMode:c})),t&&en(iC,{className:nC.locals.CallToActionControls__SkipButton}))},yC=e=>{let{hidden:t}=e;zn(bb());const{shouldShowSkipButton:i}=mC();return en("div",{className:Sb.locals.PlayerLikeBottomControls},en(fC,{showSkipButton:i}),en(Nb,{isHidden:t}),en(Xb,{isHidden:t}))};var TC=e(7121),EC=e.n(TC),SC=e(6479),bC=e.n(SC);const CC=180,PC=()=>{zn(bC());const e=fg(),{tooltipContent:t}=hb();if(void 0===t)return null;const{content:i,arrowPosition:r,targetElementCoordinates:o,onClickClose:n}=t,a=o.top+o.height,s={};"top"===r?s.top=a+15:s.bottom=o.winHeight-a-15;const l=o.left+o.width/2;if(e.width<192)s.left=6,s.right=6;else{const t=6,i=e.width-CC-6,r=l-90+6;s.left=jr(r,t,i),s.width=CC}const d={};if("top"===r){d.top=-8;const e=6,t=150,i=l-s.left-12;d.left=jr(i,e,t)}return en("div",{className:SC.locals.Tooltip,style:s},en("div",{className:SC.locals.Tooltip__body},en("div",{className:SC.locals.Tooltip__text},i),n&&en("div",{className:SC.locals.Tooltip__closeContainer,onClick:n},en(ol,null))),en("div",{className:SC.locals.Tooltip__arrow,style:d},en(rl,null)))},OC=()=>{zn(EC());const{setContainerElement:e}=db();return en("div",{ref:t=>{t&&e(t)},className:TC.locals.TooltipContainer},en(PC,null))},wC=Sn({isHovered:!1,userHasInteracted:!1});wC.Provider.displayName="SlotHoverContext";const IC=e=>{const t=Fn(e),[i,r]=Cn(t);return Pn((()=>{t&&r(!0)}),[t]),{isHovered:t,userHasInteracted:i}},NC=()=>Dn(wC),DC=()=>{const{shouldHideControls:e}=(()=>{const{isHovered:e}=NC(),{isTouchScreenDevice:i}=Ib(),r=i,[o,n]=Cn(r),a=wn(null),s=SE(),l=PE(),d=t(l)?s*l:0,c=!!i||3<d,{playingState:u}=IE(),h="pause"===u;return Pn((()=>{if(c){if(!h)return e?(null!==a.current&&clearTimeout(a.current),void n(!1)):(a.current=setTimeout((()=>{n(!0)}),500),()=>{null!==a.current&&clearTimeout(a.current)});n(!1)}}),[e,c,h]),{shouldHideControls:o}})();return en(rn,null,en(WS,{hidden:e}),en(kE,null),en(Eb,null),en(yC,{hidden:e}),en(ES,null),en(OC,null))};var kC=e(8315),RC=e.n(kC);const VC=e=>{let{shouldPauseOnCreativeClick:t}=e;zn(RC());const{play:i}=IE(),r=(()=>{const{playingState:e,isStarted:t,isSlowStart:i}=IE(),{play:r,loader:o}=Sf(),{isAbuseSubmitted:n,abuseDisplayStatus:a}=pE(),{isPackshotPlaying:s}=gE(),l=UE(fg());if(n)return"none";const d="pause"===e,c=d&&!1!==r&&!("selection"===a&&l)&&!s;return c||d||t||!i||!1===o?c?"paused":"none":"loading"})();return"loading"===r?en("div",{className:kC.locals.OverlayLayer__spinnerContainer},en(kS,null)):t&&"paused"===r?en("div",{className:kC.locals.OverlayLayer__playButtonContainer,onClick:i},en(Us,null)):null};var LC=e(1796),BC=e.n(LC);const xC=e=>{let{className:t,fill:i}=e;return zn(BC()),en(nl,{className:Un(LC.locals.MuteIcon,{[LC.locals.MuteIcon_Fill]:i},t)})};var MC=e(1197),UC=e.n(MC);const FC=e=>{let{className:t,fill:i}=e;return zn(UC()),en(al,{className:Un(MC.locals.UnmuteIcon,{[MC.locals.UnmuteIcon_Fill]:i},t)})},HC=()=>{const{skinVariant:e}=uC();return"videoInCombo"===e&&"TRUE"===Ec.getFlagValueAndActivateTestId("VAS_EXP_NEW_SKIN_OUTSTREAM_FIXES")};var zC=e(8453),jC=e.n(zC);const YC=e=>{let{style:t}=e;const{playingState:i}=IE(),r=Sf();zn(jC());const{volumeStatus:o,setMuted:n}=xb(),a=HC(),s="unmuted"===o;if(!qs({playingState:i,volumeStatus:o,controlsVisibility:r}))return null;const{width:l}=fg(),d=(e=>{const t=e<=iT?1:e/iT;return{width:28*t,height:28*t}})(l);return en("div",{style:sl({},t,a?{"--mute-unmute-responsive-width":d.width+"px","--mute-unmute-responsive-height":d.height+"px"}:{}),className:Un(zC.locals.MuteUnmuteButtonWithoutBackground,{[zC.locals.MuteUnmuteButtonWithoutBackground_Size_Responsive]:a}),onClick:s?()=>{n(!0)}:()=>{n(!1)}},en(s?xC:FC,{fill:a}))};var WC=e(9931),GC=e.n(WC);const XC=()=>{zn(GC());const e=Sf(),t="small"===VS(),{creativeType:i}=CS(),r=!1!==e.play&&t&&"themeEmpty"!==i&&"survey"!==i,o="RIGHT"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_TOP_BUTTONS_POSITION"),n=HC();return en(rn,null,en("div",{className:WC.locals.TopControlsLayer},(t||n)&&en(YC,{style:{padding:4,marginLeft:o&&!n?"auto":""}}),r&&en(Vb,{className:WC.locals.TopControlsLayer__playButton})))};var qC=e(1209),KC=e.n(qC);const ZC=e=>{let{onClick:t}=e;return zn(KC()),t?en("div",{className:qC.locals.UnderlyingLayer,onClick:t}):null};var JC=e(6719),QC=e.n(JC),$C=e(4659),eP=e.n($C);const tP=e=>{let{text:t,textLength:i,viewBox:r}=e;return zn(eP()),en("svg",{className:Un($C.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},en("text",{className:$C.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var iP=e(550),rP=e.n(iP);const oP=((e,t,i,r)=>{const o=((e,t,i,r)=>{const o=(t-r)/(e-i),n=t-o*e;return e=>o*e+n})(e,t,i,r),n=(a=t,s=r,e=>Math.max(a,Math.min(e,s)));var a,s;return e=>{const t=o(e);return n(t)}})(100,5,600,330),nP=e=>{let{text:t,heightPortion:i}=e;const r=fg();zn(rP());const{textLength:o,viewBox:n,fontSize:a}=function(e,t){const{width:i,height:r}=e,o=r,n=Math.min(o,oP(i)),a=Math.max(i,t.length*n/1.2);return{fontSize:n,textLength:a,textPositionOffset:(o+n/2)/2,viewBox:"0 0 "+a+" "+o}}({width:r.width,height:r.height*i},t);return en("div",{className:iP.locals.Disclaimer,style:{height:r.height*i,fontSize:a}},en(tP,{text:t,textLength:o,viewBox:n}))};var aP=e(873),sP=e.n(aP),lP=e(4647),dP=e.n(lP);const cP=()=>{zn(dP());const{label:e,dspLabel:t,tooltipText:i,onClick:r,domain:o}=ob();return!1===Sf().adLabel?null:en("div",{className:lP.locals.BackpackAdLabel,title:i,onClick:r},e,t&&" | "+t,o&&" | "+o)},uP=Sn(void 0);uP.Provider.displayName="AdSequenceContext";const hP=()=>{const e=Dn(uP),t=Sf(),i=df(),r=HC();return e&&!1!==t.backpackAdSequence?r&&e.count<=1?null:en("span",{className:"BackpackAdSequence"},e.index+1," ",i("OF")," ",e.count):null},pP=()=>{const{themeEmptyParameters:e}=kf(),t=Sf(),{ageRestriction:i}=e||{};return!1!==t.ageLabel&&h(i)?en("span",null,i):null},mP=()=>{var e,t;const i=null!=(e=null==(t=Ab())?void 0:t.businessUnit)&&e,r=df()("BU_LABEL_TOOLTIP_TEXT");return!1===Sf().businessUnitAdLabel?null:i?en("span",null,r):null},AP=()=>{zn(sP());const e=VS(),{supportsFullscreen:t}=aE(),{adLabel:i,businessUnitAdLabel:r,ageLabel:o,backpackAdSequence:n}=Sf(),a="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),s=(!1!==i||!1!==r||!1!==o||!1!==n)&&!a;return s||t?en("div",{className:aP.locals.Backpack},s&&en("div",{className:aP.locals.Backpack_labels},en(cP,null),en(hP,null),en(pP,null),en(mP,null)),"small"===e&&t&&en("div",{className:aP.locals.Backpack_buttons},en(Rb,{icon:en(ll,null)}))):null};var _P=e(2219),vP=e.n(_P),gP=e(8265),fP=e.n(gP);const yP=e=>{let{className:t}=e;zn(fP());const{playingState:i}=IE(),{volumeStatus:r}=xb(),{supportsFullscreen:o}=aE(),n=Sf(),{isTouchScreenDevice:a}=Ib(),s=qs({controlsVisibility:n,volumeStatus:r,playingState:i}),l=!1!==n.play;return s||o||l?en("div",{className:Un(gP.locals.ControlPanelControls,t)},l&&en(Vb,null),s&&en(Fb,{variant:a?"toggle":"slider"}),o&&en(Rb,{icon:en(ll,null),className:gP.locals.ControlPanelControls__fullscreenButton})):null};var TP=e(9740),EP=e.n(TP);const SP=e=>{let{className:t}=e;zn(EP());const i=100*SE();return!1!==Sf().timeline?en("div",{className:Un(TP.locals.ControlPanelTimeLine,t)},en("div",{className:TP.locals.ControlPanelTimeLine_bar,style:{width:i+"%"}})):null},bP=()=>{zn(vP());const{creativeType:e}=CS(),i="survey"===e,r="small"===VS(),{height:o}=fg(),n=i?0:o*AC,a=(()=>{const e="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_DELAY_INITIAL_PANEL_MINIMIZATION"),i=SE(),r=PE(),o=t(r)?i*r:0,{isHovered:n}=NC(),{playingState:a}=IE(),s="small"===VS(),l="pause"===a,[d,c]=Cn((()=>!e&&!s)),[u,h]=Cn(!e),p=wn(null);return Pn((()=>{u||o<3||h(!0)}),[u,o]),On((()=>{if(u)return null!==p.current&&clearTimeout(p.current),s||n||l?c(!1):(p.current=setTimeout((()=>{c(!0)}),500),()=>{M(clearTimeout)&&null!==p.current&&clearTimeout(p.current)})}),[n,s,l,u]),d})(),s=r||i,{controlPanel:l,timeline:d,play:c,adLabel:u,businessUnitAdLabel:h,ageLabel:p,backpackAdSequence:m}=Sf();if(!(!1!==l||!1!==(!1!==u||!1!==h||!1!==p||!1!==m)||!1!==d||!1!==c))return null;const A=HC();return en("div",{style:{minHeight:n},className:Un(_P.locals.ControlPanel,{[_P.locals.ControlPanel_small]:s,[_P.locals.ControlPanel_WithoutShadow]:A,[_P.locals.ControlPanel_minimized]:!!A||a})},en(AP,null),en(SP,{className:_P.locals.ControlPanel__timeLine}),!s&&!A&&en(yP,{className:_P.locals.ControlPanel__controls}))},CP=()=>{zn(QC());const{pause:e}=IE(),t="small"===VS(),{creativeType:i}=CS(),r="themeEmpty"===i,{isPackshotPlaying:o}=gE(),{isActionButtonVisible:n,isSkipButtonVisible:a,isProductsButtonVisible:s,shouldUseTwoLinesLayout:l,fontSize:d,skipButtonFontSize:c,disclaimerInfo:u,isEcomShopVisible:h,shouldUseSmallCta:p,isVerticalFormat:m,ecomShop:A,skinSize:_,isOutstream:v}=Js(),g=HC(),f=t&&!o&&r&&!v,y={"--new-skin-font-size":d,"--new-skin-skip-button-font-size":c},T=Un(JC.locals.NewSkin,{[JC.locals.NewSkin_twoControlLines]:l,[JC.locals.NewSkin_vertical]:m,[JC.locals.NewSkin_smallControls]:p,[JC.locals.NewSkin_CtaAlwaysOnTenPercentOverBottom]:g}),E=Un(JC.locals.NewSkin__CtaContainer),S=Un(JC.locals.NewSkin__SkipButtonContainer),b=Un(JC.locals.NewSkin__ProductsPackshotContainer,{[JC.locals.NewSkin__ProductsPackshotContainer_visible]:h}),C="TRUE"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),{clickThrough:P}=Yf(),O="small"===_||m?1:3;return en("div",{className:T,style:y},en("div",{className:JC.locals.NewSkin__DisclaimerContainer},u&&en(nP,{heightPortion:u.mandatoryHeightPortion,text:u.text})),en(ZC,{onClick:f?e:void 0}),en(kE,{onClickOutside:f?e:void 0}),en(VC,{shouldPauseOnCreativeClick:f}),C&&en("div",{className:JC.locals.NewSkin__AdLabelContainer},en(fb,null)),en("div",{className:JC.locals.NewSkin__TopControlsContainer},en(XC,null)),a&&en("div",{className:S},en(iC,null)),h&&A&&en("div",{className:b},en(By,{products:A.products,maxItemsPerView:O,onProductClick:e=>{P({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),n&&en("div",{className:E},en(Jb,{compactMode:p})),s&&en("div",{className:JC.locals.NewSkin__ProductsPackshotButton},en(gC,{compactMode:p})),en("div",{className:JC.locals.NewSkin_BottomControlsContainer},en(bP,null)),en(ES,null),en(OC,null))};var PP=e(4483),OP=e.n(PP);const wP=e=>e*(2-e),IP=(function(e,t,i,r,o){const n=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},a=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i}}(.6,.7,.61,1.09,.01),Sn(void 0));IP.Provider.displayName="AdAnimationUnmuteButtonContext";const NP=e=>{let{adDisplayController:t}=e;return Fn(t.volumeButtonCollapseProgress)},DP=()=>Dn(IP);var kP=e(5751),RP=e.n(kP);const VP=["isActive","className","size"],LP=e=>{let{isActive:t=!0,className:i,size:r}=e,o=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,VP);zn(RP());const n=Un(kP.locals.SquareButton,i,{[kP.locals.SquareButton_active]:t,[kP.locals.SquareButton_fullSize]:"small"!==r});return en(WE,dl({},o,{isActive:t,className:n,buttonClassName:kP.locals.SquareButton__basebutton,contentClassName:kP.locals.SquareButton__basecontent}))};var BP=e(3683),xP=e.n(BP);const MP=()=>{const{playingState:e}=IE(),t=DP(),i=Sf();zn(xP());const r=df(),{volumeStatus:o,setMuted:n}=xb(),a=wP(DP()),s=1-a,l="unmuted"===o,d=Nn((()=>{n(!0)}),[]),c=VS(),u="small"!==c,h=Nn((()=>{n(!1)}),[]),p=!(qs({playingState:e,volumeStatus:o,controlsVisibility:i})&&void 0!==t),m=r("UNMUTE");return en(LP,{className:Un(BP.locals.VolumeButton,l?BP.locals.MuteButton:BP.locals.UnmuteButton,p&&BP.locals.MuteButton__hidden),onClick:l?d:h,size:c},en("div",{className:BP.locals.VolumeButton__content},en("div",{className:Un(BP.locals.VolumeButton__iconContainer,{[BP.locals.VolumeButton__iconContainer_fullSize]:u})},en(l?xC:FC,{className:BP.locals.VolumeButton__icon})),1!==a&&en("div",{className:Un(BP.locals.UnmuteButton__text,BP.locals.UnmuteButton__text_animation,{[BP.locals.UnmuteButton__text_fullSize]:u}),style:{maxWidth:140*s,transform:"scale("+s+")",opacity:s,marginRight:12*s}},m)))},UP=Sn({cues:[]});UP.Provider.displayName="SubtitlesContext";const FP=e=>{let{adDisplayController:t}=e;return{cues:Fn(t.adPodCurrentSubtitles)}};var HP=e(4061),zP=e.n(HP);const jP=e=>{let{style:t={}}=e;zn(zP());const{cues:i}=Dn(UP);return i.length>0?en("div",{className:HP.locals.Subtitles__container,style:t},nu(i,(e=>{let{text:t}=e;return en("div",{className:HP.locals.Subtitles__subtitle},t)}))):null},YP=e=>Math.floor(1e4*e)/1e4;var WP=e(1172),GP=e.n(WP);const XP="#F8CC46",qP=1,KP=e=>{let{currentNumber:t,count:i,color:r,adAnimationProgress:o,backgroundOpacity:n=qP}=e;zn(GP());const{width:a,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=4*(i-1)/i,o=4*t;return{width:"calc("+YP(100/i)+"% - "+YP(r)+"px)",transform:"translateX(calc("+YP(100*t)+"% + "+YP(o)+"px))"}}({currentNumber:t,count:i});return en("div",{className:WP.locals.TimelineBar__container,style:{width:a,transform:s}},en("div",{className:Un(WP.locals.TimelineBar,WP.locals.TimelineBar__background),style:{opacity:""+n}}),en("div",{className:Un(WP.locals.TimelineBar,WP.locals.TimelineBar__progress),style:{transform:"scaleX("+o+")",backgroundColor:r}}))},ZP=Sn({adPodsCount:0,playingAdPodIndex:0});ZP.Provider.displayName="MediaFileContext";const JP=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Fn(t),playingAdPodIndex:Fn(i)}};var QP=e(7864),$P=e.n(QP);const eO=e=>{let{color:t}=e;zn($P());const{adPodsCount:i,playingAdPodIndex:r}=Dn(ZP),o=SE();return!1!==Sf().timeline?en("div",{className:QP.locals.Timeline},nu(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(i),(e=>en(KP,e<r?{key:e,adAnimationProgress:1,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:e===r?{key:e,adAnimationProgress:o,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:{key:e,adAnimationProgress:0,currentNumber:e,count:i,backgroundOpacity:.3,color:t})))):null};var tO=e(1895),iO=e.n(tO);const rO=()=>{const{isAbuseSubmitted:e}=pE();if(e)return null;zn(iO());const{isTouchScreenDevice:t}=Ib(),i=tb(),r=Boolean(i),o=!t||!r,{isHovered:n}=NC(),a=PE(),{playingState:s}=IE(),l=SE(),d=Sf(),{volumeStatus:c}=xb(),u=n||a*l<2||"pause"===s,h=qs({playingState:s,volumeStatus:c,controlsVisibility:d}),p=!1!==d.timeline;let m;m=!!(h||p)&&(!!u||!o);const{height:A}=fg();return en("div",{className:tO.locals.VideoInComboControls,style:{height:A/8+"px"}},en("div",{style:{position:"absolute",left:0,right:0,bottom:0,zIndex:-1}},en("div",{className:m?tO.locals.ComboVideoControls__controlsBottomShadow_visible:tO.locals.ComboVideoControls__controlsBottomShadow_hidden},en(WS,null)),en(oO,null)),en("div",null,o?en(nO,{shouldShowHoverControls:u}):en(aO,null)))},oO=()=>{const e=Sf(),t=cf(),i=Zs(Ab(),t);if(!i||!1===e.disclaimers)return en("div",{style:{height:"6px"}});const{text:r,mandatoryHeightPortion:o}=i;return en("div",{className:tO.locals.DisclaimerContainer},en(nP,{heightPortion:o,text:r}))},nO=e=>{let{shouldShowHoverControls:t}=e;return en("div",{className:Un(t?tO.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:tO.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden)},en(YC,null),en("div",{style:{position:"absolute",left:12,right:12,bottom:40}},en(eO,{color:XP})))},aO=()=>en(rn,null,en(YC,{style:{paddingBottom:10}}),en(eO,{color:XP})),sO=()=>{zn(OP());const{shouldUseNewSkin:e}=aE();if(e)return"PLAYER_LIKE_SKIN"===Ec.getFlagValueAndActivateTestId("VAS_NEW_SKIN_VARIANT")?en(DC,null):en(CP,null);const{isActionButtonVisible:t,isSkipButtonVisible:i,isProductsButtonVisible:r,shouldUseTwoLinesLayout:o,skinSize:n,fontSize:a,skipButtonFontSize:s,disclaimerInfo:l,isEcomShopVisible:d,shouldUseSmallCta:c,isOutstream:u,isVerticalFormat:h,ecomShop:p}=Js(),m="small"===n||h?1:3,A="small"===n,_={"--skin-font-size":a,"--skin-skip-button-font-size":s},v=Un(PP.locals.Skin,{[PP.locals.Skin_twoControlLines]:o,[PP.locals.Skin_vertical]:h,[PP.locals.Skin_smallControls]:c}),g=Un(PP.locals.Skin__CtaContainer),f=Un(PP.locals.Skin__SkipButtonContainer),y=Un(PP.locals.Skin__SubtitlesContainer,{[PP.locals.Skin__SubtitlesContainer_bottom]:A}),T=Un(PP.locals.Skin__ProductsPackshotContainer,{[PP.locals.Skin__ProductsPackshotContainer_visible]:d}),{clickThrough:E}=Yf();return en("div",{className:v,style:_},en(kE,null),en("div",{className:PP.locals.Skin__AdLabelContainer},en(fb,null)),i&&en("div",{className:f},en(iC,null)),d&&p&&en("div",{className:T},en(By,{products:null==p?void 0:p.products,maxItemsPerView:m,onProductClick:e=>{E({url:e.clickThruUrl,playerHandles:!0,clickSource:"EcomProduct"})}})),t&&en("div",{className:g},en(Jb,{compactMode:c})),r&&en("div",{className:PP.locals.Skin__ProductsPackshotButton},en(gC,{compactMode:c})),u&&en("div",{className:PP.locals.Skin__VideoInComboControlsContainer},en(rO,null)),!u&&en(rn,null,en("div",{className:PP.locals.Skin__MuteButtonAndSubtitlesContainer},en("div",{className:y},en(jP,null)),en(MP,null)),en("div",{className:PP.locals.Skin__DisclaimerContainer},l&&en(nP,{heightPortion:l.mandatoryHeightPortion,text:l.text})),en(eO,{color:XP})),!d&&en(zS,null),en(ES,null),en(OC,null))},lO=Sn(void 0);lO.Provider.displayName="VideoContentSizeContext";const dO=[e=>{return en(RS.Provider,{value:(t=e.adDisplayController,ja(Fn(t.slotParameters.size))),children:e.children});var t},e=>{return en(nE.Provider,{value:(t=e.adDisplayController,{supportsFullscreen:!1,shouldUseNewSkin:t.isNewSkinEnabled().isEnabled}),children:e.children});var t},e=>en(yg.Provider,{value:e.slotElement,children:e.children}),e=>en(OE.Provider,{value:wE(e),children:e.children}),e=>en(ZP.Provider,{value:JP(e.adDisplayController),children:e.children}),e=>en(TE.Provider,{value:EE(e.adDisplayController),children:e.children}),e=>en(bE.Provider,{value:CE(e),children:e.children}),e=>en(vg.Provider,{value:gg(e.adDisplayController.slotParameters.size),children:e.children}),e=>{return en(lO.Provider,{value:(t=e.adDisplayController.videoContentSize,Fn(t))},e.children);var t},e=>en(Of.Provider,{value:wf({timeToSkipSignal:e.adDisplayController.timeToSkip,skipCallback:e.adDisplayController.onSkinSkipButtonClick}),children:e.children}),e=>en(hC.Provider,{value:pC(e),children:e.children}),e=>en(dC.Provider,{value:cC(e.adDisplayController.skinParameters),children:e.children}),e=>en(sb.Provider,{value:lb(e.adDisplayController.tooltipParameters.container),children:e.children}),e=>en(cb.Provider,{value:ub(e.adDisplayController.tooltipParameters.content),children:e.children}),e=>{return en(eb.Provider,{value:(t=e.adDisplayController,Fn(t.videoSlotClickUrl)),children:e.children});var t},e=>en(Ob.Provider,{value:wb(e),children:e.children}),e=>en(wC.Provider,{value:IC(e.adDisplayController.slotParameters.isHovered),children:e.children}),e=>en(sf.Provider,{value:lf(e.adDisplayController.playbackParameters),children:e.children}),e=>en(Tf.Provider,{value:Ef(e.adDisplayController.combinedSkinControlsVisibility),children:e.children}),e=>en(Lb.Provider,{value:Bb(e),children:e.children}),e=>en(IP.Provider,{value:NP(e),children:e.children}),e=>en(uE.Provider,{value:hE(e),children:e.children}),e=>en(cS.Provider,{value:uS(e),children:e.children}),e=>en(QS.Provider,{value:$S(e),children:e.children}),e=>en(ib.Provider,{value:rb(e),children:e.children}),e=>{return en(Qb.Provider,{value:(t=e.adDisplayController,Fn(t.contentAfterAdPod)),children:e.children});var t},e=>{return en(bf.Provider,{value:(t=e.adDisplayController.faviconSrc,Fn(t)),children:e.children});var t},e=>en(RE.Provider,{value:VE(e),children:e.children}),e=>en(Nf.Provider,{value:Df(e.adDisplayController),children:e.children}),e=>en(pb.Provider,{value:mb(e.adDisplayController),children:e.children}),e=>en(_E.Provider,{value:vE(e.adDisplayController),children:e.children}),e=>en(UP.Provider,{value:FP(e)},e.children),e=>en(mE.Provider,{value:AE(e.adDisplayController.showTitleAndBody)},e.children),e=>en(SS.Provider,{value:bS(e),children:e.children}),e=>{return en(uP.Provider,{value:(t=e.adDisplayController,Fn(t.displayAdSequence)),children:e.children});var t},e=>en(zf.Provider,{value:jf(e.adDisplayController),children:e.children}),e=>{return en(sC.Provider,{value:(t=e.adDisplayController,{ecomShopState:Fn(t.ecomShopState),setShopVisibility:e=>{t.setEcomShopState({isVisible:e},!0)}}),children:e.children});var t}];const cO=(uO=()=>en(sO,null),(e,t)=>{const i=new yc,r=new yc,o=new yc,n=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),r.removeAll(),e()})),r.addOne((e=>{i.removeAll(),r.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{o.addOne((e=>{t(e)}))})),s=en(Ag,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):r.dispatch(e.error)},onRuntimeError:e=>{o.dispatch(e)}},en(_g,{components:dO,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},uO()));return ou("Skin: render skin"),En(s,e),{firstRenderPromise:n,runtimeErrorPromise:a,clear:()=>{i.removeAll(),r.removeAll(),ou("Skin: destroy skin"),En(null,e)}}});var uO;class hO extends fu{constructor(e){var t;super(),t=this,this.showAdPlaybackControllers=[],this.subscriptions=[],this.oldDestroyHandlers=[],this.isUsingOldDestroy="TRUE"!==Ec.getFlagValueAndActivateTestId("VAS_USE_DESTROYABLE_AD_STORE"),this.createPlaybackController=this.ignoreAfterDestroy((function(e,i,r){void 0===r&&(r={});const{config:o,errors:n}=za(r);Xt(n);r.renderSkin;const a=new oE({videoSlot:e,layoutSlot:i,mediaAds:t.params.mediaAds,playbackParameters:o,skinParameters:{renderSkinFunction:cO,skinVariant:"default"},stats:t.params.stats}).getPublicInstance();a.subscribe("AdStartRequest",(()=>{t.cancelPreloading("PublicControllerPlayAd")}));const s=fc(t.subscriptions,(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return $l(s,(e=>{let{handler:t}=e;return t({playbackController:a})})),a}),"AdStore.createPlaybackController",gu.CALL_NORMALLY),this.showAd=this.ignoreAfterDestroy((function(e,i,r){void 0===r&&(r={}),t.cancelPreloading("AdStoreShowAd");const o=t.createPlaybackController(e,i,r);t.showAdPlaybackControllers.push(o);const n=new Promise((e=>{o.subscribe("AdStopped",(()=>{t.showAdPlaybackControllers=fc(t.showAdPlaybackControllers,(e=>e!==o)),e()}))}));return o.playAd(),n}),"AdStore.showAd",gu.CALL_NORMALLY),this.getAdDuration=this.ignoreAfterDestroy((()=>_s(this.params.mediaAds)),"AdStore.getAdDuration",gu.CALL_NORMALLY),this.separateAdPods=this.ignoreAfterDestroy((()=>nu(this.params.mediaAds,(e=>{const t=new hO({mediaAds:[e],vast:dS(this.params),stats:this.params.stats});return $l(this.subscriptions,(e=>{let{event:i,handler:r}=e;t.subscribe(i,r)})),this.addDestroyHandler((()=>{t.destroy()})),t}))),"AdStore.separateAdPods",gu.CALL_NORMALLY),this.getAdSourceTypes=this.ignoreAfterDestroy((()=>fc(nu(this.params.mediaAds,(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t))),"AdStore.getAdSourceType",gu.CALL_NORMALLY),this.getAdBreakType=this.ignoreAfterDestroy((()=>{return"midroll"===(e=this.params.mediaAds[0].adBreak).adType?null!=(t=e.originalAdType)?t:"midroll":e.adType;var e,t}),"AdStore.getAdBreakType",gu.CALL_NORMALLY),this.setStatsRootFields=this.ignoreAfterDestroy((e=>{this.params.stats.setRootFields(e),yu.setRootFields(e)}),"AdStore.setStatsRootFields",gu.CALL_NORMALLY),this.hasNotReplacedBroadcastAd=this.ignoreAfterDestroy((()=>(this.params.stats.error({error:new Zc({code:"USING_HAS_NOT_REPLACED_BROADCAST_AD_METHOD_FROM_AD_STORE",details:void 0})}),!1)),"AdStore.hasNotReplacedBroadcastAd",gu.CALL_NORMALLY),this.hasYandexCreative=this.ignoreAfterDestroy((()=>mu(this.params.mediaAds,(e=>e.getIsYandexCreative()))),"AdStore.hasYandexCreative",gu.CALL_NORMALLY),this.getNonYandexVastXmlTree=this.ignoreAfterDestroy((()=>this.hasYandexCreative()?void 0:cl(dS(this.params))),"AdStore.getNonYandexVastXmlTree",gu.CALL_NORMALLY),this.preload=this.ignoreAfterDestroy((e=>{if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_DISABLE_PRELOADING"))return Promise.resolve();if(M(tu(window)))return Promise.resolve();if(void 0===this.preloadPromise){const t=nu(this.params.mediaAds,(t=>t.preload(e)));this.preloadPromise=Promise.all(t).then(X)}return this.preloadPromise}),"AdStore.preload",gu.CALL_NORMALLY),this.filterAdPodsIndependentOnHtmlControls=this.ignoreAfterDestroy((e=>{const[t,i]=or(this.params.mediaAds,(e=>e.getIfIsRequiredHtmlControls()));this.params.mediaAds=Qr(i),$l(t,(t=>{t.trackError(new Zc({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))}),"AdStore.filterAdPodsIndependentOnHtmlControls",gu.CALL_NORMALLY),this.getYandexBidReqIdArray=this.ignoreAfterDestroy((()=>nu(this.params.mediaAds,(e=>{let{vastAd:t}=e;return t.bidreqid}))),"AdStore.getYandexBidReqIdArray",gu.CALL_NORMALLY),this.preventPlaying=this.ignoreAfterDestroy(((e,t)=>{$l(this.params.mediaAds,(i=>{i.trackError(new Zc({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),this.params.mediaAds=[]}),"AdStore.preventPlaying",gu.CALL_NORMALLY),this.getAdPodsCount=this.ignoreAfterDestroy((()=>this.params.mediaAds.length),"AdStore.getAdPodsCount",gu.CALL_NORMALLY),this.subscribe=this.ignoreAfterDestroy(((e,t)=>(this.subscriptions.push({event:e,handler:t}),()=>{this.subscriptions=fc(this.subscriptions,(i=>!(i.event===e&&i.handler===t)))})),"AdStore.subscribe",gu.CALL_NORMALLY),this.addOldDestroyHandler=e=>{this.oldDestroyHandlers.push(e)},this.cancelPreloading=this.ignoreAfterDestroy((e=>{$l(this.params.mediaAds,(t=>{t.cancelPreloading(e)}))}),"AdStore.cancelPreloading",gu.CALL_NORMALLY),this.destroyPreloading=this.ignoreAfterDestroy((()=>{$l(this.params.mediaAds,(e=>{e.cancelPreloading("Destroy")}))}),"AdStore.destroyPreloading",gu.CALL_NORMALLY),this.params=e;(this.isUsingOldDestroy?this.addOldDestroyHandler:super.addDestroyHandler)((()=>{$l(this.showAdPlaybackControllers,(e=>{e.stopAd()})),this.showAdPlaybackControllers.length=0,this.destroyPreloading(),this.preloadPromise=void 0,this.subscriptions.length=0}))}destroy(){this.isUsingOldDestroy?G(this.oldDestroyHandlers):super.destroy()}}class pO extends fu{constructor(e){let{adConfig:t,vmap:i,adBreak:r,adPlacementOptions:o,stats:n}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Zc({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e}),r=new hO({mediaAds:t,vast:i,stats:this.stats});return"TRUE"!==Ec.getFlagValueAndActivateTestId("VAS_USE_DESTROYABLE_AD_STORE")||this.addDestroyHandler((()=>{r.destroy()})),r}catch(qO){throw ir(qO),this.stats.errorToStats(qO),qO}},this.getInPageBlock=()=>ao(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>ao(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e}=this.adConfig;return e?function(e,t){return ic(e,(e=>e.impId===t))}(this.getAdBreaks(),e):ao(this.getAdBreaks(),"preroll")[0]},this.adConfig=t,this.adBreak=r,this.vmap=i,this.adPlacementOptions=o,this.stats=n,ou("AdLoader: create"),n.log({name:"CreateAdLoader",data:{adConfig:t,adBreak:r}}),_u({secureMode:t.secureMode,url:void 0})){const e=Eh();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return oo({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const mO={impId:0,sessionId:"",vastTimeout:3e3},AO={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},_O=ul({adType:"preroll"},AO,mO,Yy);class vO{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1,this.isUniformat=!1}}const gO={start:"preroll",end:"postroll"},fO=c({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,postPauseroll:0,replaced:0,notReplaced:0,inroll:0}),yO={dark:"dark",light:"light"},TO={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},EO=e=>{const t=Al("Collapse",e);return!0===Al("Repeat",e)?"auto":!1===t?"manual":null},SO=e=>{const t=We(e),{vmap:i,events:r,valuesEvents:o,errors:n}=Tl({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return Xt(n),$l(r,(e=>{yu.log(El({},e,{probability:1}))})),$l(o,(e=>{yu.log(e)})),i},bO=e=>{if(!r(e))return;const{preferableAdSize:t}=e;if(!r(t))return;const{width:o,height:n}=t;return i(o)&&i(n)?{width:o,height:n}:void 0},CO=c(qd),PO="Unsafe",OO=e=>{if(!r(e))return PO;const{secureMode:t}=e;return t&&-1!==CO.indexOf(t)?t:PO},wO=Nl({adType:"inpage",replayMode:null,stick:!1},AO,mO),IO=Dl({adType:"midroll",broadcastReplace:!1},AO,{repeatAfter:0,maxRepeatCount:0,repeatNumber:0,timeOffset:10},mO,Yy),NO=kl({adType:"postroll"},AO,mO,Yy),DO={inpage:wO,preroll:_O,midroll:IO,postroll:NO},kO=c(DO),RO=["vastBase64","adBreakType"],VO=["videoContentId"],LO=()=>{if(!vc.isDebugEnabled)return;const e=C_();if(null==e||!e.getVmap)return;const t=e.getVmap();return yu.log({name:"LoadInlineTestUtilsVmap",data:{vmap:t},probability:1}),t},BO=e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0},xO=()=>cd()/1e3,MO="adsdksessionwatchedtimesinceadmap";class UO{constructor(){void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=xO}=e;if(!i)return;const o=Bl(i);o[t]=r();try{Qd({localStorage:i},MO,JSON.stringify(o))}catch(n){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:r,now:o=xO}=e;if(!r)return 0;const n=Bl(r)[t];if(!i(n))return 0;const a=o();if(!i(a))return 0;const s=a-n;return i(s)?s:0}({category:t,storage:this.storage})}}const FO=vc.loaderLoadedFromAnYandexRu?"https://"+hc+"/vmap/":"https://"+pc+"/ads/vmap/";let HO=0;const zO=(e,t,i)=>{const r=new cu(Sc);void 0!==t&&U('Do NOT use second argument of AdLoader.create(...) method, use adBreakType parameter instead. Example: AdLoader.create({ adBreakType: "'+(null!=i?i:"preroll")+'", ...otherParameters })');return Promise.resolve().then((()=>Hl({rawAdConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i,adPlacementOptions:Gl,stats:r}))).then((e=>e.getPublicInstance()))},jO=(vc.hardcodedParams.adsdkgrforced?100:1)/100,YO="https://"+mc+"/pcode-static/resources/66/gr/gr.js",WO=(e=>"requestIdleCallback"in e?{requestIdleCallback:e.requestIdleCallback.bind(e),cancelIdleCallback:e.cancelIdleCallback.bind(e)}:(e=>({requestIdleCallback:function(t,i){void 0===i&&(i={});const r=i.timeout||1,o=e.performance,n=o.now();return e.setTimeout((function(){t({get didTimeout(){return!i.timeout&&o.now()-n-1>r},timeRemaining:function(){return Math.max(0,o.now()-n+1)}})}),1)},cancelIdleCallback:function(t){e.clearTimeout(t)}}))(e))(window),{requestIdleCallback:GO,cancelIdleCallback:XO}=WO;!function(e,t){const i=window;if(oA(i))return void yu.log({name:"InitModuleBrokeInIE",probability:1});if(yu.log({name:"ModuleInited",dailySensors:{moduleName:e,es2017:!0}}),Za(i,{videoAd:{loadedModules:{[e]:t}}},"ya"),!0===(()=>{if(vc.grWasSent)return!1;if(!yu.shouldLogEventWithProbability(Bc))return!1;if(!yu.shouldLogEventWithProbability(jO))return!1;if("TRUE"===Ec.getFlagValueAndActivateTestId("VAS_DO_NOT_LOAD_GR"))return!1;return vc.grWasSent=!0,!0})()){GO((()=>{(e=>{const t=PA.createHidden({parentElement:e,scope:"GREEDJS_IFRAME"});if(!t)return void yu.log({name:"GrCannotCreateIframe",probability:1});0;const i=()=>{t.destroy(void 0)},r=t.iframe.contentWindow;(async e=>{var t;const i=Date.now(),r=tu(e),o=YO,n=r?r(o):o;try{await vr({src:n,win:e}).promise}catch(qO){return void yu.log({name:"GrCannotLoadScript",data:{error:qO},probability:1})}const a=Date.now(),s=a-i,l=e,d=null!=(t=l.PGreed)?t:l.Greed;if(!d)return void yu.log({name:"GrNoVariable",probability:1});try{const e=await d.safeGet(2e3),t=Date.now()-a;yu.log({name:"GrData",data:{data:e,spentOnGet:t,spentOnScriptLoad:s},probability:1})}catch(qO){yu.log({name:"GrGetError",data:{error:qO},probability:1})}})(r).then(i).catch(i)})(window.document.body)}))}}("AdLoader",{AdLoader:{create:zO},play:async e=>{let{videoSlot:t,slot:i,config:r}=e;ou("videoAd.play: create adLoader");const o=await zO(r);try{ou("videoAd.play: load ad");const e=await o.loadAd();ou("videoAd.play: show ad"),await e.showAd(t,i,r),e.destroy()}finally{ou("videoAd.play: destroy loader"),o.destroy()}return ou("videoAd.play: done"),{}},activateTestIds:function(){Ec.activateTestIds(...arguments)},subscribeOnTestIdActivated:e=>M(e)?Ec.onTestIdActivated.add(e):X})}()}();