!function(){"use strict"
angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(n,e,t,o){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(n,e,t){n.toggleShow=function(){n.open=!n.open},n.useToggling=void 0===t.ngTtNoToggling}],link:function(n,s,a){n.open=!1,e.failIfWrongThreshouldConfig(n.charsThreshould,n.wordsThreshould)
var l=parseInt(n.charsThreshould),r=parseInt(n.wordsThreshould)
n.$watch("text",function(){s.empty(),l?n.text&&t.truncationApplies(n,l)?t.applyTruncation(l,n,s):s.append(n.text.replace(/</g,"&lt;")):n.text&&o.truncationApplies(n,r)?o.applyTruncation(r,n,s):s.append(n.text.replace(/</g,"&lt;"))})}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(n,e){if(!n&&!e||n&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(n){return{truncationApplies:function(n,e){return n.text.indexOf("\n")>=0?!0:n.text.length>e},applyTruncation:function(e,t,o){if(t.useToggling){var s,a,l
s=t.text.indexOf("\n"),s>=0&&e>s?(a=t.text.substr(0,s),l=s):(a=t.text.substr(0,e),l=e)
var r=angular.element("<span>"+a+"<span ng-show='!open'>&hellip;</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(t.customMoreLabel?t.customMoreLabel:"More")+"</span><span ng-show='open'>"+t.text.substring(l)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(t.customLessLabel?t.customLessLabel:"Less")+"</span></span></span>")
n(r)(t),o.append(r)}else o.append(t.text.substr(0,e)+"&hellip;")}}}]).factory("WordBasedTruncation",["$compile",function(n){return{truncationApplies:function(n,e){return n.text.split(" ").length>e},applyTruncation:function(e,t,o){var s=t.text.split(" ")
if(t.useToggling){var a=angular.element("<span>"+s.slice(0,e).join(" ")+" <span ng-show='!open'>&hellip;</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(t.customMoreLabel?t.customMoreLabel:"More")+"</span><span ng-show='open'>"+s.slice(e,s.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(t.customLessLabel?t.customLessLabel:"Less")+"</span></span></span>")
n(a)(t),o.append(a)}else o.append(s.slice(0,e).join(" ")+"&hellip;")}}}])}()
