var communitySubheaderBreadcrumb=function(){return{args:{},init:function(a){this.args=a,this.populateBreadcrumb()},populateBreadcrumb:function(){this.fillBreadcrumbHomeLink();var a=this.args.breadcrumbItems;if(a&&a.length>0)for(a.sort(function(a,b){return a.position&&b.position?a.position-b.position:0}),i=0;i<a.length;i++)this.addBreadcrumbItem(a[i].text,a[i].href)},addBreadcrumbItem:function(a,b){var c=document.getElementById("comm-shdr-breadcrumb"),d=document.createElement("span");sharedUi.Utils.addClass(d,"comm-shdr-breadcrumb-destination-delimiter"),d.innerText="/",c.appendChild(d);var e=document.createElement("a");sharedUi.Utils.addClass(e,"comm-shdr-breadcrumb-destination"),void 0!=b&&e.setAttribute("href",b);var f=document.createTextNode(sharedUi.Utils.decodeEntities(a));e.appendChild(f),c.appendChild(e)},fillBreadcrumbHomeLink:function(){if(SCN_HEADER_CONF&&SCN_HEADER_CONF.landscape){if(SCN_HEADER_CONF.landscape.gosapcom){var a=SCN_HEADER_CONF.landscape.gosapcom,b=document.getElementById("comm-shdr-breadcrumb-home");b&&b.setAttribute("href",a)}if(SCN_HEADER_CONF.landscape.sapcomCommunity){var c=SCN_HEADER_CONF.landscape.sapcomCommunity,d=document.getElementById("comm-shdr-breadcrumb-community");d&&d.setAttribute("href",c)}}}}}();document.addEventListener("DOMContentLoaded",function(){var a=window.headerInitArgs?window.headerInitArgs:window.header_init_args;communitySubheaderBreadcrumb.init(a)});var communitySubheaderActionsMenu=function(){return{args:{},systemConfig:{},landscapeConfig:{},currentUser:{},init:function(a){this.args=a,this.currentUser=this.args.user,this.setGlobalConfig(this.args.system,this.args),this.populateActionsMenu()},setGlobalConfig:function(a,b){"undefined"==typeof SCN_HEADER_CONF||this.systemConfig.systemName||(this.landscapeConfig=SCN_HEADER_CONF.landscape,this.systemConfig=SCN_HEADER_CONF.systems[a],this.systemConfig.systemName=a)},populateActionsMenu:function(){this.populateStandardMenuItems(),this.showGettingStartedOrModeration(),this.showAdministration()},populateStandardMenuItems:function(){if(this.landscapeConfig.subHeaderActions){var a=this.landscapeConfig.subHeaderActions.standardActions,b=document.getElementById("comm-shdr-UserActions-ul");b.innerHTML="";for(var c in a)if(!a[c].optional||this.args.subheaderOptionalActions&&this.args.subheaderOptionalActions.indexOf(c)>-1){var d=this._createElement("a",{href:a[c].url,class:"scn-dropdown__menu-item"},a[c].name),e=this._createElement("li",{id:a[c].id,class:"comm-shdr-actions-menu__list-item"},d);b.appendChild(e)}}},showGettingStartedOrModeration:function(){var a,b=document.getElementById("comm-shdr-UserActions-ul");a=this.currentUser&&this.currentUser.roles&&this._searchInArray(this.currentUser.roles,"moderator")?this.landscapeConfig.subHeaderActions.additionalActions.moderation:this.landscapeConfig.subHeaderActions.additionalActions.gettingStarted;var c=this._createElement("a",{href:a.url,class:"scn-dropdown__menu-item"},a.name),d=this._createElement("li",{id:a.id,class:"comm-shdr-actions-menu__list-item"},c);b.appendChild(d)},showAdministration:function(){if(this.currentUser&&this.currentUser.roles&&this._searchInArray(this.currentUser.roles,"administrator")){var a=document.getElementById("comm-shdr-UserActions-ul"),b=this.landscapeConfig.subHeaderActions.additionalActions[this.systemConfig.systemName+"Administration"],c=this._createElement("a",{href:b.url,class:"scn-dropdown__menu-item"},b.name),d=this._createElement("li",{id:b.id,class:"comm-shdr-actions-menu__list-item"},c);a.appendChild(d)}},_createElement:function(a,b,c){if(void 0===a)return!1;void 0===c&&(c="");var d=document.createElement(a);if("object"==typeof b)for(var e in b)d.setAttribute(e,b[e]);Array.isArray(c)||(c=[c]);for(var f=0;f<c.length;f++)c[f].tagName?d.appendChild(c[f]):d.appendChild(document.createTextNode(c[f]));return d},_searchInArray:function(a,b){if(a&&b)for(i=0;i<a.length;i++)if(b==a[i])return!0;return!1}}}(),handleCommunitySubheaderActionsMenuEvents=function(){var a=document.getElementById("comm-shdr-actions-opener"),b=document.getElementById("comm-shdr-user-actions"),c=function(a){a.preventDefault(),d()?e():f()},d=function(){return sharedUi.Utils.hasClass(b,"comm-shdr-hidden")},e=function(){d()&&sharedUi.Utils.removeClass(b,"comm-shdr-hidden")},f=function(){d()||sharedUi.Utils.addClass(b,"comm-shdr-hidden")},g=function(c){c.target===a||b.contains(c.target)||f()};a.onclick=c,window.addEventListener("mouseup",g,!1),window.addEventListener("touchend",g,!1),window.addEventListener("keydown",function(a){27===a.which&&(f(),a.preventDefault())},!1)};document.addEventListener("DOMContentLoaded",function(){var a=window.headerInitArgs?window.headerInitArgs:window.header_init_args;communitySubheaderActionsMenu.init(a),handleCommunitySubheaderActionsMenuEvents()}),window.addEventListener("message",function(a){try{var b=JSON.parse(a.data);if(b.message&&"authIFrameLoaded"===b.message){var c=window.headerInitArgs?window.headerInitArgs:window.header_init_args;communitySubheaderActionsMenu.init(c)}}catch(a){}});