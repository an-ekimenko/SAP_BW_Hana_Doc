"use strict";jQuery(document).ready(function(t){return m=t,_=window.relatedContentWidgetSettings,a=function(){var s="No related content found.";function u(t){return'<li class="dm-widgetlist__item"><div class="dm-widget__contentMessage"><p>'.concat(t,"</p></div></li>")}return{loadRelatedContent:function(t,a){var d=a.id,l=a.type,e=a.title,i=a.primary_tag,n=_.isNewBlogDetailPage?"ul.ds-relatedContent__list":"ul.dm-widgetlist",r=t.find(n),c=r.attr("data-types"),o=parseInt(r.attr("data-limit"));m.ajax({url:_.contentServiceUrl,data:{topics:i,topicSwitch:!1,types:c,text:e,size:o+1},type:"GET",dataType:"json",beforeSend:function(){!function(t){m(t).append('<div class="dm-loading-indicator"><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar1"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar2"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar3"></div></div>')}(t)},complete:function(){!function(t){m(t).find(".dm-loading-indicator").remove()}(t)},success:function(t){if(void 0!==t.page&&0!==t.page.totalElements){var i="",n=!1;m.each(t._embedded.contents,function(t,a){if(n||t!==o)if(a.objectType===l&&void 0!==a.id&&a.id.match("_"+d+"$"))n=!0;else{a.author.url=_.profileUrl+"/"+a.author.userName,a.pub=new Date(a.published.split("+")[0]).toLocaleString("en-us",{month:"short",day:"2-digit",year:"numeric"});var e=function(t){var a=_.isNewBlogDetailPage,e=a?"ds-link ds-relatedContent__item-username":"dm-widget__article-username",i="";return t.author.displayName.startsWith("Former")&&(e+=" disabled",i='aria-disabled="true"'),a?'<li class="ds-relatedContent__item">\n                          <a class="ds-link ds-link--blue ds-relatedContent__item-text" href="'.concat(t.url,'" title="').concat(t.displayName,'">').concat(t.displayName,'</a>\n                          <div class="ds-relatedContent__item-metadata">By\n                            <a target="_blank" class="').concat(e,'" href="').concat(t.author.url,'" ').concat(i,' title="">').concat(t.author.displayName,"</a>").concat(t.pub,"\n                          </div>\n                        </li>"):'<li class="dm-widgetlist__item">\n                          <div class="dm-widget__article">\n                            <div class="dm-widget__article-content-box">\n                              <div class="dm-widget__article-text">\n                                <a class="dm-widget__article-title" href="'.concat(t.url,'" title="">').concat(t.displayName,'</a>\n                                <div class="dm-widget__article-metadata">By\n                                  <a target="_blank" class="').concat(e,'" href="').concat(t.author.url,'" ').concat(i,' title="">').concat(t.author.displayName,"</a>, ").concat(t.pub,"\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </li>")}(a);i+=e}}),i.length?r.append(i):r.append(u(s))}else r.append(u(s))},error:function(t){r.append(u("We are sorry but we are currently unable to retrieve related content."))}})}}}(),void m(_.widgetSelector).each(function(t){a.loadRelatedContent(m(this),_.targetContentItem);var i="ds-side-bar-widget--collapsed";m(this).on("click",".ds-side-bar-widget__heading--collapsible",function(t){var a=m(this).closest(".ds-side-bar-widget");a.toggleClass(i);var e=a.hasClass(i);m(this).attr("aria-expanded",!e)})});var m,_,a});