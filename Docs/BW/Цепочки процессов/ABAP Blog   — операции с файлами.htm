<!DOCTYPE html>
<html id="arve" lang="ru-RU"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="https://abap-blog.ru/xmlrpc.php">
	<title>ABAP Blog | Файловый интерфейс — операции с файлами</title>

<!-- All in One SEO Pack 2.10.1 by Michael Torbert of Semper Fi Web Design[328,398] -->

<meta name="keywords" content="работа с файлами,файл,файловый интерфейс,Работа с файлами">

<link rel="canonical" href="https://abap-blog.ru/files/fajlovyj-interfejs-operacii-s-fajlami/">
			<script type="text/javascript">
				window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
				ga('create', 'UA-47423267-1', 'auto');
				// Plugins
				
				ga('send', 'pageview');
			</script>
			<script async="" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/analytics.js"></script>
			<!-- /all in one seo pack -->
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog » Лента" href="https://abap-blog.ru/feed/">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog » Лента комментариев" href="https://abap-blog.ru/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog » Лента комментариев к «Файловый интерфейс — операции с файлами»" href="https://abap-blog.ru/files/fajlovyj-interfejs-operacii-s-fajlami/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/abap-blog.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.0.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="crayon-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/crayon.css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-copy-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/classic-copy.css" media="all">
<link rel="stylesheet" id="crayon-font-consolas-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/consolas.css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/style_002.css" media="all">
<link rel="stylesheet" id="disqus_rcw-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/disqus_rcw.css" media="all">
<link rel="stylesheet" id="flat-fonts-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/css.css" media="all">
<link rel="stylesheet" id="flat-theme-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/flat.css" media="all">
<link rel="stylesheet" id="flat-style-css" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/style.css" media="all">
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/jquery_002.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/jquery-migrate.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/crayon.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/image-captcha.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/rss-slider-on-post.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/flat.js"></script>
<!--[if lt IE 9]>
<script src='https://abap-blog.ru/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2'></script>
<![endif]-->
<link rel="https://api.w.org/" href="https://abap-blog.ru/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://abap-blog.ru/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://abap-blog.ru/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Файловый интерфейс ABAP – контроль доступа и блокировки" href="https://abap-blog.ru/files/fajlovyj-interfejs-abap-kontrol-dostupa-i-blokirovki/">
<link rel="next" title="Чтение подробного текста из класса сообщений" href="https://abap-blog.ru/osnovy-abap/chtenie-podrobnogo-teksta-iz-klassa-soobshhenij/">
<meta name="generator" content="WordPress 5.0.3">
<link rel="shortlink" href="https://abap-blog.ru/?p=1660">
<link rel="alternate" type="application/json+oembed" href="https://abap-blog.ru/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fabap-blog.ru%2Ffiles%2Ffajlovyj-interfejs-operacii-s-fajlami%2F">
<link rel="alternate" type="text/xml+oembed" href="https://abap-blog.ru/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fabap-blog.ru%2Ffiles%2Ffajlovyj-interfejs-operacii-s-fajlami%2F&amp;format=xml">

<!-- WP Youtube Player 1.7 by unijimpe -->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #272727; }@media (max-width: 1199px) { #page &gt; .container { background-color: #272727; } }body { background-size: initial; }</style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Roboto}h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" media="screen">body{position:relative}#dynamic-to-top{display:none;overflow:hidden;width:auto;z-index:90;position:fixed;bottom:20px;right:20px;top:auto;left:auto;font-family:sans-serif;font-size:1em;color:#fff;text-decoration:none;padding:17px 16px;border:1px solid #000;background:#272727;-webkit-background-origin:border;-moz-background-origin:border;-icab-background-origin:border;-khtml-background-origin:border;-o-background-origin:border;background-origin:border;-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-icab-background-clip:padding-box;-khtml-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-webkit-border-radius:30px;-moz-border-radius:30px;-icab-border-radius:30px;-khtml-border-radius:30px;border-radius:30px}#dynamic-to-top:hover{background:#4e9c9c;background:#272727 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#272727 -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#272727 linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );cursor:pointer}#dynamic-to-top:active{background:#272727;background:#272727 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#272727 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#272727 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )}#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover{outline:none}#dynamic-to-top span{display:block;overflow:hidden;width:14px;height:12px;background:url( https://abap-blog.ru/wp-content/plugins/dynamic-to-top/css/images/up.png )no-repeat center center}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://abap-blog.ru/wp-content/uploads/2014/10/escheresque_ste.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
<meta data-pso-pv="1.2.1" data-pso-pt="singlePost" data-pso-th="0dfa7446cffd9b7cc45c776a57ffc289"><script async="" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/adsbygoogle.js"></script><script pagespeed_no_defer="" data-pso-version="20170403_083938">window.dynamicgoogletags={config:[]};dynamicgoogletags.config=["ca-pub-1967928460448755",[[]],[[[],[],[]]],"WordPressSinglePost","8406335420",null,0.01,null,[null,1209600000],0.01,0,null,null,"http://abap-blog.ru"];(function(){var h=this,aa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},p=function(a){return"number"==typeof a},ba=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},r=function(a,b){function c(){}c.prototype=b.prototype;a.Ra=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ta=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,
d)}};var ca=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},da=function(a,b){return a<b?-1:a>b?1:0},ea=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var fa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};var ga=function(a){ga[" "](a);return a};ga[" "]=function(){};var ia=function(a,b){var c=ha;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var t;a:{var ja=h.navigator;if(ja){var ka=ja.userAgent;if(ka){t=ka;break a}}t=""}var v=function(a){return-1!=t.indexOf(a)};var la=v("Opera"),w=v("Trident")||v("MSIE"),ma=v("Edge"),na=v("Gecko")&&!(-1!=t.toLowerCase().indexOf("webkit")&&!v("Edge"))&&!(v("Trident")||v("MSIE"))&&!v("Edge"),oa=-1!=t.toLowerCase().indexOf("webkit")&&!v("Edge"),pa=function(){var a=h.document;return a?a.documentMode:void 0},qa;
a:{var ra="",sa=function(){var a=t;if(na)return/rv\:([^\);]+)(\)|;)/.exec(a);if(ma)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(oa)return/WebKit\/(\S+)/.exec(a);if(la)return/(?:Version)[ \/]?(\S+)/.exec(a)}();sa&&(ra=sa?sa[1]:"");if(w){var ta=pa();if(null!=ta&&ta>parseFloat(ra)){qa=String(ta);break a}}qa=ra}
var ua=qa,ha={},va=function(a){ia(a,function(){for(var b=0,c=ca(String(ua)).split("."),d=ca(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=da(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||da(0==g[2].length,0==k[2].length)||da(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},wa;var xa=h.document;
wa=xa&&w?pa()||("CSS1Compat"==xa.compatMode?parseInt(ua,10):5):void 0;var x=function(){},ya="function"==typeof Uint8Array,z=function(a,b,c){a.a=null;b||(b=[]);a.Va=void 0;a.M=-1;a.l=b;a:{if(a.l.length){b=a.l.length-1;var d=a.l[b];if(d&&"object"==typeof d&&"array"!=aa(d)&&!(ya&&d instanceof Uint8Array)){a.R=b-a.M;a.G=d;break a}}a.R=Number.MAX_VALUE}a.Ua={};if(c)for(b=0;b<c.length;b++)d=c[b],d<a.R?(d+=a.M,a.l[d]=a.l[d]||y):a.G[d]=a.G[d]||y},y=[],A=function(a,b){if(b<a.R){b+=a.M;var c=a.l[b];return c===y?a.l[b]=[]:c}c=a.G[b];return c===y?a.G[b]=[]:c},Aa=function(a){a=
A(za,a);return null==a?a:+a},B=function(a,b,c){b<a.R?a.l[b+a.M]=c:a.G[b]=c},C=function(a,b,c){a.a||(a.a={});if(!a.a[c]){var d=A(a,c);d&&(a.a[c]=new b(d))}return a.a[c]},D=function(a,b,c){a.a||(a.a={});if(!a.a[c]){for(var d=A(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.a[c]=e}b=a.a[c];b==y&&(b=a.a[c]=[]);return b},Ba=function(a,b,c){a.a||(a.a={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=E(c[e]);a.a[b]=c;B(a,b,d)},Ca=function(a){if(a.a)for(var b in a.a){var c=a.a[b];if("array"==aa(c))for(var d=
0;d<c.length;d++)c[d]&&E(c[d]);else c&&E(c)}},E=function(a){Ca(a);return a.l};x.prototype.toString=function(){Ca(this);return this.l.toString()};var Da=function(a){var b;if("array"==aa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Da(b):b);return c}if(ya&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Da(b):b);return c};var Ea=function(a,b){this.events=[];this.Ga=b||h;var c=null;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.events=b.google_js_reporting_queue,c=b.google_measure_js_timing);this.ia=null!=c?c:Math.random()<a};Ea.prototype.disable=function(){fa(this.events,this.ya,this);this.events.length=0;this.ia=!1};Ea.prototype.ya=function(a){var b=this.Ga.performance;a&&b&&b.clearMarks&&(b.clearMarks("goog_"+a.uniqueId+"_start"),b.clearMarks("goog_"+a.uniqueId+"_end"))};var Fa=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});h.addEventListener("test",null,b)}catch(c){}return a}();var Ha=function(){var a=Ga;try{var b;if(b=!!a&&null!=a.location.href)a:{try{ga(a.foo);b=!0;break a}catch(c){}b=!1}return b}catch(c){return!1}},Ia=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(void 0,a[c],c,a)};var Ja=function(a,b,c,d,e){this.la=c||4E3;this.H=a||"&";this.wa=b||",$";this.T=void 0!==d?d:"trn";this.Sa=e||null;this.va=!1;this.V={};this.Ja=0;this.L=[]},Ma=function(a,b,c,d){b=b+"//"+c+d;var e=Ka(a)-d.length-0;if(0>e)return"";a.L.sort(function(a,b){return a-b});d=null;c="";for(var f=0;f<a.L.length;f++)for(var g=a.L[f],k=a.V[g],m=0;m<k.length;m++){if(!e){d=null==d?g:d;break}var l=La(k[m],a.H,a.wa);if(l){l=c+l;if(e>=l.length){e-=l.length;b+=l;c=a.H;break}else a.va&&(c=e,l[c-1]==a.H&&--c,b+=l.substr(0,
c),c=a.H,e=0);d=null==d?g:d}}f="";a.T&&null!=d&&(f=c+a.T+"="+(a.Sa||d));return b+f+""},Ka=function(a){if(!a.T)return a.la;var b=1,c;for(c in a.V)b=c.length>b?c.length:b;return a.la-a.T.length-b-a.H.length-1},La=function(a,b,c,d,e){var f=[];Ia(a,function(a,k){(a=Na(a,b,c,d,e))&&f.push(k+"="+a)});return f.join(b)},Na=function(a,b,c,d,e){if(null==a)return"";b=b||"&";c=c||",$";"string"==typeof c&&(c=c.split(""));if(a instanceof Array){if(d=d||0,d<c.length){for(var f=[],g=0;g<a.length;g++)f.push(Na(a[g],
b,c,d+1,e));return f.join(c[d])}}else if("object"==typeof a)return e=e||0,2>e?encodeURIComponent(La(a,b,c,d,e+1)):"...";return encodeURIComponent(String(a))};var Ra=function(a,b,c,d){var e=Pa;if((c?e.Pa:Math.random())<(d||e.za))try{var f;b instanceof Ja?f=b:(f=new Ja,Ia(b,function(a,b){var c=f,d=c.Ja++,e={};e[b]=a;a=[e];c.L.push(d);c.V[d]=a}));var g=Ma(f,e.Ma,e.Ba,e.La+a+"&");g&&Qa(g)}catch(k){}},Qa=function(a){h.google_image_requests||(h.google_image_requests=[]);var b=h.document.createElement("img");b.src=a;h.google_image_requests.push(b)};var Sa;if(!(Sa=!na&&!w)){var Ta;if(Ta=w)Ta=9<=Number(wa);Sa=Ta}Sa||na&&va("1.9.1");w&&va("9");var F=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};F.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};var Ua=document,Va=window;var Wa=!!window.google_async_iframe_id,Ga=Wa&&window.parent||window;var Pa,G;if(Wa&&!Ha()){var Xa="."+Ua.domain;try{for(;2<Xa.split(".").length&&!Ha();)Ua.domain=Xa=Xa.substr(Xa.indexOf(".")+1),Ga=window.parent}catch(a){}Ha()||(Ga=window)}G=Ga;var Ya=new Ea(1,G);Pa=new function(){this.Ma="http:"===Va.location.protocol?"http:":"https:";this.Ba="pagead2.googlesyndication.com";this.La="/pagead/gen_204?id=";this.za=.01;this.Pa=Math.random()};
if("complete"==G.document.readyState)G.google_measure_js_timing||Ya.disable();else if(Ya.ia){var Za=function(){G.google_measure_js_timing||Ya.disable()};G.addEventListener?G.addEventListener("load",Za,Fa?void 0:!1):G.attachEvent&&G.attachEvent("onload",Za)};var H=function(a){this.na={};this.na.c=a;this.o=[];this.u=null;this.v=[];this.ea=0};H.prototype.g=function(a){for(var b=0;b<this.o.length;b++)if(this.o[b]==a)return this;this.o.push(a);return this};var $a=function(a,b){a.u=a.u?a.u:b;return a};H.prototype.C=function(a){for(var b=0;b<this.v.length;b++)if(this.v[b]==a)return this;this.v.push(a);return this};
H.prototype.getData=function(a){var b=this.na,c={},d;for(d in b)c[d]=b[d];0<this.ea&&(c.t=this.ea);c.err=this.o.join();c.warn=this.v.join();if(this.u){c.excp_n=this.u.name;c.excp_m=this.u.message&&this.u.message.substring(0,512);if(b=this.u.stack){d=this.u.stack;try{-1==d.indexOf("")&&(d="\n"+d);for(var e;d!=e;)e=d,d=d.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=d.replace(/\n */g,"\n")}catch(f){b=""}}c.excp_s=b}c.w=0<a.innerWidth?a.innerWidth:null;c.h=0<a.innerHeight?a.innerHeight:
null;return c};var bb=function(a,b){ab(a,a.Ea,a.X,b)},ab=function(a,b,c,d){var e=d.u;d=d.getData(a.K);a.Ha?(d.type=b,a.K.console.log(d),e&&a.K.console.error(e)):0<c&&(d.r=c,Ra(b,d,"jserror"!=b,c))};var I=function(a){return a.dynamicgoogletags=a.dynamicgoogletags||{}};var J=function(a){z(this,a,cb)};r(J,x);var cb=[4];J.prototype.getId=function(){return A(this,3)};var K=function(a){z(this,a,null)};r(K,x);var db=function(a){z(this,a,null)};r(db,x);var L=function(a){return C(a,J,1)},fb=function(a){z(this,a,eb)};r(fb,x);var eb=[1];fb.prototype.i=function(){return D(this,db,1)};fb.prototype.pa=function(a){Ba(this,1,a)};var M=function(a){z(this,a,gb)};r(M,x);var gb=[2];M.prototype.ka=function(){return A(this,3)};M.prototype.qa=function(a){B(this,3,a)};var hb=function(a){z(this,a,null)};r(hb,x);var N=function(a){z(this,a,ib)};r(N,x);var ib=[1,2,3];N.prototype.i=function(){return D(this,db,2)};
N.prototype.pa=function(a){Ba(this,2,a)};var O=function(a){z(this,a,jb)};r(O,x);var jb=[3];O.prototype.A=function(){return A(this,1)};O.prototype.D=function(){return C(this,fb,2)};O.prototype.O=function(){return A(this,4)};O.prototype.ka=function(){return A(this,5)};O.prototype.qa=function(a){B(this,5,a)};O.prototype.N=function(){return C(this,kb,9)};var kb=function(a){z(this,a,null)};r(kb,x);var lb=function(a){this.m=a;this.sa=[]};lb.prototype.f=function(){return 0<D(this.m,N,3).length?D(this.m,N,3)[0]:null};var mb=function(a){var b=["adsbygoogle-placeholder"];a=a.className?a.className.split(/\s+/):[];for(var c={},d=0;d<a.length;++d)c[a[d]]=!0;for(d=0;d<b.length;++d)if(!c[b[d]])return!1;return!0};var nb=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=ea(d.Wa);a[e]=d.value}},qb=function(a,b){var c=ob;b.setAttribute("data-adsbygoogle-status","reserved");b={element:b};(c=c&&c.Na)&&(b.params=c);pb(a).push(b)},pb=function(a){return a.adsbygoogle=a.adsbygoogle||[]};var rb=function(a,b){if(!a)return!1;a=b.getComputedStyle?b.getComputedStyle(a,null):a.currentStyle;if(!a)return!1;a=a.cssFloat||a.styleFloat;return"left"==a||"right"==a},sb=function(a){for(a=a.previousSibling;a&&1!=a.nodeType;)a=a.previousSibling;return a?a:null},tb=function(a){return!!a.nextSibling||!!a.parentNode&&tb(a.parentNode)};var ub=function(a,b){var c=a.length;if(null!=c)for(var d=0;d<c;d++)b.call(void 0,a[d],d)};var vb=function(a,b,c,d){this.ma=a;this.$=b;this.aa=c;this.P=d};vb.prototype.query=function(a){var b=[];try{b=a.querySelectorAll(this.ma)}catch(f){}if(!b.length)return[];a=b;b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];a=c}else a=[];a=wb(this,a);p(this.$)&&(b=this.$,0>b&&(b+=a.length),a=0<=b&&b<a.length?[a[b]]:[]);if(p(this.aa)){b=[];for(c=0;c<a.length;c++){var d=xb(a[c]),e=this.aa;0>e&&(e+=d.length);0<=e&&e<d.length&&b.push(d[e])}a=b}return a};
vb.prototype.toString=function(){return JSON.stringify({nativeQuery:this.ma,occurrenceIndex:this.$,paragraphIndex:this.aa,ignoreMode:this.P})};
var wb=function(a,b){if(null==a.P)return b;switch(a.P){case 1:return b.slice(1);case 2:return b.slice(0,b.length-1);case 3:return b.slice(1,b.length-1);case 0:return b;default:throw Error("Unknown ignore mode: "+a.P);}},xb=function(a){var b=[];ub(a.getElementsByTagName("p"),function(a){100<=yb(a)&&b.push(a)});return b},yb=function(a){if(3==a.nodeType)return a.length;if(1!=a.nodeType||"SCRIPT"==a.tagName)return 0;var b=0;ub(a.childNodes,function(a){b+=yb(a)});return b},zb=function(a){return 0==a.length||
isNaN(a[0])?a:"\\"+(30+parseInt(a[0],10))+" "+a.substring(1)};var Ab=function(a,b){var c=0,d=A(a,6);if(void 0!==d)switch(d){case 0:c=1;break;case 1:c=2;break;case 2:c=3}var d=null,e=A(a,7);if(A(a,1)||a.getId()||0<A(a,4).length){var f=a.getId(),g=A(a,1),e=A(a,4),d=A(a,2);a=A(a,5);var k="";g&&(k+=g);f&&(k+="#"+zb(f));if(e)for(f=0;f<e.length;f++)k+="."+zb(e[f]);d=(e=k)?new vb(e,d,a,c):null}else e&&(d=new vb(e,A(a,2),A(a,5),c));return d?d.query(b):[]},Bb=function(a,b){if(a==b)return!0;if(!a||!b||A(a,1)!=A(b,1)||A(a,2)!=A(b,2)||a.getId()!=b.getId()||A(a,7)!=A(b,
7)||A(a,5)!=A(b,5)||A(a,6)!=A(b,6))return!1;a=A(a,4);b=A(b,4);if(a||b)if(a&&b&&a.length==b.length)for(var c=0;c<a.length;c++){if(a[c]!=b[c])return!1}else return!1;return!0};var Cb=function(a){a=a.document;return("CSS1Compat"==a.compatMode?a.documentElement:a.body)||{}},Db=function(a){return void 0===a.pageYOffset?(a.document.documentElement||a.document.body.parentNode||a.document.body).scrollTop:a.pageYOffset};var Eb=function(a,b){b=L(b);if(!b)return null;a=Ab(b,a);return 0<a.length?a[0]:null},Gb=function(a,b){b=Fb(a,b,!0);return p(b)&&!(b<=Cb(a).clientHeight)},Hb=function(a,b){return a.body?b-a.body.getBoundingClientRect().top:b},Fb=function(a,b,c){if(!c||!p(A(b,8))){var d=Eb(a.document,b);if(d){var e=null!=C(b,K,2)?A(C(b,K,2),3):void 0;c=a.document.createElement("div");c.className="googlepublisherpluginad";var f=c.style;f.textAlign="center";f.width="100%";f.height="0px";f.clear=e?"both":"none";Ib(c,d,
A(b,3));d=c.getBoundingClientRect().top+Db(a);c.parentNode.removeChild(c);B(b,8,d)}}b=A(b,8);return p(b)?b-Db(a):null},Jb={0:0,1:1,2:2,3:3},Kb={0:"auto",1:"horizontal",2:"vertical",3:"rectangle"},Lb=function(a,b){a.sort(function(a,d){a=Fb(b,a,!0);a=p(a)?a:Number.POSITIVE_INFINITY;d=Fb(b,d,!0);d=p(d)?d:Number.POSITIVE_INFINITY;return a-d})},Ib=function(a,b,c){switch(Jb[c]){case 0:b.parentNode&&b.parentNode.insertBefore(a,b);break;case 3:if(c=b.parentNode){var d=b.nextSibling;if(d&&d.parentNode!=c)for(;d&&
8==d.nodeType;)d=d.nextSibling;c.insertBefore(a,d)}break;case 1:b.insertBefore(a,b.firstChild);break;case 2:b.appendChild(a)}if(1!=b.nodeType?0:"INS"==b.tagName&&mb(b))b.style.display="block"};var ob=new function(){this.ha="googlepublisherpluginad";this.Na={google_tag_origin:"pso"}},P=function(a){this.b=a;this.j=[];this.da=0;this.o=[];this.v=[];this.Y=null;this.oa=!1},Mb=function(a,b){a=C(a.f(),J,4);if(!(a&&b&&A(b,1)==A(a,1)&&b.getId()==a.getId()&&p(A(b,2))&&p(A(b,5))))return!1;a=A(a,4);b=A(b,4);if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(b[c]!=a[c])return!1;return!0},Nb=function(a){var b=p(void 0)?void 0:20,c=a.f(),d=c.i(),e=C(c,J,4);if(!(a.oa||0>=b)&&e&&0!=Ab(e,a.b.document).length){a.oa=
!0;for(var c=[],f=0;f<d.length;++f){var g=d[f],k=L(g);if(Mb(a,k)){var m=A(k,2),k=A(k,5);null!=m&&null!=k&&0<=m&&0<=k&&(!c[m]||A(L(c[m]),5)<k)&&(c[m]=g)}}k=0;d=Ab(e,a.b.document);for(m=0;m<c.length&&k<b;++m){var e=k,f=a,l=d[m],g=c[m],k=b-k,u=f.f().i(),q=0;if(l&&g){l=xb(l).length;switch(A(L(g),6)){case 0:case 1:--l;break;case 2:l-=2}for(var n=A(L(g),5)+1;n<l&&q<k;++n){var Oa=new g.constructor(Da(E(g))),Hc=L(Oa);B(Hc,5,n);u.push(Oa);q++}}q&&f.f().pa(u);k=e+q}}};
P.prototype.g=function(a){for(var b=0;b<this.o.length;++b)if(this.o[b]==a)return;this.o.push(a)};P.prototype.C=function(a){for(var b=0;b<this.v.length;++b)if(this.v[b]==a)return;this.v.push(a)};
var Ob=function(a,b,c){var d=Jb[A(b,3)],e=Eb(a.b.document,b);if(e){var f=L(b)?A(L(b),2):void 0,g;a:{g=a.b;if(null!=f)switch(d){case 0:g=rb(sb(e),g);break a;case 3:g=rb(e,g);break a;case 2:f=e.lastChild;g=rb(f?1==f.nodeType?f:sb(f):null,g);break a}g=!1}if(!g&&(c||2!=d||tb(e))&&(c=1==d||2==d?e:e.parentNode,!c||(1!=c.nodeType?0:"INS"==c.tagName&&mb(c))||!(0>=c.offsetWidth)))a:if(A(b,7))a.C(8);else{b:if(A(b,5))c=A(b,5);else{if(c=Q(a).f())if(c=A(c,3),a.da<c.length){c=c[a.da++];break b}a.g(4);c=null}if(null!=
c){B(b,7,!0);d=[];(g=a.O())&&d.push(g);g=Q(a).sa;for(f=0;f<g.length;++f)d.push(g[f]);p(A(b,9))&&d.push("pso-lv-"+A(b,9));var k=a.b.document;g=a.A();var f=A(b,6),f=null!=f?Kb[f]:f,m=C(b,K,2),l={};m&&(l.ra=A(m,1),l.ga=A(m,2),l.xa=!!A(m,3));var m=c,u=ob,q=k.createElement("div"),n=q.style;n.textAlign="center";n.width="100%";n.height="auto";n.clear=l.xa?"both":"none";l.Ka&&nb(n,l.Ka);k=k.createElement("ins");n=k.style;n.display="block";n.margin="auto";n.backgroundColor="transparent";l.ra&&(n.marginTop=
l.ra);l.ga&&(n.marginBottom=l.ga);l.ta&&nb(n,l.ta);q.appendChild(k);k.setAttribute("data-ad-format",f?f:"auto");if(f=u&&u.ha)q.className=f;k.className="adsbygoogle";k.setAttribute("data-ad-client",g);m&&k.setAttribute("data-ad-slot",m);d.length&&k.setAttribute("data-ad-channel",d.join("+"));Ib(q,e,A(b,3));try{qb(a.b,k)}catch(Oa){A(b,5)!=c&&a.da--;B(b,7,!1);a.C(6);q&&q.parentNode&&q.parentNode.removeChild(q);break a}a.j.push(q)}}}},Pb=function(a,b){for(var c=Number.POSITIVE_INFINITY,d=0;d<a.j.length;++d)var e=
a.j[d].getBoundingClientRect().top,f=a.j[d].getBoundingClientRect().bottom,c=Math.min(c,b<e?e-b:f<b?b-f:0);return c},Q=function(a){a=I(a.b).ps||null;if(!a)throw Error("No placementState");return a},Qb=function(a,b){var c=Q(a).m;if(!c||!c.A())return a.g(5),!1;c=D(c,N,3)[0];return c?A(c,3).length<b?(a.g(4),a.g(5),!1):!0:(a.g(5),!1)};P.prototype.A=function(){return Q(this).m.A()||""};P.prototype.O=function(){return Q(this).m.O()||void 0};P.prototype.D=function(){return Q(this).m.D()||new fb};
P.prototype.f=function(){var a=Q(this).f();if(!a)throw Error("No mConfig");return a};var Rb=function(a){a=A(a.f(),6);return null!=a&&0<a};var Sb=function(){this.I=this.J=this.ba=null};var R=function(a){P.call(this,a)};r(R,P);R.prototype.apply=function(a){var b;(b=Q(this).m)&&b.A()&&b.D()?b=!0:(this.g(5),b=!1);if(b){b=this.D().i();for(var c=0;c<b.length;c++){var d=b[c];A(d,7)||Ob(this,d,a)}}};R.prototype.B=function(){return(0==this.D().i().length||0<this.j.length)&&0==this.o.length};var Tb=function(a){P.call(this,a);if(Qb(this,0)){a=this.D().i();for(var b=this.f().i(),c=0;c<a.length;c++){var d=a[c],e;a:{e=d;var f=b;if(e&&L(e))for(var g=0;g<f.length;g++){var k=f[g];if(A(e,3)==A(k,3)&&Bb(L(e),L(k))){e=k;break a}}e=null}e&&C(e,K,2)&&(e=C(e,K,2),d.a||(d.a={}),f=e?E(e):e,d.a[2]=e,B(d,2,f))}}};r(Tb,R);var Vb=function(a,b){var c=void 0===b.pageXOffset?(b.document.documentElement||b.document.body.parentNode||b.document.body).scrollLeft:b.pageXOffset,d=Db(b);if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),Ub(a)?new F(a.top+d,a.right+c,a.bottom+d,a.left+c):new F(0,0,0,0);b=b.document.createRange();b.selectNodeContents(a);return b.collapsed?new F(0,0,0,0):b.getBoundingClientRect?(a=b.getBoundingClientRect(),Ub(a)?new F(a.top+d,a.right+c,a.bottom+d,a.left+c):new F(0,0,0,0)):new F(0,0,0,
0)},Ub=function(a){return!!a&&p(a.top)&&!isNaN(a.top)&&p(a.right)&&!isNaN(a.right)&&p(a.bottom)&&!isNaN(a.bottom)&&p(a.left)&&!isNaN(a.left)};var $b=function(a){this.K=a;this.Fa=Wb(a);this.ua=S("ins.adsbygoogle",a);this.fa=Xb(a);this.Oa=S("[__lsu_res=reserved]",a);this.U=[];a=Yb(this);for(var b=0;b<a.length;b++)this.U.push(new Zb(a[b]))},Wb=function(a){var b=a.googletag;if(!b||"function"!=typeof b.pubads)return S("div[id^=div-gpt-ad]",a);var c=[];try{for(var d=b.pubads().getSlots(),b=0;b<d.length;b++){var e=d[b].getSlotElementId(),f=a.document.getElementById(e);null!=f&&c.push(f)}}catch(g){Ra("ladd_evt",{ok:0,err:g.toString()},!0,.1)}return c},
Xb=function(a){return S("iframe[id^=aswift_],iframe[id^=google_ads_frame]",a)},S=function(a,b){return Array.prototype.slice.call(b.document.querySelectorAll(a))},Yb=function(a){return[].concat(a.Fa,a.ua,a.fa,a.Oa)},Zb=function(a){this.Ca=a;this.W=null};var T=function(a){P.call(this,a)};r(T,P);T.prototype.apply=function(){};T.prototype.B=function(){var a;if(Rb(this)){a=this.b;var b=Wb(a);a=0<[].concat(b,S("ins.adsbygoogle",a),Xb(a),S("[__lsu_res=reserved]",a)).length}else a=!0;return a};var ac=function(a){P.call(this,a);this.F=null};r(ac,P);
ac.prototype.apply=function(a){if(a&&Qb(this,2)){Nb(this);a=Cb(this.b).clientHeight||640;null==this.F&&(this.F=new $b(this.b));var b=this.F.fa.length;if(!(5<=b)){var b=Math.min(2,5-b),c=this.f().i();Lb(c,this.b);for(var d=0;d<c.length&&this.j.length<b;++d){var e=c[d];if(Gb(this.b,e)){var f=Fb(this.b,e,!0);if(void 0!==f){var g;a:{g=this.F;for(var k=a,m=f,l=0;l<g.U.length;l++){var u=m,q=k,n;n=g.U[l];n.W||(n.W=Vb(n.Ca,g.K));n=n.W;if(n.top-q<u&&u<n.bottom+q){g=!0;break a}}g=!1}g||Pb(this,f)<a||Ob(this,
e,!0)}}}0==this.j.length&&this.C(1)}}};ac.prototype.B=function(){return Rb(this)?0<Yb(this.F).length:!0};var bc=function(a){P.call(this,a);this.Z=!1};r(bc,T);
bc.prototype.apply=function(a){if(a&&!this.Z){var b;a:{var c=this.b.document;b=c.body;if(a&&b){a=this.A();var d=ob,e=c.createElement("div");e.style.display="block";if(d=d&&d.ha)e.className=d;c=c.createElement("ins");c.className="adsbygoogle";c.setAttribute("data-ad-client",a);c.setAttribute("data-reactive-ad-format","1");c.style.display="none";e.appendChild(c);Ib(e,b,2);try{qb(this.b,c)}catch(f){this.C(6);e&&e.parentNode&&e.parentNode.removeChild(e);b=5;break a}this.j.push(e);b=0}else b=4}this.Z=
0==b}};bc.prototype.B=function(){return this.Z&&T.prototype.B.call(this)};var cc=function(a){P.call(this,a);a=Cb(a).clientHeight;this.Aa=.1*a;this.Ia=.75*a};r(cc,P);
cc.prototype.apply=function(a){if(Qb(this,3)&&!this.B()){Nb(this);var b=this.f().i();Lb(b,this.b);var c;c=this.Aa;var d;d=document;d=d.querySelectorAll?d.querySelectorAll("header,#header,#masthead,.header,.site-header"):[];for(var e=d.length,f=0<e?d[0]:null,g=1;g<e;g++)d[g].getBoundingClientRect().top<f.getBoundingClientRect().top&&(f=d[g]);(d=f)&&(d=d.getBoundingClientRect())&&d.top!=d.bottom&&d.left!=d.right&&(c=Math.min(c,Hb(document,d.bottom)));for(d=0;d<b.length&&3>this.j.length;d++){e=b[d];
var f=c,g=this.b.document,k=Fb(this.b,e,!1);!p(k)||Hb(g,k)<f?f=!1:(f=Pb(this,k),f=this.Ia<f);f&&(f=Gb(this.b,e),g=A(e,6)||0,f&&0==g&&B(e,6,3),!f&&a||Ob(this,e,a))}}};cc.prototype.B=function(){return 3==this.j.length};var U={};U[16]=R;U[17]=R;U[19]=T;U[29]=ac;U[33]=T;U[30]=bc;U[28]=cc;U[34]=cc;U[32]=Tb;U[1]=R;U[8]=T;U[11]=R;var dc=[19,29,33,30,16,32,17,34],ec=[16,19,33,30,17,1,6,8,11];var fc=function(a,b){a=a.google_ad_modifications=a.google_ad_modifications||{};(a.ad_channels=a.ad_channels||[]).push(b)};var gc=function(a){return 0>a||99<a?null:10>a?"0"+a:""+a};var hc=function(a,b){a=a.google_ad_modifications=a.google_ad_modifications||{};a=a.loeids=a.loeids||[];for(var c=0;c<b.length;c++)a.push(b[c])};var ic=function(a,b,c){this.ja=a;this.Da=c?c:new kb};ic.prototype.N=function(){return this.Da||new kb};var jc=function(a){if(!p(a))return!1;for(var b=0;b<dc.length;++b)if(a==dc[b])return!1;return!0},oc=function(){var a=V,b=kc,c=lc,d=b.f();if(!d)return mc(16);var e=null,f;a:{var g=D(d,M,1);for(f=0;f<g.length;++f){for(var k=!0,m=0;m<ec.length;++m)A(g[f],4)==ec[m]&&(k=!1);if(k){g=[];0==d.i().length&&g.push("PsoInvalidVariant");0==A(d,3).length&&g.push("PsoNoAdSlotCodes");f=g;break a}}f=[]}g=c.ja;if(0==f.length)a:{e=D(d,M,1);if(p(g))for(f=0;f<e.length;f++)if(k=e[f],U[A(k,4)])for(var m=D(k,hb,2),l=0;l<
m.length;l++){var u=m[l],q=A(u,1),u=A(u,2);if(p(q)&&p(u)&&g>=q&&g<=u){e=k;break a}}e=null}else for(k=0;k<f.length;++k)b.sa.push(f[k]);if(!e){f=D(d,M,1);e={};for(k=0;k<f.length;k++)e[A(f[k],4)]=!0;f=null;e[19]||e[8]?f=19:e[16]||e[1]?f=16:0<d.i().length&&0<A(d,3).length&&e[34]&&(f=34);null!=f?(e=new M,B(e,6,3),B(e,4,f),16!=f&&19!=f&&e.qa("pso-ama-fallback")):e=null}(f=!e)||(!p(g)||800>g?f=!1:820>g?(hc(a,["26835111"]),f=!0):(840>g&&hc(a,["26835112"]),f=!1));if(f)return mc(16);(g=e.ka())&&fc(a,g);g=!0;
A(c.N(),2)&&(Date.now?Date.now():+new Date)<A(c.N(),2)||(fc(a,"pso-ama-exd"),g=!1);A(b.m,11)&&(fc(a,"pso-ama-stl-tmp"),g=!1);g&&fc(a,"pso-ama-elig");2==A(e,6)&&(b=A(e,1),null!=b&&hc(a,[""+b]));if(g&&(2==A(e,6)||1==A(e,6))){d=D(d,M,1);if(null===c.ja)c=[];else{b={};c=[];for(g=0;g<d.length;g++)f=nc(d[g]),null==f||b[f]||(b[f]=!0,c.push(f));b=nc(e);if(null!=b){d=[];b=gc(b);g=!1;if(b)for(f=0;f<c.length;f++)k=gc(c[f]),b==k&&(g=!0),k&&d.push("950"+b+k);g||(d=[]);c=d}else c=[]}hc(a,c)}a=new Sb;a.ba=A(e,5);
a.J=A(e,4);return a},mc=function(a){var b=new Sb;b.J=a;return b},pc=function(a){a=a.google_ad_modifications=a.google_ad_modifications||{};a.remove_ads_by_default=!0;a.ad_whitelist=[{ad_tag_origin:"pso"}];a.ad_blacklist=[];a.space_collapsing="slot"},nc=function(a){var b;switch(A(a,6)){case 1:b=A(a,4);break;case 2:b=A(a,7)}return null!=b?b:null};var qc=function(a){this.document=a};var W=function(a){H.call(this,a)};r(W,H);W.prototype.getData=function(a){var b=W.Ra.getData.call(this,a),c;a:{c=(new qc(a.document)).document.getElementsByTagName("script");for(var d=0;d<c.length;++d)if(c[d].hasAttribute("data-pso-version")){c=c[d].getAttribute("data-pso-version");break a}c=null}b.sv=c;if(d=I(a).ps||null){c=d.m;var d=d.f(),e=b.wpc;b.wpc=null!=e?e:c.A();b.su=A(c,14);b.tn=c.O();b.ev=d&&A(d,5)}if(a=I(a).ss||null)b.s=a.J,b.st=a.ba;return b};var rc=null,sc=!1,vc=function(a){var b=tc,c=uc;b.addEventListener?(a&&b.addEventListener("DOMContentLoaded",a,!1),c&&b.addEventListener("load",c,!1)):b.attachEvent&&c&&b.attachEvent("onload",c)},xc=function(a){p(rc)&&a.clearInterval&&(a.clearInterval(rc),rc=null);sc||wc(a,!1);wc(a,!0)},yc=function(a,b){try{xc(b);var c=I(b).ss||null;if(c&&c.I){var d=c.I,e=d.B(),f=d.o,g=d.v,k=d.Y,m=d.j.length;e||0!=m||f.push(6);for(var l=new W(m),c=0;c<g.length;c++)l.C(g[c]);if(e&&0==f.length&&null===k)ab(a,a.Qa,a.ca,
l);else{for(e=0;e<f.length;e++)l.g(f[e]);bb(a,$a(l,k))}}else bb(a,(new W(0)).g(2))}catch(u){bb(a,$a((new W(0)).g(1),u))}I(b).loaded=!0},wc=function(a,b){b||(sc=!0);if((a=I(a).ss||null)&&a.I){a=a.I;try{a.apply(b)}catch(c){a.g(1),null===a.Y&&(a.Y=c)}}},zc=function(){wc(window,!1)};var X=new function(a){this.Qa="pso_success";this.Ea="pso_failure";this.X=this.ca=.01;this.Ha=!1;this.K=a}(window);
try{var V=window,za,Ac=I(V).config;za=Ac?new O(Ac):null;if(!za)throw Error("No config");var Bc=Aa(10),Cc=Aa(7);X.ca=null!=Bc?Bc:X.ca;X.X=null!=Cc?Cc:X.X;var kc=new lb(za),Dc=kc;I(V).ps=Dc;var Y,lc;if(v("iPad")||v("Android")&&!v("Mobile")||v("Silk")||!(v("iPod")||v("iPhone")||v("Android")||v("IEMobile")))Y=mc(16);else{var Ec,Fc=/^#([^=]*)=(\d+)$/.exec(V.location.hash);if((Ec=Fc&&3==Fc.length&&"pso_strategy"==Fc[1]?+Fc[2]:null)&&U[Ec]){Y=mc(Ec);var Gc=V;jc(Ec)&&pc(Gc)}else{var Ic=V,Jc=kc.m.N(),Z;try{var Kc=
parseInt(Ic.localStorage.getItem("PSO_EXP0"),10);Z=isNaN(Kc)?null:Kc}catch(a){Z=null}if(null==Z){Z=Math.floor(1024*Math.random());var Lc=Z;try{Ic.localStorage.setItem("PSO_EXP0",Lc.toString())}catch(a){}}lc=new ic(Z,0,Jc);Y=oc()}if(1==Y.ba){var Mc=V;jc(Y.J)&&pc(Mc)}}if(!Y)throw Error("No strategyState created!");var Nc=Y;I(V).ss=Nc;var Oc=V,Pc=Y,Qc=Pc.J;if(p(Qc)){var Rc=U[Qc];Qc&&Rc&&(Pc.I=new Rc(Oc))}var tc=V,uc=ba(yc,X,tc),Sc=ba(xc,tc);switch(tc.document.readyState){case "complete":uc();break;case "interactive":Sc();
vc();break;default:var Tc=tc,Uc=pb(Tc);Uc.loaded||(Uc.onload=zc);rc=Tc.setInterval(zc,10);vc(Sc)}}catch(a){bb(X,$a(new W(0),a))};})();
</script>	<script async="" type="text/javascript" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/count.js"></script><script type="text/javascript" async="" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/embed.htm"></script><link rel="preload" href="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/integrator.js" as="script"><script type="text/javascript" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/integrator.js"></script><script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/count-data.js"></script></head>

<body class="post-template-default single single-post postid-1660 single-format-standard custom-background" itemscope="" itemtype="http://schema.org/WebPage">
<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left">
			<div id="secondary" class="col-lg-3">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="https://abap-blog.ru/" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Блог ABAP разработчика</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-2313" class="fa fa-home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-2313"><a href="http://abap-blog.ru/">Главная</a>
<i class="fa fa-caret-right"></i><ul class="sub-menu">
	<li id="menu-item-2363" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2363"><a href="https://abap-blog.ru/category/osnovy-abap/">Основы ABAP</a></li>
	<li id="menu-item-2370" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2370"><a href="https://abap-blog.ru/category/slovar/">ABAP Словарь</a></li>
	<li id="menu-item-2364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2364"><a href="https://abap-blog.ru/category/sap-dynpro/">SAP Dynpro</a></li>
	<li id="menu-item-2906" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2906"><a href="https://abap-blog.ru/category/oop/">ООП и ООД</a></li>
	<li id="menu-item-2367" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2367"><a href="https://abap-blog.ru/category/files/">Работа с файлами</a></li>
	<li id="menu-item-2366" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2366"><a href="https://abap-blog.ru/category/database-work/">Работа с БД</a></li>
	<li id="menu-item-2368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2368"><a href="https://abap-blog.ru/category/network/">Сетевые технологии</a>
	<i class="fa fa-caret-right"></i><ul class="sub-menu">
		<li id="menu-item-2907" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2907"><a href="https://abap-blog.ru/category/network/web-dynpro/">Web Dynpro</a></li>
	</ul>
</li>
	<li id="menu-item-2369" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2369"><a href="https://abap-blog.ru/category/enhancements/">Расширения</a></li>
	<li id="menu-item-2365" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2365"><a href="https://abap-blog.ru/category/others/">Прочее</a></li>
</ul>
</li>
<li id="menu-item-2316" class="fa fa-info-circle menu-item menu-item-type-post_type menu-item-object-page menu-item-2316"><a href="https://abap-blog.ru/about/">Немного о себе</a></li>
</ul>					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
					<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="linkcat-2" class="widget widget_links">
						<h3 class="widget-title">Ссылки</h3>

	<ul class="xoxo blogroll">
<li><a href="https://www.sap.com/community/topics/abap.html" target="_blank">ABAP Community</a></li>
<li><a href="https://help.sap.com/http.svc/rc/abapdocu_753_index_htm/7.53/en-US/index.htm" title="Последняя версия справки по ABAP" target="_blank">ABAP Help</a></li>
<li><a href="http://dotabap.org/" target="_blank">Open Source Projects</a></li>
<li><a href="https://developers.sap.com/tutorial-navigator.html" target="_blank">SAP Tutorials</a></li>

	</ul>
					</aside>

					<aside id="endo_wrc_widget-2" class="widget widget_endo_wrc_widget">
						<h3 class="widget-title">Цитаты</h3>
<p>Чистый код может читаться и усовершенствоваться другими 
разработчиками, кроме его исходного автора. Для него написаны модульные и
 приемочные тесты. В чистом<br>
коде используются содержательные имена. Для выполнения одной операции в 
нем используется один путь (вместо нескольких разных). Чистый код 
обладает минимальными зависимостями, которые явно определены, и четким, 
минимальным API. Код должен быть грамотным, потому что в зависимости от 
языка не вся необходимая информация может быть четко выражена в самом 
коде.</p>
<p><strong>Д. Томас</strong></p>
					</aside>
					<aside id="disqus_recent_comments-2" class="widget disqus_recent_comments_widget_wrapper">
<aside id="disqus_rcw_title" class="widget">						<h3 class="widget-title">Комментарии</h3>
<ul class="disqus_rcw_comments_list" style="margin-left:0px">
					<li class="disqus_rcw_single">
						<div class="disqus_rcw_author_wrapper">
							<img class="disqus_rcw_avatar_html5" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/noavatar92.png" alt="Alex">
							<a href="https://disqus.com/by/disqus_Bkud0k7gDt/">
								<span class="disqus_rcw_author">Alex</span>
							</a>
						</div>
						<div class="disqus_rcw_clear"></div>
						<div class="disqus_rcw_content_wrapper">
							<a class="disqus_rcw_thread_title" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/">ABAP bad practice</a>
							<br>
							<a class="disqus_rcw_message" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/#comment-4128332950">Тема качества кода очень обширна и глубока. Статья лишь поверхностно коснулась темы, но тем не менее, хочется...</a>
						</div>
						<time datetime="10/4/2018" class="disqus_rcw_post_time_html5">10/4/2018</time>
					</li>
					<li class="disqus_rcw_single">
						<div class="disqus_rcw_author_wrapper">
							<img class="disqus_rcw_avatar_html5" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/noavatar92.png" alt="Alex">
							<a href="https://disqus.com/by/disqus_Bkud0k7gDt/">
								<span class="disqus_rcw_author">Alex</span>
							</a>
						</div>
						<div class="disqus_rcw_clear"></div>
						<div class="disqus_rcw_content_wrapper">
							<a class="disqus_rcw_thread_title" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/">ABAP bad practice</a>
							<br>
							<a class="disqus_rcw_message" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/#comment-4128325939">Добавлю про глобальные переменные. Написано все верно, но хочется обощить и дополнить. Во-первых, это...</a>
						</div>
						<time datetime="10/4/2018" class="disqus_rcw_post_time_html5">10/4/2018</time>
					</li>
					<li class="disqus_rcw_single">
						<div class="disqus_rcw_author_wrapper">
							<img class="disqus_rcw_avatar_html5" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/noavatar92.png" alt="Alex">
							<a href="https://disqus.com/by/disqus_Bkud0k7gDt/">
								<span class="disqus_rcw_author">Alex</span>
							</a>
						</div>
						<div class="disqus_rcw_clear"></div>
						<div class="disqus_rcw_content_wrapper">
							<a class="disqus_rcw_thread_title" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/">ABAP bad practice</a>
							<br>
							<a class="disqus_rcw_message" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/#comment-4128314473">Иногда в ФМ (или классе) может использоваться MASSAGE ... RAISING, и отсутствие EXCEPTION при вызове ФМ приведет к...</a>
						</div>
						<time datetime="10/4/2018" class="disqus_rcw_post_time_html5">10/4/2018</time>
					</li>
					<li class="disqus_rcw_single">
						<div class="disqus_rcw_author_wrapper">
							<img class="disqus_rcw_avatar_html5" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/noavatar92.png" alt="Alex">
							<a href="https://disqus.com/by/disqus_Bkud0k7gDt/">
								<span class="disqus_rcw_author">Alex</span>
							</a>
						</div>
						<div class="disqus_rcw_clear"></div>
						<div class="disqus_rcw_content_wrapper">
							<a class="disqus_rcw_thread_title" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/">ABAP bad practice</a>
							<br>
							<a class="disqus_rcw_message" href="https://abap-blog.ru/osnovy-abap/abap-bad-practice/#comment-4128312868">С чего вдруг FORM стали устаревшими? Зачем слепо писать везде классы, даже в простеньких отчетах? Зачастую код,...</a>
						</div>
						<time datetime="10/4/2018" class="disqus_rcw_post_time_html5">10/4/2018</time>
					</li>
					<li class="disqus_rcw_single">
						<div class="disqus_rcw_author_wrapper">
							<img class="disqus_rcw_avatar_html5" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/avatar92.jpg" alt="Ilya Kaznacheev">
							<a href="https://disqus.com/by/IlyaKaznacheev/">
								<span class="disqus_rcw_author">Ilya Kaznacheev</span>
							</a>
						</div>
						<div class="disqus_rcw_clear"></div>
						<div class="disqus_rcw_content_wrapper">
							<a class="disqus_rcw_thread_title" href="https://abap-blog.ru/osnovy-abap/dinamicheskoe-programmirovanie-v-abap/">Динамическое программирование в ABAP</a>
							<br>
							<a class="disqus_rcw_message" href="https://abap-blog.ru/osnovy-abap/dinamicheskoe-programmirovanie-v-abap/#comment-4013415435">Как-то год назад делал замер скорости при работе с таблицей в лупе с Field Symbol и со ссылкой на 7.4 - ощутимой...</a>
						</div>
						<time datetime="7/30/2018" class="disqus_rcw_post_time_html5">7/30/2018</time>
					</li></ul></aside>					</aside>
											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage">
							<div id="content" class="site-content" role="main" itemscope="" itemtype="http://schema.org/Article">
			<article id="post-1660" class="post-1660 post type-post status-publish format-standard hentry category-files tag-rabota-s-fajlami tag-fajl tag-fajlovyj-interfejs">
	<header class="entry-header">
		<h1 class="entry-title" itemprop="name">Файловый интерфейс — операции с файлами</h1>
							<div class="entry-meta"><span class="entry-date"><a href="https://abap-blog.ru/files/fajlovyj-interfejs-operacii-s-fajlami/" rel="bookmark"><time class="entry-date published" datetime="2013-12-09T11:26:57+00:00" itemprop="datepublished">09.12.2013</time></a></span> от <span class="author vcard" itemscope="" itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="https://abap-blog.ru/author/admin/" rel="author" itemprop="url"><span itemprop="name">Astrafox</span></a></span><span class="sep">·</span><span class="comments-link"><a href="https://abap-blog.ru/files/fajlovyj-interfejs-operacii-s-fajlami/#disqus_thread" itemprop="discussionUrl" data-disqus-identifier="1660 http://abap-blog.ru/?p=1660">0 комментариев</a></span></div>
			</header>
		
	
	<div class="entry-content" itemprop="articleBody">
				<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/file-transfers-_114260033.s300x300.jpg"><img class="size-full wp-image-1661 alignleft" style="margin: 10px 30px 10px 10px;" alt="file-transfers-_114260033.s300x300" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/file-transfers-_114260033.jpg" width="300" height="232"></a><strong>Файловый интерфейс и юникод</strong></p>
<p>Поскольку содержимое файлов отражает структуру данных, обрабатываемую
 в памяти, файловый интерфейс в юникодных системах должен позволять 
следующее:</p>
<ol>
<li>Должна быть возможность обмена данными между юникодными и не юникодными системами (т.к. отображение данных в памяти отличается);</li>
<li>Должна быть возможность обмена данными&nbsp;между различными юникодными системами;</li>
<li>Должна быть возможность обмена данными&nbsp;между разными не юникодными системами, в которых используются различные кодировки.</li>
</ol>
<p><span id="more-1660"></span></p>
<p>Данные требования накладывают определенные ограничения, так в 
юникодных системах требуется обязательное указание кодовой страницы, 
перед работой через интерфейс, кроме того:</p>
<ul>
<li>Файл должен быть явным образом открыт (OPEN DATASET), перед 
операцией чтения или записи. Кроме того файл, который был уже открыт 
ранее, не может быть открыт снова (до тех пор, пока не будет закрыт). В 
не юникодных системах открытие файла происходит неявным образом при 
обращении к нему (например, при чтении), соответственно не требуется 
явного открытия перед началом работы. Кроме того, выражение для открытия
 файла может быть запущено неоднократно, несмотря на то, что открыть 
файл в программе можно только после его закрытия, либо в первый раз. 
Повторное открытие в не юникодных программах просто пропускается.</li>
<li>Тип доступа (INPUT,OUTPUT..) и режим обработки файла (TEXT, BINARY) 
должны быть явно определены, когда файл открывается. В не юникодных 
программах, если ничего не будет задано, файл откроется с неявно 
заданными параметрами по умолчанию.</li>
<li>Если файл открыт для чтения, возможно только чтение. В не юникодных системах кроме чтения, возможна так же и запись.</li>
<li>Если файл открыт как текстовый (дополнение TEXT), только символьные 
переменные могут быть считаны или записаны в него. В не юникодных 
системах допускается считывание и запись из байтовых или числовых 
переменных.</li>
</ul>
<p><b>Рекомендуется придерживаться правил определенных в юникодных системах, даже если вы работаете в не юникодной системе.</b></p>
<p>Для поддержки работы с юникодом, был создан специальный системный класс CL_ABAP_FILE_UTILITIES. Некоторые его методы:</p>
<ul>
<li>CHECK_FOR_BOM – проверить наличие в файле метки <a href="http://ru.wikipedia.org/wiki/Byte_order_mark">BOM</a>.</li>
<li>CHECK_UTF8 – хранится ли файл в UTF-8. MAX_KB – определяет размер KB при сканировании.</li>
<li>CREATE_UTF8_FILE_WITH_BOM – создание файла в UTF-8 с меткой.</li>
<li>CHECK_XSTRING_UTF8 – проверить последовательность на наличие UTF-8 кодировки.</li>
<li>CHECK_STRING_7BIT_ASCII – проверяет, содержит ли строка только ASCII символы.</li>
</ul>
<p>&nbsp;</p>
<h2>Операторы файлового интерфейса</h2>
<p>Как было уже упомянуто ранее, файловый интерфейс в ABAP реализован с помощью набора операторов и их параметров:</p>
<ul>
<li>OPEN DATASET</li>
<li>TRANSFER</li>
<li>READ DATASET</li>
<li>GET DATASET</li>
<li>SET DATASET</li>
<li>TRUNCATE DATASET</li>
<li>CLOSE DATASET</li>
<li>DELETE DATASET</li>
</ul>
<p>&nbsp;</p>
<h3>OPEN DATASET</h3>
<p>Синтаксис:</p>
<p><strong>OPEN DATASET dset FOR&nbsp;access&nbsp;IN&nbsp;mode&nbsp;[position]&nbsp;[os_additions]&nbsp;[error_handling].</strong></p>
<p>Данный оператор открывает файл, указанный в dset, для доступа 
указанного в access и режиме хранения mode. Dset – символьная 
переменная, в которой будет правильное, с точки зрения ОС, физическое 
имя файла. Файл нельзя открывать более одного раза, без закрытия, иначе 
система вызовет исключение (для юникодных систем).</p>
<p>Дополнения position, os_additions, error_handling &nbsp;указывают, с 
какой позиции начинать обработку файла, дополнения зависимые от ОС 
сервера приложений и поведение, связанное с обработкой ошибочных 
ситуаций.</p>
<p>Особенности:</p>
<ul>
<li>Количество файлов одновременно обрабатываемых не может превышать 100, для одной сессии.</li>
<li>При открытии набора срабатывают автоматические проверки полномочий (рассмотрены выше).</li>
<li>Если имя файла приходит откуда-то извне, необходимо его проверить, чтобы не подвергать систему риску, связанному с обходом <a href="http://help.sap.com/abapdocu_740/en/abendyn_file_scrty.htm">доступа к директориям</a>:</li>
</ul>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff940650401310624" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">CALL FUNCTION 'FILE_VALIDATE_NAME'

  EXPORTING
    logical_filename           = 'EXAMPLE_FILE'
  CHANGING
    physical_filename          = file
  EXCEPTIONS
    logical_filename_not_found = 1
    validation_failed          = 2
    OTHERS                     = 3.
IF sy-subrc = 0.
  OPEN DATASET file FOR OUTPUT IN BINARY MODE.
ELSE.
  cl_demo_output=&gt;display( |Error return code { sy-subrc }| ).
ENDIF.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940650401310624-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff940650401310624-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff940650401310624-1"><span class="crayon-st">CALL FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'FILE_VALIDATE_NAME'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-2">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>logical<span class="crayon-sy">_</span>filename<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'EXAMPLE_FILE'</span></div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">CHANGING</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>physical<span class="crayon-sy">_</span>filename<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>file</div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>logical<span class="crayon-sy">_</span>filename<span class="crayon-sy">_</span>not<span class="crayon-sy">_</span>found<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>validation<span class="crayon-sy">_</span>failed<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3.</span></div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-11"><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-13"><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940650401310624-14"><span class="crayon-h">&nbsp;&nbsp;</span>cl<span class="crayon-sy">_</span>demo<span class="crayon-sy">_</span>output<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">display</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>Error<span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span>code<span class="crayon-h"> </span><span class="crayon-o">{</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">}</span><span class="crayon-sy">|</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940650401310624-15"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0081 seconds] -->
<p>В приведенном ниже примере демонстрируется программа, в которой 
существует возможность обхода полномочий, так как нет проверки 
(уязвимость проявляет себя, когда в качестве части пути указываются 
«../» или «..\»):</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff940667212347098" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">PARAMETERS: pv_fname TYPE c LENGTH 64 LOWER CASE DEFAULT 'test.txt',
            pv_text  TYPE string LOWER CASE DEFAULT 'Содержимое файла'.
DATA        lv_full_name TYPE string.

AT SELECTION-SCREEN.
  IF pv_fname = ''.
    MESSAGE 'Необходимо указать имя файла' TYPE 'E'.
  ENDIF.
  lv_full_name = '/tmp/' &amp;&amp; pv_fname. "Assume enduser inputs only a relative file name.

START-OF-SELECTION.
  OPEN DATASET lv_full_name FOR OUTPUT IN TEXT MODE ENCODING UTF-8 .
  IF sy-subrc &lt;&gt; 0.
    MESSAGE 'Не могу открыть файл' &amp;&amp; lv_full_name TYPE 'E'.
  ELSE.
    TRANSFER pv_text TO lv_full_name.
    CLOSE DATASET lv_full_name.
    WRITE :/ 'Содержимое сохранено в:', lv_full_name.
  ENDIF.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940667212347098-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff940667212347098-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff940667212347098-1"><span class="crayon-st">PARAMETERS</span><span class="crayon-o">:</span><span class="crayon-h"> </span>pv<span class="crayon-sy">_</span>fname<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>c<span class="crayon-h"> </span><span class="crayon-r">LENGTH</span><span class="crayon-h"> </span><span class="crayon-cn">64</span><span class="crayon-h"> </span><span class="crayon-r">LOWER</span><span class="crayon-h"> </span><span class="crayon-st">CASE</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span><span class="crayon-h"> </span><span class="crayon-s">'test.txt'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pv<span class="crayon-sy">_</span>text<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">LOWER</span><span class="crayon-h"> </span><span class="crayon-st">CASE</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span><span class="crayon-h"> </span><span class="crayon-s">'Содержимое файла'</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-3"><span class="crayon-st">DATA</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-4">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-5"><span class="crayon-st">AT SELECTION-SCREEN</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>pv<span class="crayon-sy">_</span>fname<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-s">'Необходимо указать имя файла'</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'E'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-9"><span class="crayon-h">&nbsp;&nbsp;</span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/tmp/'</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span>pv<span class="crayon-sy">_</span>fname<span class="crayon-o">.</span><span class="crayon-h"> </span><span class="crayon-c">"Assume enduser inputs only a relative file name.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-10">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-11"><span class="crayon-st">START-OF-SELECTION</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span><span class="crayon-h"> </span><span class="crayon-r">ENCODING</span><span class="crayon-h"> </span><span class="crayon-r">UTF-8</span><span class="crayon-h"> </span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-s">'Не могу открыть файл'</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'E'</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TRANSFER</span><span class="crayon-h"> </span>pv<span class="crayon-sy">_</span>text<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940667212347098-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">'Содержимое сохранено в:'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>lv<span class="crayon-sy">_</span>full<span class="crayon-sy">_</span>name<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff940667212347098-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0140 seconds] -->
<p>Возвращаемые значения поля ошибки, после вызова оператора:</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td valign="top">sy-subrc</td>
<td valign="top">Значение</td>
</tr>
<tr>
<td valign="top">0</td>
<td valign="top">Файл был открыт.</td>
</tr>
<tr>
<td valign="top">8</td>
<td valign="top">ОС не смогла открыть файл.</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><b><i>Обрабатываемые исключения</i></b></p>
<p><b>CX_SY_FILE_OPEN</b></p>
<p>Причины:&nbsp;Файл уже открыт.</p>
<p>Ошибка времени выполнения:&nbsp;DATASET_REOPEN</p>
<p><b>CX_SY_CODEPAGE_CONVERTER_INIT</b></p>
<p>Причина:&nbsp;Желаемое преобразование невозможно. (Либо неверно 
указана желаемая кодировка, либо указанная кодировка не поддерживается 
на уровне системы)</p>
<p>Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE_INIT</p>
<p><b>CX_SY_CONVERSION_CODEPAGE</b></p>
<p>Причина:&nbsp;Преобразование невозможно.</p>
<p>Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE</p>
<p><b>CX_SY_FILE_AUTHORITY</b></p>
<p>Причина:&nbsp;Нет доступа к файлу</p>
<p>Ошибка времени выполнения:&nbsp;OPEN_DATASET_NO_AUTHORITY</p>
<p>Причина:&nbsp;Нет доступа к открытию канала, &nbsp;OPEN DATASET&nbsp;с дополнением&nbsp;FILTER.</p>
<p>Ошибка времени выполнения:&nbsp;OPEN_PIPE_NO_AUTHORITY</p>
<p><b>CX_SY_PIPES_NOT_SUPPORTED</b></p>
<p>Причина:&nbsp;ОС не поддерживает именованные каналы.</p>
<p>Ошибка времени выполнения:&nbsp;DATASET_NO_PIPE</p>
<p><b>CX_SY_TOO_MANY_FILES</b></p>
<p>Причина:&nbsp;Достигнуто максимальное число открытых файлов.</p>
<p>Ошибка времени выполнения:&nbsp;DATASET_TOO_MANY_FILES</p>
<p>&nbsp;</p>
<p><b><i>Не обрабатываемые исключения</i></b></p>
<p>Причина:&nbsp;Именованный канал уже открыт.</p>
<p>Ошибка времени выполнения:&nbsp;DATASET_PIPE_POSITION</p>
<p>&nbsp;</p>
<h4>Дополнение access</h4>
<p><strong>&nbsp;&nbsp;… INPUT</strong></p>
<p><strong>| OUTPUT</strong><br>
<strong> | APPENDING</strong><br>
<strong> | UPDATE … .</strong></p>
<p>Дополнение указывает тип доступа, т.е. каким образом открывается 
файл: на чтение, запись, добавление или изменение. В юникодных системах 
указание данного дополнения является обязательным.</p>
<ul>
<li>&nbsp;<b>INPUT</b> – открывает файл для чтения. По умолчанию 
указатель внутри файла выставляется на начало файла (при работе с 
файлами важно понимать, что обычно они обрабатываются не целиком, а 
частями. Для того чтобы определить необходимое начало и конец, 
обрабатываемой части файла служит файловый указатель.). Если указанный 
файл не существует, поле sy-subrc будет равно 8. В юникодных программах 
запрещено вести запись в открытый для чтения файл, для не юникодных 
программ это ограничение не действует, однако для совместимости 
необходимо его соблюдать.</li>
<li><b>OUTPUT</b> – открытие файла для записи. Если файл существовал 
ранее, его содержимое удаляется. Если файл не существует, он создается. 
Чтение так же разрешено.</li>
<li><b>APPENDING</b> – открытие файла для добавления. Если файл уже 
существовал, он откроется,&nbsp; указатель будет перемещен в конец 
файла. Если файл не существовал, он создается. Попытка чтения файла 
оператором READ DATASET будет прервана, sy-subrc возвратит 4.</li>
<li><b>UPDATE</b> – открытие файла для обновления существующего 
содержимого. По умолчанию указатель будет выставлен в начало файла. Если
 указанный файл не существует, sy-subrc возвратит значение равное 8.</li>
</ul>
<p>&nbsp;</p>
<h4>Дополнение mode</h4>
<p>Данное дополнение указывает на то, работаем ли мы с текстовым файлом 
или с бинарным. Атрибут LEGACY используется в том случае, когда мы хотим
 обеспечить совместимость с не юникодными системами.</p>
<p>Синтаксис:</p>
<p><strong>… {BINARY MODE}</strong></p>
<p><strong> | {TEXT MODE&nbsp;encoding&nbsp;[linefeed] }</strong><br>
<strong> | {LEGACY BINARY MODE [endian] [CODE PAGE cp]}</strong><br>
<strong> | {LEGACY TEXT MODE [endian] [CODE PAGE cp] [linefeed]} … .</strong></p>
<ul>
<li>&nbsp;<b>BINARY MODE</b>&nbsp; — открывает файл как бинарный файл. 
При записи или чтении, бинарное представление переменных переносится в 
файл (из файла) в неизменном состоянии.</li>
<li><b>TEXT </b><b>MODE </b>– открывает файл как текстовый. Дополнение 
Encoding указывает на формат символьного представления (см. ниже). Когда
 происходит запись в файл, содержимое переменных преобразовывается в 
соответствии с форматом определенным в Encoding, после чего переносится в
 файл. Если переменная является символьной (clike) или плоской 
структурой, пробелы на концах обрезаются. Если используется строковый 
тип, пробелы не обрезаются. При записи данных, по умолчанию вставляется 
зависимый от платформы символ конца строки.</li>
</ul>
<p>Считывание происходит до символа конца строки, затем указанные 
символы преобразуются в соответствии с форматом определенным в Encoding,
 в текущий формат для сервера и записываются в переменную. Обработка 
символов конца строки зависит от дополнения linefeed. &nbsp;Для 
юникодных программ, в данном режиме, при передаче или считывании из 
файла, могут быть использованы только символьные типы, кроме того 
необходимо обязательное указание дополнения encoding. В не юникодных 
программах дополнение encoding не обязательно. При перемещении 
указателя, при работе с текстовым файлом происходит перемещение на 
указанное количество символов, а не байт.</p>
<ul>
<li><b>LEGACY</b> – разница с простым открытием в том, что в данном 
случае можно задать кодовую страницу, через атрибут CODE PAGE и порядок 
байт, в атрибуте endian. &nbsp;В режиме LEGACY TEXT MODE пробелы в 
символьных (clike) переменных или плоских структурах обрезаются.</li>
</ul>
<p>&nbsp;</p>
<h4><span style="font-size: 1em;">Дополнение linefeed</span></h4>
<p>Дополнение linefeed имеет следующий синтаксис:</p>
<p><strong>… WITH { NATIVE&nbsp;</strong></p>
<p><strong>| SMART<br>
| UNIX<br>
| WINDOWS } LINEFEED … .</strong></p>
<p>При использовании данного дополнения, профильный параметр 
abap/NTfmode (тр. RZ11) игнорируется. Нельзя использовать данное 
дополнение с дополнением TYPE, если его значение «NT» или «UNIX».</p>
<p>Если данное дополнение не используется, правила определения символа 
конца строки зависят от текущего сервера приложений и платформы, на 
которой он запущен:</p>
<ul>
<li>Для UNIX систем (Unix, OS/390, и IBM i5/OS) это «LF».</li>
<li>Для Windows – «CRLF». Кроме того для Windows систем может быть 
использован параметр abap/NTfmode, который определяет какой символ конца
 строки использовать для новых файлов. Если его значение «b» — 
используется маркер «LF». Если его значение «t» или пустое – 
используется маркер «CRLF». Данный параметр может быть переопределен в 
дополнении TYPE и значением для его «NT» или «UNIX». Если существующий 
файл был открыт без дополнения TYPE, происходит поиск маркера, если 
маркер был найден, он и будет использоваться для всего файла. Если 
маркер не был найден, будет использоваться профильный параметр&nbsp; 
abap/NTfmode.</li>
</ul>
<p>Если дополнение было указано при открытии файла, оно может быть перезаписано, через оператор SET DATASET.</p>
<p>SAP рекомендует указывать дополнение linefeed, т.к. если его не 
указать логика определения указателя конца строки будет зависеть от 
множества факторов: ОС сервера приложений, профильный параметр, 
существующий символ в имеющемся файле.</p>
<p>Значения, указываемые в дополнении:</p>
<ul>
<li><b>NATIVE</b> – в зависимости от ОС на сервере приложений (см. выше)</li>
<li><b>SMART</b> – данное дополнение зависит от типа доступа к файлу:
<ul>
<li>Если файл открыт на чтение (FOR INPUT), оба маркера будут 
обрабатываться. При открытии EBCDIC&nbsp;файла так же обрабатывается 
маркер «NL» (new line).</li>
<li>Если файл открыт для дополнения или для обновления (APPENDING, 
UPDATE) происходит поиск маркера, который уже был использован в файле. 
Найденный маркер далее используется для записи. Если маркер не будет 
найден, будет использован маркер для ОС сервера приложений (как с 
дополнением NATIVE).</li>
<li>Если файл открывается для записи (OUTPUT), маркер определяется в 
зависимости от ОС сервера приложений (как с дополнением NATIVE).</li>
<li><b>UNIX</b> – используется «LF» маркер</li>
<li><b>WINDOWS</b> – используется «CRLF» маркер</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<h4>Дополнение CODEPAGE</h4>
<p>Синтаксис:</p>
<p><strong>…&nbsp;&nbsp;CODE PAGE cp …</strong></p>
<p>Указывает кодовую страницу, в которой представлены данные файла. 
Когда данные переносятся из файла в ABAP, происходит автоматическая 
конвертация в кодовую страницу, использующуюся на сервере приложений 
(если они не идентичны). При записи происходит аналогичная конвертация в
 указанную в дополнении кодировку.</p>
<p>В юникодных системах происходит преобразование символов из указанной 
кодовой страницы в юникодные символы, в соответствии с текущим форматом 
на сервере приложений.</p>
<p>В качестве параметра <b>cp</b> необходимо использовать переменную со значением из столбца CPCODEPAGE в таблице TCP00.</p>
<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/codepages.png"><img class="alignnone size-full wp-image-1662" alt="codepages" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/codepages.png" srcset="https://abap-blog.ru/wp-content/uploads/2013/12/codepages.png 796w, https://abap-blog.ru/wp-content/uploads/2013/12/codepages-300x24.png 300w" sizes="(max-width: 796px) 100vw, 796px" width="796" height="66"></a></p>
<h4></h4>
<h4>Дополнение ENCODING</h4>
<p>Синтаксис:</p>
<p><b>… </b><b>ENCODING</b><b> { </b><b>DEFAULT</b><b>&nbsp;</b><b><br>
</b><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><b> | {</b><b>UTF</b><b>-8 [</b><b>SKIPPING</b><b>|</b><b>WITH</b><b> </b><b>BYTE</b><b>—</b><b>ORDER</b><b> </b><b>MARK</b><b>]}</b><b>&nbsp;</b><b><br>
</b><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><b> | </b><b>NON</b><b>—</b><b>UNICODE</b><b> } … .</b></p>
<p>Определяет формат, используемый для текстовых файлов.&nbsp; Данное 
дополнение обязательно для юникодных систем, в не юникодных может быть 
опущено (по умолчанию примет значение NON-UNICODE).</p>
<p>SAP рекомендует всегда использовать UTF-8 при работе с текстовыми 
файлами. Так как кодовые страницы не всегда можно идентифицировать 
относительно содержимого файла.</p>
<p>Может принимать следующие значения:</p>
<ul>
<li><b>DEFAULT</b> – в юникодных системах тоже самое что и UTF-8, для не юникодных систем NON-UNICODE.</li>
<li><b>UTF-8</b> [SKIPPING|WITH BYTE-ORDER MARK] – файл обрабатывается в соответствии с кодировкой <a href="http://ru.wikipedia.org/wiki/UTF-8">UTF-8</a>. С помощью дополнения указывается, необходимо ли обрабатывать символ порядка байт (<a href="http://ru.wikipedia.org/wiki/Byte_order_mark">BOM</a>):
<ul>
<li>SKIPING BYTE-ORDER MARK – используется только если файл открывается 
для чтения или изменения, если в файле присутствует данный символ 
указатель переводится на позицию после него, без дополнения файл 
обрабатывается как обычно.</li>
<li>WITH BYTE-ORDER MARK – используется для файлов открытых на запись 
(OUTPUT), если дополнение указано символ вставляется автоматически в 
начало файла, если не указано символ не будет вставлен.</li>
<li><b>NON-</b><b>UNICODE</b> – для не юникодных систем, данные 
переносятся в файл (из файла) без дополнительной конвертации. В 
юникодной системе, происходит преобразование в соответствии с 
настроенным присвоением, таблица TCP0C.</li>
</ul>
</li>
</ul>
<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/cpconvert.png"><img class="alignnone size-full wp-image-1663" alt="cpconvert" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/cpconvert.png" srcset="https://abap-blog.ru/wp-content/uploads/2013/12/cpconvert.png 520w, https://abap-blog.ru/wp-content/uploads/2013/12/cpconvert-300x21.png 300w" sizes="(max-width: 520px) 100vw, 520px" width="520" height="37"></a></p>
<p>Дополнение BYTE-ORDER MARK не может использоваться одновременно с дополнением position (см. ниже).</p>
<p>Рекомендации SAP:</p>
<ul>
<li>При открытии UTF-8 файлов на чтение желательно всегда пропускать символ порядка байт, использовать SKIPING дополнение.</li>
<li>При записи в UTF-8 файл, желательно всегда записывать метку с дополнением WITH BYTE-ORDER MARK.</li>
<li>С помощью класса CL_ABAP_FILE_UTILITIES и его метода 
&nbsp;CREATE_UTF8_FILE_WITH_BOM, можно создать UTF-8 файл с меткой BOM. С
 помощью метода CHECK_UTF8 можно определить есть ли метка в указанном 
файле.</li>
</ul>
<p>UTF-16 файлы могут быть открыты только как бинарные файлы.</p>
<h4></h4>
<h4>Дополнение endian</h4>
<p>Синтаксис:</p>
<p><b>… {BIG|LITTLE} ENDIAN …</b></p>
<p>Дополнение указывает <a href="http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D0%BA_%D0%B1%D0%B0%D0%B9%D1%82%D0%BE%D0%B2">порядок байтов</a> при записи числовых переменных ABAP (i,&nbsp;decfloat16,&nbsp;decfloat34,&nbsp;f, или&nbsp;s).</p>
<p>&nbsp;</p>
<h4>Дополнение position</h4>
<p>Синтаксис:</p>
<p><b>… </b><b>AT</b><b> </b><b>POSITION</b><b> </b><b>pos</b><b> … .</b></p>
<p>Переводит указатель файла на указанное в переменной POS число байт. 
Если в качестве позиции передать -1, указатель будет переведен в конец 
файла.</p>
<p>Следует знать следующие особенности:</p>
<ul>
<li>Если файл открыт на чтение и значение в pos больше размера файла, 
указатель становится неопределенным и чтение в таком&nbsp; случае будет 
невозможно, до тех пор, пока указатель не будет переведен в пределы 
размера файла. Если файл обрабатывается в не юникодной системе и 
происходит запись в него, все последующие от конца файла байты до 
указателя будут заполнены 16-ричным представлением 0, а запись начнется 
со следующего байта.</li>
<li>Если файл открыт для записи, все символы с начала файла, до 
указанной позиции заполняются 16-ричным представлением 0 и запись 
происходит со следующего байта.</li>
<li>Если файл открывается для добавления (APPENDING), данное дополнение игнорируется, указатель выставляется в конец файла.</li>
<li>Если файл открывается для изменения и позиция указана больше размера
 файла в байтах, все байты с конца файла по указанную позицию 
заполняются 16-ричным представлением 0 и запись происходит со следующего
 байта после указанной позиции.</li>
</ul>
<p>Дополнение не может быть использовано одновременно с дополнениями FILTER и BYTE-ORDER MARK.</p>
<p>&nbsp;</p>
<h4>Дополнения os_additions</h4>
<p>Синтаксис:</p>
<p><b>… [</b><b>TYPE</b><b> </b><b>attr</b><b>]</b><br>
<b>&nbsp;&nbsp;&nbsp;&nbsp;</b><b>[</b><b>FILTER</b><b> </b><b>opcom</b><b>] … .</b></p>
<p>Данные дополнения указывают на специфические для ОС параметры при обработке файлов.</p>
<ul>
<li>Дополнение TYPE attr – зависит от ОС, используемой на сервере 
приложений. Если ОС не MS Windows, символьное значение, определенное в 
attr, содержит зависимые от ОС параметры для файла, который должен 
обрабатываться.&nbsp;Для MS Windows в этот параметр, при работе с 
текстовыми файлами или текстовыми файлами в режиме совместимости, может 
быть передан идентификатор символа конца строки: «NT» для CRLF «UNIX» 
для LF, но только в том случае, если не указано дополнение linefeed. Все
 остальные значения в данном параметре будут проигнорированы для MS 
Windows.</li>
</ul>
<p>Пример использования дополнения в ОС IBM i5/OS:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff940682252438697" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">OPEN DATASET 'test.dat' 
  TYPE 'lrecl=80, blksize=8000, recfm=FB' 
  FOR OUTPUT IN TEXT MODE 
             ENCODING DEFAULT 
             WITH SMART LINEFEED.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff940682252438697-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940682252438697-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff940682252438697-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940682252438697-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff940682252438697-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff940682252438697-1"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span><span class="crayon-s">'test.dat'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940682252438697-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'lrecl=80, blksize=8000, recfm=FB'</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940682252438697-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940682252438697-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">ENCODING</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940682252438697-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">WITH</span><span class="crayon-h"> </span>SMART<span class="crayon-h"> </span>LINEFEED<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p></p>
<ul>
<li>Дополнение FILTER opcom – данное дополнение поддерживается для ОС (Unix, Windows), работающих с так называемыми <a href="http://ru.wikipedia.org/wiki/%D0%98%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB">именованными каналами</a> (pipes). За более подробной информацией можете обратиться к <a href="http://help.sap.com/abapdocu_740/en/abapopen_dataset_os_addition.htm#!ABAP_ADDITION_1@1@">справке</a> по данному дополнению.</li>
</ul>
<p>&nbsp;</p>
<h4>Дополнения error_handling</h4>
<p>Синтаксис:</p>
<p><b>… [MESSAGE msg]</b><br>
<b>&nbsp;&nbsp;&nbsp;&nbsp;[IGNORING CONVERSION ERRORS]</b><br>
<b>&nbsp;&nbsp;&nbsp;&nbsp;[REPLACEMENT CHARACTER rc] … .</b></p>
<p>В случае возникновения ошибок, данные дополнения позволяют получать 
эти ошибки, подавлять некоторые ошибки, определять символы замены для 
неизвестных символов.</p>
<ul>
<li>Дополнение MESSAGE msg. В случае возникновения ошибки на уровне 
сервера приложения, в символьную переменную msg будет записан код 
ошибки, пример:</li>
</ul>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff94068b774508335" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA mess TYPE string. 

OPEN DATASET `` FOR INPUT IN BINARY MODE MESSAGE mess. 

IF sy-subrc = 8. 
  MESSAGE mess TYPE 'I'. 
ENDIF.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff94068b774508335-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff94068b774508335-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff94068b774508335-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff94068b774508335-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff94068b774508335-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff94068b774508335-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff94068b774508335-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff94068b774508335-1"><span class="crayon-st">DATA</span><span class="crayon-h"> </span>mess<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff94068b774508335-2">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff94068b774508335-3"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span><span class="crayon-s">``</span><span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-h"> </span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span>mess<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff94068b774508335-4">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff94068b774508335-5"><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff94068b774508335-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span>mess<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'I'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff94068b774508335-7"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0038 seconds] -->
<p></p>
<ul>
<li>Дополнение IGNORING CONVERSION ERRORS. Данное дополнение может быть 
использовано для подавления исключения CX_SY_CONVERSION_CODEPAGE. Данное
 исключение возникает, если при работе с файлом невозможно сделать 
преобразование из одной кодовой страницы в другую. Данное дополнение 
используется только при обработке текстовых файлов, текстовых файлов в 
режиме совместимости и бинарных файлов в режиме совместимости, но не для
 бинарных файлов. При этом каждый не конвертируемый символ заменяется по
 умолчанию символом «#», либо символом, указываемым в следующем 
дополнении.</li>
<li>REPLACEMENT CHARACTER rc. В качестве rc указывается символ, на который будут заменены не распознанные символы.</li>
</ul>
<p>&nbsp;</p>
<h3>TRANSFER</h3>
<p>Синтаксис:</p>
<p><b>TRANSFER dobj TO dset [LENGTH len]</b><b>&nbsp;</b><b><br>
[NO END OF LINE].</b></p>
<p>Данный оператор переносит содержимое переменной dobj в файл dset. В 
качестве переменной может быть использована любая символьная переменная 
или плоская структура. При обработке бинарного файла используются 
байтовые типы (x, xstring).&nbsp; В юникодных программах при записи в 
текстовый файл может использоваться только символьная переменная (не 
структура), данное ограничение не распространяется на текстовые файлы, 
открытые в режиме совместимости.</p>
<p>В качестве dset указывается физическое имя файла. Содержимое dobj 
передается в файл начиная с текущей позиции указателя. После того, как 
данные будут перенесены в файл, курсор смесится на следующую позицию 
после перемещенных данных.</p>
<p>Для записи в юникодных программах, необходимо чтобы файл был открыт 
для записи, добавления или изменения.&nbsp; Если файл был не открыт 
заранее, в не юникодных системах он будет открыт неявно.</p>
<p>В зависимости от типа доступа к файлу, есть определенные особенности:</p>
<ul>
<li>Файл открыт для чтения (FOR INPUT). Нельзя производить запись в 
юникодных программах. В не юникодных программах запись происходи так же,
 как если бы он был открыт с типом доступа — FOR UPDATE.</li>
<li>Файл открыт для записи (FOR OUTPUT). Запись происходит, начиная с 
текущей позиции указателя, если указатель был перемещен дальше конца 
файла, байты с позиции конца файла, по текущую позицию будут записаны 
16-ричным представлением 0.</li>
<li>Если файл был открыт для добавления (APPENDING) , система начинает 
вести запись с текущего указателя, при первоначальном открытии указатель
 находится в конце файла.</li>
<li>Файл открыт для изменения (CHANGING). Запись происходит с текущей 
позиции указателя, если указатель был перемещен дальше конца файла, 
байты с позиции конца файла, по текущую позицию будут записаны 16-ричным
 представлением 0. Если часть файла должна быть перезаписана, 
обязательно открывать с типом доступа CHANGING для юникодных программ. В
 не юникодных программах, файл, открытый для чтения может быть 
перезаписан, но SAP не рекомендует этого делать.</li>
</ul>
<p>Кроме того, на работу оператора влияет&nbsp; тип содержимого файла:</p>
<ul>
<li>Если файл открыт как текстовый или текстовый в режиме совместимости,
 любые пробелы на концах символьных переменных обрезаются, кроме 
переменных с типом string. Если необходимо преобразование, в кодовую 
страницу отличную от системной, происходит преобразование, затем 
побайтно идет запись в файл.</li>
<li>После записи в файл содержимого из dobj автоматически вставляется 
метка конца строки, определенная при открытии. Чтобы система не 
добавляла метку, используется дополнение NO END OF LINE.</li>
</ul>
<p>Следует знать некоторые особенности:</p>
<ul>
<li>Оператор TRANSFER либо возвращает sy-subrc&nbsp; = 0, либо вызывает исключение.</li>
<li>В не юникодных программах вызов OPEN DATASET перед TRANSFER не 
обязателен, поэтому в не юникодных программах при вызове оператора 
TRANSFER срабатывают автоматические проверки доступа к файлу, т.к. 
происходит неявный вызов OPEN DATASET.</li>
</ul>
<p>Дополнения:</p>
<ul>
<li>LENGTH len – определяет то, как много байтов или символов (в 
зависимости от типа содержимого) будет записано в файл.&nbsp; Для 
бинарных, текстовых в режиме совместимости и бинарных в режиме 
совместимости файлов, дополнение определяет количество передаваемых 
байт.</li>
</ul>
<p>Если длинна 0 и меньше, ничего не будет записано.&nbsp; Если 
количество в len больше количества символов или байт в dobj, вместо 
недостающих символов (байтов) в файл будут записаны пустые символы 
(пробелы) или 16-ричное представление 0.</p>
<p>Пример использования оператора TRANSFER:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff940698020469709" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: file TYPE string VALUE `flights.dat`, 
      wa   TYPE spfli. 

FIELD-SYMBOLS &lt;hex_container&gt; TYPE x. 

OPEN DATASET file FOR OUTPUT IN BINARY MODE. 

SELECT * 
       FROM spfli 
       INTO wa. 
  ASSIGN wa TO &lt;hex_container&gt; CASTING. 
  TRANSFER &lt;hex_container&gt; TO file. 
ENDSELECT. 

CLOSE DATASET file.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff940698020469709-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff940698020469709-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff940698020469709-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">`flights.dat`</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>wa<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-4"><span class="crayon-r">FIELD</span><span class="crayon-o">-</span>SYMBOLS<span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>x<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-6"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-8"><span class="crayon-st">SELECT</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">FROM</span><span class="crayon-h"> </span>spfli<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>wa<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ASSIGN</span><span class="crayon-h"> </span>wa<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">CASTING</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">TRANSFER</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-13"><span class="crayon-st">ENDSELECT</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff940698020469709-14">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff940698020469709-15"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0067 seconds] -->
<p><b><i>Обрабатываемые</i></b><b><i> исключения</i></b></p>
<p><b>CX_</b><b>SY_</b><b>CODEPAGE_</b><b>CONVERTER_</b><b>INIT</b></p>
<p>Причина:&nbsp;Желаемое преобразование невозможно. (Либо неверно 
указана желаемая кодировка, либо указанная кодировка не поддерживается 
на уровне системы)<br>
Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE_INIT</p>
<p><b>CX_</b><b>SY_</b><b>CONVERSION_</b><b>CODEPAGE</b></p>
<p>Причина:&nbsp;Преобразование невозможно.<br>
Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE</p>
<p><b>CX_SY_FILE_AUTHORITY</b></p>
<p>Причина:&nbsp;Нет доступа к файлу<br>
Ошибка времени выполнения:&nbsp;OPEN_DATASET_NO_AUTHORITY</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>IO</b></p>
<p>Причина:&nbsp;Ошибка при записи в файл.<br>
Ошибка времени выполнения:&nbsp;DATASET_WRITE_ERROR</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>OPEN</b></p>
<p>Причина:&nbsp;Файл не может быть открыт.<br>
Ошибка времени выполнения:&nbsp;DATASET_CANT_OPEN</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>OPEN_</b><b>MODE</b></p>
<p>Причина:&nbsp;Файл не был открыт для указанного типа доступа.<br>
Ошибка времени выполнения:&nbsp;DATASET_NOT_OPEN</p>
<p>Причина:&nbsp;Файл открыт в юникодной программе с 
использованием&nbsp;OPEN DATASET … FOR INPUT&nbsp;и не может 
использоваться для записи.<br>
Ошибка времени выполнения:&nbsp;DATASET_READ_ONLY</p>
<p><b>CX_SY_PIPE_REOPEN</b></p>
<p>Причина:&nbsp;Рабочий процесс, в котором был открыт файл с именованным каналом либо закрыт, либо переключен.<br>
Ошибка времени выполнения:&nbsp;DATASET_PIPE_CLOSED</p>
<p><b>CX_SY_TOO_MANY_FILES</b></p>
<p>Причина:&nbsp;Достигнуто максимальное число открытых файлов.<br>
Ошибка времени выполнения:&nbsp;DATASET_TOO_MANY_FILES</p>
<p>&nbsp;</p>
<h2>READ DATASET</h2>
<p>Синтаксис:</p>
<p><b>READ DATASET dset INTO dobj [MAXIMUM LENGTH mlen]</b><br>
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[ACTUAL]
 LENGTH alen].</b></p>
<p>Данный оператор производит чтение из файла dset в переменную dobj. В 
качестве переменной может выступать либо переменная с элементарным 
типом, либо переменная с типом плоской структуры. В юникодных программах
 обязательно чтобы переменная была символьной, если файл открыт как 
текстовый. Чтение происходит с текущей позиции указателя в файле. После 
того как чтение осуществлено, указатель перемещается на длину считанных 
данных.</p>
<p>В юникодных программах для того чтобы производить чтение из файла, он
 должен быть открыт с любым типом доступа.&nbsp; Если файл не был открыт
 в не юникодной программе, его открытие происходит неявным образом.</p>
<p>На работу оператора влияет тип содержимого в файле:</p>
<ul>
<li>Если файл открыт как текстовый или как текстовый в режиме 
совместимости, данные считываются с текущей позиции до метки конца 
строки, указатель перемещается на позицию после метки конца строки. Если
 последний символ, в текстовым файле, не является меткой конца строки, 
конец текстового файла интерпретируется как конец строки.</li>
</ul>
<p>Если переменная dobj слишком коротка относительно считываемых 
символов, лишние символы обрезаются. Если же она длиннее, переменная 
заполняется пробелами справа. Если же dobj строковая переменная (тип 
string) в неё передаются только считанные символы.</p>
<ul>
<li>Если файл открыт как бинарный или как бинарный в режиме 
совместимости, система считывает ровно столько байтов, сколько может 
уместиться в переменной dobj. Файловый указатель так же перемещается по 
мере считывания. Если переменная dobj больше размеров файла, она 
заполняется 16-ричным представлением 0 справа. Если dobj строка, система
 пытается считать весь файл в переменную.</li>
</ul>
<p>Если при открытии файла указана необходимость в конвертации 
кодировок, она срабатывает до присвоения данных переменной, после чего в
 неё побайтно передаются сконвертированные данные.</p>
<p><b>Заполнение поля </b><b>sy-</b><b>subrc</b></p>
<p>Для текстовых файлов</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td valign="top"><b>sy-subrc</b></td>
<td valign="top"><b>Значение</b></td>
</tr>
<tr>
<td valign="top">0</td>
<td valign="top">Данные считаны до явно определенной метки конца строки или до неявной метки конца строки в конце файла.</td>
</tr>
<tr>
<td valign="top">4</td>
<td valign="top">Была сделана попытка чтения данных после конца файла.</td>
</tr>
</tbody>
</table>
<p>Для бинарных файлов</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td valign="top"><b>sy-subrc</b></td>
<td valign="top"><b>Значение</b></td>
</tr>
<tr>
<td valign="top">0</td>
<td valign="top">Данные были считаны; при этом система либо достигла конца файла, либо нет</td>
</tr>
<tr>
<td valign="top">4</td>
<td valign="top">Либо была совершена попытка чтения после конца файла, 
либо переменная в которую происходит чтение оказалась длиннее его 
содержимого</td>
</tr>
</tbody>
</table>
<p>Существуют следующие особенности:</p>
<ul>
<li>Так как в не юникодных программах открытие файла может происходить 
не явно, для них вызывается автоматическая проверка полномочий.</li>
<li>Текстовый файл без явно записанных меток конца строки, всегда имеет неявную метку конца строки в конце файла.</li>
<li>При переносе цифровых данных или смешанных структур рекомендуется 
считывать данные в ссылочную переменную байтового типа, присвоенную с 
помощью дополнения CASTING (ниже будет показан альтернативный способ 
считывания, непосредственно в байтовый буфер):</li>
</ul>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406a5472303762" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: file TYPE string VALUE `flights.dat`,
      wa   TYPE spfli,
      itab LIKE TABLE OF wa.

FIELD-SYMBOLS &lt;hex_container&gt; TYPE x.

OPEN DATASET file FOR INPUT IN BINARY MODE.

ASSIGN wa TO &lt;hex_container&gt; CASTING.

DO.
  READ DATASET file INTO &lt;hex_container&gt;.
  IF sy-subrc = 0.
    APPEND wa TO itab.
  ELSE.
    EXIT.
  ENDIF.
ENDDO.

CLOSE DATASET file.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406a5472303762-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406a5472303762-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">`flights.dat`</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>wa<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>spfli<span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>itab<span class="crayon-h"> </span><span class="crayon-r">LIKE</span><span class="crayon-h"> </span><span class="crayon-r">TABLE</span><span class="crayon-h"> </span><span class="crayon-r">OF</span><span class="crayon-h"> </span>wa<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-4">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-5"><span class="crayon-r">FIELD</span><span class="crayon-o">-</span>SYMBOLS<span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>x<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-6">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-7"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-8">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-9"><span class="crayon-st">ASSIGN</span><span class="crayon-h"> </span>wa<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">CASTING</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-10">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-11"><span class="crayon-st">DO</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">APPEND</span><span class="crayon-h"> </span>wa<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>itab<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-18"><span class="crayon-st">ENDDO</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406a5472303762-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406a5472303762-20"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0072 seconds] -->
<p>Дополнения:</p>
<ul>
<li><b>[ACTUAL] LENGTH alen</b>&nbsp; — записывает считанный объем 
данных в переменную alen. Для текстовых – количество символов, для 
бинарных и в режиме совместимости – количество байт. <b>&nbsp;</b>Слово ACTUAL было введено, чтобы отличать это дополнение от следующего и должно быть всегда использовано.</li>
<li><b>MAXIMUM</b><b> </b><b>LENGTH</b><b> </b><b>mlen</b><b> </b><b>– </b>определяет,
 как много символов (байт) будет считано из файла. Для текстовых – 
количество символов, для бинарных и в режиме совместимости – количество 
байт. Пример:</li>
</ul>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406ad783557167" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: file TYPE string VALUE `flights.dat`,
      hex_container TYPE x LENGTH 1000,
      len TYPE i,
      itab          TYPE TABLE OF spfli.

FIELD-SYMBOLS &lt;spfli&gt; TYPE spfli.

DESCRIBE FIELD &lt;spfli&gt; LENGTH len IN BYTE MODE.

OPEN DATASET file FOR INPUT IN BINARY MODE.

ASSIGN hex_container TO &lt;spfli&gt; CASTING.

DO.
  READ DATASET file INTO hex_container MAXIMUM LENGTH len.
  IF sy-subrc = 0.
    APPEND &lt;spfli&gt; TO itab.
  ELSE.
    EXIT.
  ENDIF.
ENDDO.

CLOSE DATASET file.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-20">20</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406ad783557167-22">22</div><div class="crayon-num" data-line="crayon-5c3d6ff9406ad783557167-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">`flights.dat`</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hex<span class="crayon-sy">_</span>container<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>x<span class="crayon-h"> </span><span class="crayon-r">LENGTH</span><span class="crayon-h"> </span><span class="crayon-cn">1000</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>len<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>i<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>itab<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">TABLE</span><span class="crayon-h"> </span><span class="crayon-r">OF</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-6"><span class="crayon-r">FIELD</span><span class="crayon-o">-</span>SYMBOLS<span class="crayon-h"> </span><span class="crayon-o">&lt;</span>spfli<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-8"><span class="crayon-st">DESCRIBE FIELD</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>spfli<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">LENGTH</span><span class="crayon-h"> </span>len<span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span>BYTE<span class="crayon-h"> </span><span class="crayon-r">MODE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-10"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-12"><span class="crayon-st">ASSIGN</span><span class="crayon-h"> </span>hex<span class="crayon-sy">_</span>container<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>spfli<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">CASTING</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-14"><span class="crayon-st">DO</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>hex<span class="crayon-sy">_</span>container<span class="crayon-h"> </span><span class="crayon-st">MAXIMUM LENGTH</span><span class="crayon-h"> </span>len<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">APPEND</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>spfli<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>itab<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-21"><span class="crayon-st">ENDDO</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406ad783557167-22">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406ad783557167-23"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0118 seconds] -->
<p><b><i>Обрабатываемые</i></b><b><i> исключения</i></b><b><i></i></b></p>
<p><b>CX_SY_CODEPAGE_CONVERTER_INIT</b></p>
<p>Причина:&nbsp;Желаемое преобразование невозможно. (Либо неверно 
указана желаемая кодировка, либо указанная кодировка не поддерживается 
на уровне системы)<br>
Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE_INIT</p>
<p><b>CX_SY_CONVERSION_CODEPAGE</b></p>
<p>Причина:&nbsp;Преобразование невозможно.<br>
Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE</p>
<p><b>CX_SY_FILE_AUTHORITY</b></p>
<p>Причина:&nbsp;Нет доступа к файлу<br>
Ошибка времени выполнения:&nbsp;OPEN_DATASET_NO_AUTHORITY</p>
<p><b>CX_SY_FILE_IO</b></p>
<p>Причина:&nbsp;Ошибка при чтении файла.<br>
Ошибка времени выполнения:&nbsp;DATASET_READ_ERROR</p>
<p><b>CX_SY_FILE_OPEN</b></p>
<p>Причина:&nbsp;Файл не был открыт.<br>
Ошибка времени выполнения:&nbsp;DATASET_CANT_OPEN</p>
<p><b>CX_SY_FILE_OPEN_MODE</b></p>
<p>Причина:&nbsp;Файл не был открыт для указанного режима.<br>
Ошибка времени выполнения:&nbsp;DATASET_NOT_OPEN</p>
<p><b>CX_SY_PIPE_REOPEN</b></p>
<p>Причина:&nbsp;Рабочий процесс, в котором был открыт файл с именованным каналом либо закрыт, либо переключен.<br>
Ошибка времени выполнения:&nbsp;DATASET_PIPE_CLOSED</p>
<p>&nbsp;</p>
<h2>GET DATASET</h2>
<p>Синтаксис:</p>
<p><b>GET DATASET dset [POSITION pos] [ATTRIBUTES attr].</b></p>
<p>Данный оператор необходим для получения информации о наборе данных 
dset. При работе с ним, системное поле с кодом ошибки (sy-subrc) всегда 
равно 0, однако могут быть вызваны исключения (см. ниже)</p>
<p>Если вызывать оператор без дополнений, он может использоваться для 
проверки, был ли открыт набор данных ранее, если нет, система вызовет 
исключение.</p>
<p>Дополнения:</p>
<ul>
<li><b>POSITION pos</b>&nbsp; — считывает в переменную pos, с типом i, 
текущий адрес указателя в файле. Позиция указателя всегда определена в 
байтах. Если позиция находится в начале файла, значение в переменной 
будет равно 0. Данное дополнение, не может быть одновременно 
использовано с описанным выше дополнением FILTER (система вызовет 
исключение). Для файлов, чей размер превышает 2 ГБ, невозможно получить 
все позиции указателя в файле. (не хватит диапазона типа i). Пример:</li>
</ul>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406b6481361933" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: file TYPE string VALUE 'test.dat',
      text TYPE string, pos TYPE i.

OPEN DATASET file FOR OUTPUT IN TEXT MODE
                             ENCODING DEFAULT
                             WITH SMART LINEFEED.
TRANSFER '1234567890' TO file.
GET DATASET file POSITION pos.
TRANSFER 'ABCDEFGHIJ' TO file.
CLOSE DATASET file.

OPEN DATASET file FOR INPUT IN TEXT MODE
                            ENCODING DEFAULT
                            WITH SMART LINEFEED
                            AT POSITION pos.
READ DATASET file INTO text.
CLOSE DATASET file.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406b6481361933-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406b6481361933-17">17</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">'test.dat'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>text<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>pos<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>i<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-4"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">ENCODING</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">WITH</span><span class="crayon-h"> </span>SMART<span class="crayon-h"> </span>LINEFEED<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-7"><span class="crayon-st">TRANSFER</span><span class="crayon-h"> </span><span class="crayon-s">'1234567890'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-8"><span class="crayon-st">GET DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span>pos<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-9"><span class="crayon-st">TRANSFER</span><span class="crayon-h"> </span><span class="crayon-s">'ABCDEFGHIJ'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-10"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-12"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">ENCODING</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">WITH</span><span class="crayon-h"> </span>SMART<span class="crayon-h"> </span>LINEFEED</div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">AT POSITION</span><span class="crayon-h"> </span>pos<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406b6481361933-16"><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>text<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406b6481361933-17"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0074 seconds] -->
<p></p>
<ul>
<li>&nbsp;<b>ATTRIBUTES attr</b>&nbsp; — считывает атрибуты открытого набора данных. В качестве attr используется переменная с типом dset_attributes:</li>
</ul>
<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/attr.png"><img class="alignnone size-full wp-image-1665" alt="attr" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/attr.png" srcset="https://abap-blog.ru/wp-content/uploads/2013/12/attr.png 478w, https://abap-blog.ru/wp-content/uploads/2013/12/attr-300x198.png 300w" sizes="(max-width: 478px) 100vw, 478px" width="478" height="317"></a></p>
<p>Данная структура имеет два компонента, фиксированные атрибуты и 
изменяемые атрибуты. Изменяемые атрибуты можно поменять с помощью 
оператора SET DATASET (см. ниже). В следующем примере проверяется, 
открыт ли файл с дополнением FILTER, если нет, можно считать указатель 
файла:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406bc651494878" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: dset TYPE string VALUE 'test.dat', 
      pos TYPE I, attr TYPE dset_attributes.

OPEN DATASET dset FOR INPUT IN BINARY MODE 
                  FILTER 'uncompress'. 

... 

GET DATASET dset ATTRIBUTES attr. 
IF attr-fixed-indicator-filter &lt;&gt; 'X'. 
  GET DATASET dset POSITION pos. 
ELSE. 
  ... 
ENDIF. 

CLOSE DATASET dset.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406bc651494878-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406bc651494878-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">'test.dat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>pos<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>I<span class="crayon-sy">,</span><span class="crayon-h"> </span>attr<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>dset<span class="crayon-sy">_</span>attributes<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-4"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">FILTER</span><span class="crayon-h"> </span><span class="crayon-s">'uncompress'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-6">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-7"><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-8">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-9"><span class="crayon-st">GET DATASET</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">ATTRIBUTES</span><span class="crayon-h"> </span>attr<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-10"><span class="crayon-st">IF</span><span class="crayon-h"> </span>attr<span class="crayon-o">-</span>fixed<span class="crayon-o">-</span>indicator<span class="crayon-o">-</span><span class="crayon-r">filter</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">GET DATASET</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span>pos<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-12"><span class="crayon-st">ELSE</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-13"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-14"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406bc651494878-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406bc651494878-16"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>dset<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0051 seconds] -->
<p><b><i>Обрабатываемые исключения</i></b></p>
<ul>
<li><b>CX_SY_FILE_OPEN_MODE</b>&nbsp;— файл не открыт.</li>
<li><b>CX_SY_FILE_POSITION</b>&nbsp;– невозможно получить позицию указателя файла.</li>
<li><b>CX_SY_CONVERSION_OVERFLOW</b>&nbsp;– переменная pos слишком мала, чтобы в неё можно было записать позицию указателя.</li>
</ul>
<p>&nbsp;</p>
<h2>SET DATASET</h2>
<p>Синтаксис:</p>
<p><b>SET DATASET dset [POSITION {pos|{END OF FILE}}]</b><br>
<b>[ATTRIBUTES attr].</b></p>
<p>Данный оператор позволяет изменять позицию курсора в файле, а так же изменяемые атрибуты набора данных.</p>
<p>Дополнения:</p>
<ul>
<li>[POSITION {pos|{END OF FILE}}] – перемещает указатель файла на 
позицию указанную в переменной pos, с типом i, либо если указано END OF 
FILE на конец файла. Если в переменной pos будет 0, указатель 
переместиться в начало файла, если – 1 в конец. Другие отрицательные 
значения не разрешается использовать. В зависимости от типа доступа, в 
котором открыт файл, есть некоторые особенности:
<ul>
<li>Если файл открыт для чтения, и позиция pos будет больше чем длинна 
файла, указатель будет перемещен вне файла, считать данные не получится 
до тех пор, пока указатель не будет перемещен в тело файла. Если в не 
юникодной программе совершить при этом запись, файл с конца будет 
заполнен 16-ричным представлением 0 до текущей позиции, после чего 
произойдет запись.</li>
<li>Если файл был открыт для записи или изменения и курсор был перемещен
 за пределы файла, при записи в него, с конца файла до текущей позиции 
он будет заполнен 16-ричным представлением 0, затем произойдет запись.</li>
<li>Если файл был открыт для добавления, позиция указателя в нем всегда остается в его конце.</li>
</ul>
</li>
</ul>
<p>Данное дополнение не может быть использовано, если файл был открыт с 
дополнением FILTER. Для файлов более 2 ГБ, невозможно определить позицию
 указателя.&nbsp; Произвольное перемещение указателя больше подходит для
 бинарных файлов, чем для текстовых. В текстовых файлах позиция будет 
зависеть от кодировки, символов конца строки, использования юникода, а 
так же метки порядка байт.&nbsp; Пример использования дополнения:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406c6887181604" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: file TYPE string VALUE 'test1.dat',
pos TYPE i,
text TYPE string.

OPEN DATASET file FOR OUTPUT IN TEXT MODE
ENCODING DEFAULT
WITH SMART LINEFEED.

TRANSFER: 'Line1' TO file,
'Line2' TO file,
'Line3' TO file.

SET DATASET file POSITION 0.
READ DATASET file INTO text.
SET DATASET file POSITION END OF FILE.

TRANSFER: 'Line4' TO file,
'Line5' TO file,
'Line6' TO file.

CLOSE DATASET file.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406c6887181604-20">20</div><div class="crayon-num" data-line="crayon-5c3d6ff9406c6887181604-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">'test1.dat'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-2">pos<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>i<span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-3">text<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-4">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-5"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-6"><span class="crayon-r">ENCODING</span><span class="crayon-h"> </span><span class="crayon-r">DEFAULT</span></div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-7"><span class="crayon-r">WITH</span><span class="crayon-h"> </span>SMART<span class="crayon-h"> </span>LINEFEED<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-8">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-9"><span class="crayon-st">TRANSFER</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Line1'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-10"><span class="crayon-s">'Line2'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-11"><span class="crayon-s">'Line3'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-12">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-13"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-14"><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>text<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-15"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span>file<span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span><span class="crayon-st">END OF FILE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-16">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-17"><span class="crayon-st">TRANSFER</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Line4'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-18"><span class="crayon-s">'Line5'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-19"><span class="crayon-s">'Line6'</span><span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span>file<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406c6887181604-20">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406c6887181604-21"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>file<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0075 seconds] -->
<p></p>
<ul>
<li>ATTRIBUTES attr – устанавливает изменяемые атрибуты. Для некоторых 
из изменяемых атрибутов существуют константы из пула типов DSET:</li>
</ul>
<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/attr2.png"><img class="alignnone size-full wp-image-1664" alt="attr2" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/attr2.png" srcset="https://abap-blog.ru/wp-content/uploads/2013/12/attr2.png 355w, https://abap-blog.ru/wp-content/uploads/2013/12/attr2-207x300.png 207w" sizes="(max-width: 355px) 100vw, 355px" width="355" height="513"></a></p>
<p>Пример:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406cc954806919" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: dset TYPE string VALUE 'test.dat', 
attr TYPE dset_attributes. 

OPEN DATASET dset FOR INPUT IN LEGACY TEXT MODE 
WITH NATIVE LINEFEED. 

... 

GET DATASET dset ATTRIBUTES attr. 

IF attr-fixed-mode = 'T' OR 
attr-fixed-mode = 'LT'. 
CLEAR attr-changeable. 
attr-changeable-indicator-conv_errors = 'X'. 
attr-changeable-conv_errors = 'I'. 
attr-changeable-indicator-linefeed_mode = 'X'. 
attr-changeable-linefeed_mode = 'S'. 
IF attr-fixed-mode = 'LT'. 
attr-changeable-indicator-code_page = 'X'. 
attr-changeable-code_page = '1100'. 
ENDIF. 
SET DATASET dset ATTRIBUTES attr-changeable. 
ENDIF. 

CLOSE DATASET dset.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-20">20</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-22">22</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406cc954806919-24">24</div><div class="crayon-num" data-line="crayon-5c3d6ff9406cc954806919-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">'test.dat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-2">attr<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>dset<span class="crayon-sy">_</span>attributes<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-4"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-st">INPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span>LEGACY<span class="crayon-h"> </span><span class="crayon-st">TEXT MODE</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-5"><span class="crayon-r">WITH</span><span class="crayon-h"> </span>NATIVE<span class="crayon-h"> </span>LINEFEED<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-6">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-7"><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-8">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-9"><span class="crayon-st">GET DATASET</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">ATTRIBUTES</span><span class="crayon-h"> </span>attr<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-10">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-11"><span class="crayon-st">IF</span><span class="crayon-h"> </span>attr<span class="crayon-o">-</span>fixed<span class="crayon-o">-</span><span class="crayon-r">mode</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'T'</span><span class="crayon-h"> </span><span class="crayon-r">OR</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-12">attr<span class="crayon-o">-</span>fixed<span class="crayon-o">-</span><span class="crayon-r">mode</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'LT'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-13"><span class="crayon-st">CLEAR</span><span class="crayon-h"> </span>attr<span class="crayon-o">-</span>changeable<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-14">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>indicator<span class="crayon-o">-</span>conv<span class="crayon-sy">_</span>errors<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-15">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>conv<span class="crayon-sy">_</span>errors<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'I'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-16">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>indicator<span class="crayon-o">-</span>linefeed<span class="crayon-sy">_</span>mode<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-17">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>linefeed<span class="crayon-sy">_</span>mode<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'S'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-18"><span class="crayon-st">IF</span><span class="crayon-h"> </span>attr<span class="crayon-o">-</span>fixed<span class="crayon-o">-</span><span class="crayon-r">mode</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'LT'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-19">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>indicator<span class="crayon-o">-</span>code<span class="crayon-sy">_</span>page<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-20">attr<span class="crayon-o">-</span>changeable<span class="crayon-o">-</span>code<span class="crayon-sy">_</span>page<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'1100'</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-21"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-22"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span>dset<span class="crayon-h"> </span><span class="crayon-r">ATTRIBUTES</span><span class="crayon-h"> </span>attr<span class="crayon-o">-</span>changeable<span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-23"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406cc954806919-24">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406cc954806919-25"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span>dset<span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0102 seconds] -->
<p><b><i>Обрабатываемые</i></b><b><i> исключения</i></b></p>
<p><b>CX_SY_CODEPAGE_CONVERTER_INIT</b></p>
<p>Причина:&nbsp;Желаемое преобразование невозможно. (Либо неверно 
указана желаемая кодировка, либо указанная кодировка не поддерживается 
на уровне системы)<br>
Ошибка времени выполнения:&nbsp;CONVT_CODEPAGE_INIT</p>
<p><b>CX_</b><b>SY_</b><b>CONVERSION_</b><b>CODEPAGE</b></p>
<p>Причина: Изменение символов замены и обработки ошибок возможно лишь для файлов открытых в TEXT MODE или LEGACY … MODE.<br>
Ошибка времени выполнения: CONVT_CODEPAGE</p>
<p><b>CX_SY_FILE_OPEN_MODE</b></p>
<p>Причина: Файл открыт на чтение, изменение невозможно<br>
Ошибка времени выполнения: DATASET_READ_ONLY</p>
<p>Причина: Файл не был открыт.<br>
Ошибка времени выполнения: DATASET_NOT_OPEN</p>
<p>Причина: Файл открыт в неподдерживаемом режиме.<br>
Ошибка времени выполнения: DATASET_INCOMPATIBLE_MODE</p>
<p><b>CX_SY_FILE_POSITION</b></p>
<p>Причина: Ошибка при смене указателя.<br>
Ошибка времени выполнения: DATASET_SEEK_ERROR</p>
<p>Причина: Нет доступа для смены позиции.<br>
Ошибка времени выполнения: DATASET_NO_POSITION</p>
<p>Причина: Перемещение невозможно на указанную позицию, слишком большая позиция.<br>
Ошибка времени выполнения: DATASET_OFFSET_TOO_LARGE</p>
<p><b><i>Не обрабатываемые исключения</i></b></p>
<p>Причина:&nbsp;Невозможно изменить позицию для именованного канала.<br>
Ошибка времени выполнения:&nbsp;DATASET_PIPE_POSITION</p>
<p>&nbsp;</p>
<h2>TRUNCATE DATASET</h2>
<p>Синтаксис:</p>
<p><b>TRUNCATE DATASET dset AT {CURRENT POSITION}|{POSITION pos}.</b></p>
<p>С помощью данного оператора можно изменить размер файла (уменьшить 
или увеличить). Уменьшается когда позиция указателя после AT меньше 
текущего размера файла, увеличивается, когда больше. При увеличении 
размера файл заполняется 16-ричным представлением 0.</p>
<p>Оператор можно использовать, если файл открыт на запись, изменение или дополнение, а так же не указано дополнение FILTER.</p>
<p>Оператор всегда возвращает sy-subrc равное 0, либо вызывает 
исключение. Оператор не устанавливает новую позицию для указателя в 
файле. Если файл открыт для добавления, указатель перемещается 
непосредственно перед записью в файл.</p>
<p>Дополнения:</p>
<ul>
<li>CURRENT POSITION&nbsp; — устанавливает конец в файла в текущей позиции</li>
<li>POSITION pos – устанавливает конец файла в указанной в pos позиции. В
 pos может быть передана любая числовая переменная, если её значение 
целое и не отрицательное.</li>
</ul>
<p>Пример использования оператора TRUNCATE:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406d5676220133" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">DATA: name TYPE string VALUE `test.dat`,
      hex  TYPE xstring.

hex = 'FFFF'.

OPEN DATASET name FOR OUTPUT IN BINARY MODE.

TRANSFER hex TO name.
SET DATASET name POSITION 0.
READ DATASET name INTO hex.

TRUNCATE DATASET name AT POSITION 1.
SET DATASET name POSITION 0.
READ DATASET name INTO hex.

TRUNCATE DATASET name AT POSITION 2.
SET DATASET name POSITION 0.
READ DATASET name INTO hex.

CLOSE DATASET name.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406d5676220133-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406d5676220133-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-h"> </span><span class="crayon-r">VALUE</span><span class="crayon-h"> </span><span class="crayon-s">`test.dat`</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>hex<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">xstring</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-4">hex<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'FFFF'</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-6"><span class="crayon-r">OPEN</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-r">FOR</span><span class="crayon-h"> </span><span class="crayon-r">OUTPUT</span><span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span><span class="crayon-st">BINARY MODE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-8"><span class="crayon-st">TRANSFER</span><span class="crayon-h"> </span>hex<span class="crayon-h"> </span><span class="crayon-r">TO</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-9"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-10"><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>hex<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-12"><span class="crayon-st">TRUNCATE DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-st">AT POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-13"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-14"><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>hex<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-16"><span class="crayon-st">TRUNCATE DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-st">AT POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-17"><span class="crayon-st">SET DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-st">POSITION</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-18"><span class="crayon-st">READ DATASET</span><span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>hex<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406d5676220133-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406d5676220133-20"><span class="crayon-r">CLOSE</span><span class="crayon-h"> </span>DATASET<span class="crayon-h"> </span><span class="crayon-r">name</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0065 seconds] -->
<p>После первого вызова оператора в файле останется значение «FF», после второго «FF00».</p>
<p><b><i>Обрабатываемые исключения</i></b></p>
<p><b>CX_SY_FILE_OPEN</b></p>
<p>Причина:&nbsp;Файл не был открыт.<br>
Ошибка времени выполнения:&nbsp;DATASET_NOT_OPEN</p>
<p>Причина:&nbsp;Файл открыт только для чтения.<br>
Ошибка времени выполнения:&nbsp;DATASET_READ_ONLY</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>AUTHORITY</b></p>
<p>Причина:&nbsp;Нет доступа к файлу<br>
Ошибка времени выполнения:&nbsp;OPEN_DATASET_NO_AUTHORITY</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>POSITION</b></p>
<p>Причина:&nbsp;Указана неверная позиция.<br>
Ошибка времени выполнения:&nbsp;DATASET_OFFSET_TOO_LARGE</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>TRUNCATE</b></p>
<p>Причина:&nbsp;ОС не может изменить размер файла.<br>
Ошибка времени выполнения:&nbsp;DATASET_TRUNCATE_ERROR</p>
<p>Причина:&nbsp;Невозможно изменить размер файла, открытого с дополнением FILTER.<br>
Ошибка времени выполнения:&nbsp;DATASET_TRUNCATE_ERROR</p>
<p><b><i>Не обрабатываемые исключения</i></b></p>
<p>Причина:&nbsp;Внутренняя ошибка.<br>
Ошибка времени выполнения:&nbsp;DATASET_TRUNCATE_ERROR</p>
<p>&nbsp;</p>
<h2>CLOSE DATASET</h2>
<p>Синтаксис:</p>
<p><b>CLOSE DATASET dset.</b></p>
<p>Оператор закрывает набор данных. Если файл уже был закрыт или еще не 
открыт, система игнорирует данный оператор, sy-subrc равен 0.&nbsp; Если
 в ОС используется буфер при изменении файла, все что было в нем, 
переносится в файл.&nbsp; Если при закрытии программы не было явного 
вызова закрытия набора данных, он закрывается автоматически.</p>
<p>Если файл открыт с дополнением FILTER, при его закрытии sy-subrc 
содержит код возврата из именованного канала, возвращаемый ОС. Если не 
было исключений sy-subrc равно 0.</p>
<p><b><i>Обрабатываемые исключения</i></b></p>
<p><b>CX_SY_FILE_CLOSE</b></p>
<p>Причина:&nbsp;Файл не был закрыт. Возможной причиной является недостаток памяти.<br>
Ошибка времени выполнения:&nbsp;DATASET_CANT_CLOSE</p>
<p>&nbsp;</p>
<h2>DELETE DATASET</h2>
<p>Синтаксис:</p>
<p><b>DELETE DATASET dset.</b></p>
<p>Удаляет указанный файл, при этом он может быть закрыт или 
открыт.&nbsp; Если имя файла приходит извне, оно может нести серьезный 
риск из-за обхода директорий (см. выше) и требует дополнительной 
проверки.</p>
<p>Если значение поля sy-subrc равно 0, файл был удален. Если значение поля sy-subrc равно 4, файл не был удален.</p>
<p><b><i>Обрабатываемые исключения</i></b></p>
<p><b>CX_SY_FILE_AUTHORITY</b></p>
<p>Причина: Нет доступа к файлу<br>
Ошибка времени выполнения:&nbsp;OPEN_DATASET_NO_AUTHORITY</p>
<p><b>CX_</b><b>SY_</b><b>FILE_</b><b>OPEN</b></p>
<p>Причина:&nbsp;Файл не может быть открыт<br>
Ошибка времени выполнения:&nbsp;DATASET_CANT_OPEN</p>
<p>&nbsp;</p>
<h2>Дополнительные операции при работе с файлами</h2>
<p>Файловый интерфейс ABAP не предоставляет таких возможностей, как: 
переименовать файл (без его копирования в другой файл), листинга в 
директориях на сервере приложений,&nbsp; копирования файла без его 
полного считывания через сервер приложений и др. Большинство этих 
операций выполняются на уровне системных команд сервера приложений, 
таких как: cp, mv, mkdir и других.</p>
<p>Для демонстрации работы данных операций можно посмотреть программу <a href="http://scn.sap.com/community/abap/blog/2012/05/03/al11-replacement">ZAL11</a>, которая является заменой стандартной тр. AL11, но с более продвинутыми возможностями:</p>
<p><a href="http://abap-blog.ru/wp-content/uploads/2013/12/zall11.png"><img class="alignnone size-large wp-image-1666" alt="zall11" src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/zall11-1024x459.png" srcset="https://abap-blog.ru/wp-content/uploads/2013/12/zall11-1024x459.png 1024w, https://abap-blog.ru/wp-content/uploads/2013/12/zall11-300x134.png 300w, https://abap-blog.ru/wp-content/uploads/2013/12/zall11.png 1213w" sizes="(max-width: 550px) 100vw, 550px" width="550" height="246"></a></p>
<p>Так, например, выглядит процедура копирования (перемещения) файла (директории):</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c3d6ff9406df569184182" class="crayon-syntax crayon-theme-classic-copy crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin: 12px auto; float: none; font-size: 13px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 13px !important; height: 19.5px !important; line-height: 19.5px !important; margin-top: -20px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 13px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">*&amp;---------------------------------------------------------------------*
*&amp;      Form  COPY_ITEM
*&amp;---------------------------------------------------------------------*
*       Copy or move remote file/folder
*----------------------------------------------------------------------*
*      --&gt;PW_NAME        File/folder to move/copy
*      --&gt;PW_PATH_TARGET Target folder
*      --&gt;PW_ACTION      Move : 2, copy : 1
*      --&gt;PW_TYPE        0=file, 1=folder
*----------------------------------------------------------------------*
FORM copy_item USING pw_name TYPE c
                     pw_path_target TYPE c
                     pw_action TYPE i
                     pw_type TYPE i.
  DATA : lw_command(1000) TYPE c,
         lw_action(1) TYPE c,
         lw_name TYPE string,
         lw_target TYPE string.

* Authority check for move/copy files
  IF s_auth-move_file NE c_true AND pw_type = 0.
    MESSAGE 'You are not allowed to perform this action'(e21)
            TYPE 'S' DISPLAY LIKE 'E'.
    EXIT.
  ENDIF.

* Authority check for move/copy folders
  IF s_auth-move_folder NE c_true AND pw_type = 1.
    MESSAGE 'You are not allowed to perform this action'(e21)
            TYPE 'S' DISPLAY LIKE 'E'.
    EXIT.
  ENDIF.

  CONCATENATE '"' pw_name '"' INTO lw_name.
  CONCATENATE '"' pw_path_target '"' INTO lw_target.

* Confirm action on remote server
  IF pw_action = 1.
    lw_command = 'Are you sure you want to copy # into # ?'(t01).
  ELSE.
    lw_command = 'Are you sure you want to move # into # ?'(t02).
  ENDIF.
  REPLACE FIRST OCCURRENCE OF c_wildcard IN lw_command WITH lw_name.
  REPLACE FIRST OCCURRENCE OF c_wildcard IN lw_command WITH lw_target.
  PERFORM confirm_action USING lw_command CHANGING lw_action.
  IF lw_action = space.
    EXIT.
  ENDIF.

  IF pw_action = 1.
* Server command to copy file/folder
    CONCATENATE 'cp -r' lw_name lw_target INTO lw_command
                SEPARATED BY space.
  ELSE.
* Server command to move file/folder
    CONCATENATE 'mv' lw_name lw_target INTO lw_command
                SEPARATED BY space.
  ENDIF.
  CALL 'SYSTEM' ID 'COMMAND' FIELD lw_command.

* If application server is too fast, file server is not updated
* before querriing. Wait 1 second after server action
  WAIT UP TO 1 SECONDS.

ENDFORM.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-2">2</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-4">4</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-6">6</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-8">8</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-10">10</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-12">12</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-14">14</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-16">16</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-18">18</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-20">20</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-22">22</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-24">24</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-26">26</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-28">28</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-30">30</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-32">32</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-34">34</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-36">36</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-38">38</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-40">40</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-42">42</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-44">44</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-46">46</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-48">48</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-50">50</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-52">52</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-54">54</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-56">56</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-58">58</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-60">60</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-62">62</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c3d6ff9406df569184182-64">64</div><div class="crayon-num" data-line="crayon-5c3d6ff9406df569184182-65">65</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-1"><span class="crayon-c">*&amp;---------------------------------------------------------------------*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-2"><span class="crayon-c">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;COPY_ITEM</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-3"><span class="crayon-c">*&amp;---------------------------------------------------------------------*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-4"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Copy or move remote file/folder</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-5"><span class="crayon-c">*----------------------------------------------------------------------*</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-6"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;PW_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File/folder to move/copy</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-7"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;PW_PATH_TARGET Target folder</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-8"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;PW_ACTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Move : 2, copy : 1</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-9"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;PW_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0=file, 1=folder</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-10"><span class="crayon-c">*----------------------------------------------------------------------*</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-11"><span class="crayon-st">FORM</span><span class="crayon-h"> </span>copy<span class="crayon-sy">_</span>item<span class="crayon-h"> </span><span class="crayon-r">USING</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>c</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pw<span class="crayon-sy">_</span>path<span class="crayon-sy">_</span>target<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>c</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pw<span class="crayon-sy">_</span>action<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>i</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pw<span class="crayon-sy">_</span>type<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>i<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">DATA</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">lw_command</span><span class="crayon-o">(</span><span class="crayon-cn">1000</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>c<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">lw_action</span><span class="crayon-o">(</span><span class="crayon-cn">1</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span>c<span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>lw<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>lw<span class="crayon-sy">_</span>target<span class="crayon-h"> </span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-r">string</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-20"><span class="crayon-c">* Authority check for move/copy files</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>s<span class="crayon-sy">_</span>auth<span class="crayon-o">-</span>move<span class="crayon-sy">_</span>file<span class="crayon-h"> </span><span class="crayon-r">NE</span><span class="crayon-h"> </span>c<span class="crayon-sy">_</span>true<span class="crayon-h"> </span><span class="crayon-r">AND</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>type<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-s">'You are not allowed to perform this action'</span><span class="crayon-o">(</span>e21<span class="crayon-o">)</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'S'</span><span class="crayon-h"> </span><span class="crayon-st">DISPLAY LIKE</span><span class="crayon-h"> </span><span class="crayon-s">'E'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-26">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-27"><span class="crayon-c">* Authority check for move/copy folders</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>s<span class="crayon-sy">_</span>auth<span class="crayon-o">-</span>move<span class="crayon-sy">_</span>folder<span class="crayon-h"> </span><span class="crayon-r">NE</span><span class="crayon-h"> </span>c<span class="crayon-sy">_</span>true<span class="crayon-h"> </span><span class="crayon-r">AND</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>type<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-s">'You are not allowed to perform this action'</span><span class="crayon-o">(</span>e21<span class="crayon-o">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">TYPE</span><span class="crayon-h"> </span><span class="crayon-s">'S'</span><span class="crayon-h"> </span><span class="crayon-st">DISPLAY LIKE</span><span class="crayon-h"> </span><span class="crayon-s">'E'</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CONCATENATE</span><span class="crayon-h"> </span><span class="crayon-s">'"'</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-s">'"'</span><span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>name<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CONCATENATE</span><span class="crayon-h"> </span><span class="crayon-s">'"'</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>path<span class="crayon-sy">_</span>target<span class="crayon-h"> </span><span class="crayon-s">'"'</span><span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>target<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-36">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-37"><span class="crayon-c">* Confirm action on remote server</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>action<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>lw<span class="crayon-sy">_</span>command<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Are you sure you want to copy # into # ?'</span><span class="crayon-o">(</span>t01<span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>lw<span class="crayon-sy">_</span>command<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Are you sure you want to move # into # ?'</span><span class="crayon-o">(</span>t02<span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">REPLACE</span><span class="crayon-h"> </span><span class="crayon-st">FIRST OCCURRENCE OF</span><span class="crayon-h"> </span>c<span class="crayon-sy">_</span>wildcard<span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command<span class="crayon-h"> </span><span class="crayon-r">WITH</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>name<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">REPLACE</span><span class="crayon-h"> </span><span class="crayon-st">FIRST OCCURRENCE OF</span><span class="crayon-h"> </span>c<span class="crayon-sy">_</span>wildcard<span class="crayon-h"> </span><span class="crayon-r">IN</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command<span class="crayon-h"> </span><span class="crayon-r">WITH</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>target<span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-45"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">PERFORM</span><span class="crayon-h"> </span>confirm<span class="crayon-sy">_</span>action<span class="crayon-h"> </span><span class="crayon-r">USING</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command<span class="crayon-h"> </span><span class="crayon-r">CHANGING</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>action<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>action<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">space</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>pw<span class="crayon-sy">_</span>action<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-51"><span class="crayon-c">* Server command to copy file/folder</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CONCATENATE</span><span class="crayon-h"> </span><span class="crayon-s">'cp -r'</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>name<span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>target<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">SEPARATED BY</span><span class="crayon-h"> </span><span class="crayon-r">space</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-54"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ELSE</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-55"><span class="crayon-c">* Server command to move file/folder</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CONCATENATE</span><span class="crayon-h"> </span><span class="crayon-s">'mv'</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>name<span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>target<span class="crayon-h"> </span><span class="crayon-r">INTO</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">SEPARATED BY</span><span class="crayon-h"> </span><span class="crayon-r">space</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-58"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-59"><span class="crayon-h">&nbsp;&nbsp;</span>CALL<span class="crayon-h"> </span><span class="crayon-s">'SYSTEM'</span><span class="crayon-h"> </span><span class="crayon-r">ID</span><span class="crayon-h"> </span><span class="crayon-s">'COMMAND'</span><span class="crayon-h"> </span><span class="crayon-r">FIELD</span><span class="crayon-h"> </span>lw<span class="crayon-sy">_</span>command<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-60">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-61"><span class="crayon-c">* If application server is too fast, file server is not updated</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-62"><span class="crayon-c">* before querriing. Wait 1 second after server action</span></div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-63"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WAIT UP TO</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-r">SECONDS</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c3d6ff9406df569184182-64">&nbsp;</div><div class="crayon-line" id="crayon-5c3d6ff9406df569184182-65"><span class="crayon-st">ENDFORM</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0192 seconds] -->
<p>Вызов системных команд подобным образом, не является безопасным, подробнее читайте в <a title="Безопасный запуск системных команд из ABAP" href="http://scn.sap.com/community/abap/blog/2013/10/29/secure-execution-of-os-commands-by-abap-programs" target="_blank">блоге</a>.</p>
<p>&nbsp;</p>
							</div>
		<div class="tags-links"><a href="https://abap-blog.ru/tag/rabota-s-fajlami/" rel="tag">работа с файлами</a> <a href="https://abap-blog.ru/tag/fajl/" rel="tag">файл</a> <a href="https://abap-blog.ru/tag/fajlovyj-interfejs/" rel="tag">файловый интерфейс</a></div></article>
	
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://abap-blog.ru/files/fajlovyj-interfejs-abap-kontrol-dostupa-i-blokirovki/" rel="prev"><span class="meta-nav" aria-hidden="true">Назад</span> <span class="screen-reader-text">Предыдущая запись:</span> <span class="post-title">Файловый интерфейс ABAP – контроль доступа и блокировки</span></a></div><div class="nav-next"><a href="https://abap-blog.ru/osnovy-abap/chtenie-podrobnogo-teksta-iz-klassa-soobshhenij/" rel="next"><span class="meta-nav" aria-hidden="true">Далее</span> <span class="screen-reader-text">Следующая запись:</span> <span class="post-title">Чтение подробного текста из класса сообщений</span></a></div></div>
	</nav>
<div id="disqus_thread"></div>
			</div>
											<footer class="site-info" itemscope="" itemtype="http://schema.org/WPFooter">
										<a href="http://wordpress.org/" title="Современная персональная платформа для публикаций">Сайт работает на WordPress</a>.
					Тема: Flat 1.7.11 от <a rel="nofollow" href="https://themeisle.com/themes/flat/" title="Flat WordPress Theme">Themeisle</a>.				</footer>
														</div>
					</div>
	</div>
</div>
<script type="text/javascript">
/* <![CDATA[ */
var countVars = {"disqusShortname":"abapblogru"};
/* ]]> */
</script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/comment_count.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.16"},"disqusIdentifier":"1660 http:\/\/abap-blog.ru\/?p=1660","disqusShortname":"abapblogru","disqusTitle":"\u0424\u0430\u0439\u043b\u043e\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u2014 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438","disqusUrl":"https:\/\/abap-blog.ru\/files\/fajlovyj-interfejs-operacii-s-fajlami\/","postId":"1660"};
/* ]]> */
</script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/comment_embed.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/comment-reply.js"></script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/jquery.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var mv_dynamic_to_top = {"text":"0","version":"0","min":"200","speed":"1000","easing":"easeInOutExpo","margin":"20"};
/* ]]> */
</script>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/dynamic.js"></script><a href="#" id="dynamic-to-top" style="display: none;"><span>&nbsp;</span></a>
<script src="ABAP%20Blog%20%20%20%E2%80%94%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8_files/wp-embed.js"></script>


</body></html>
<!-- WP Super Cache is installed but broken. The constant WPCACHEHOME must be set in the file wp-config.php and point at the WP Super Cache plugin directory. -->