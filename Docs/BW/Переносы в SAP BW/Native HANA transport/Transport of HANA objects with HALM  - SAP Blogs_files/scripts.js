'use strict';jQuery(document).ready(function(a){function b(i,j){var k=a(i).closest(g.PARENT_OBJECT_SELECTOR).find(g.ICON_SELECTOR);k.removeClass(j?g.ARROW_RIGHT_CLASS:g.ARROW_DOWN_CLASS),k.addClass(j?g.ARROW_DOWN_CLASS:g.ARROW_RIGHT_CLASS)}function c(){return'<div class="dm-loading-indicator"><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar1"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar2"></div><div class="dm-loading-indicator__bar dm-loading-indicator__bar--bar3"></div></div>'}function d(i){a(i).append(c())}function f(i){a(i).find('.dm-loading-indicator').remove()}var g={PARENT_OBJECT_SELECTOR:'.dm-collapse__wrapper',ICON_SELECTOR:'.dm-icon-encoded',ARROW_RIGHT_CLASS:'dm-icon-encoded--arrow-right',ARROW_DOWN_CLASS:'dm-icon-encoded--arrow-down'},h=a('.dm-comment-alerted__title[data-toggle="collapse"]');h.on('shown.dm.collapse',function(i){b(i.target,!0)}),h.on('hidden.dm.collapse',function(i){b(i.target,!1)}),a('.wprc-submit-v3').click(function(){var i=a(this),j=i.attr('name'),k=a(this).parents('.wprc-content-v3'),l=k.find('.wprc-form-v3'),m=k.find('.wprc-message-v3'),n=k.find('input[name="wprc_content_id"]').val(),o=k.find('input[name="wprc_content_type"]').val(),p=k.find('.input-reason-v3').val(),q=k.find('.input-details-v3').val();i.prop('disabled',!0),a.ajax({type:'POST',url:wprcajaxhandler.ajaxurl,data:{action:'wprc_add_report',_ajax_nonce:j,id:n,type:o,reason:p,details:q,redirect:window.location.pathname},beforeSend:function beforeSend(){d(k)},complete:function complete(){f(k)},success:function success(r){r=a.parseJSON(r),r.success?(m.html(r.message).addClass('dm-notice--lightblue').show(),l.find('.dm-actionsForm__container').remove()):(i.prop('disabled',!1),m.html(r.message).addClass('dm-notice--warning').show())},error:function error(r,s,t){m.html('An unexpected error has occurred.').addClass('dm-notice--warning').show(),console.log('Moderation Alert is not saved. Error status: '+s+', error Thrown: '+t),i.prop('disabled',!1)}})}).prop('disabled',!1)});