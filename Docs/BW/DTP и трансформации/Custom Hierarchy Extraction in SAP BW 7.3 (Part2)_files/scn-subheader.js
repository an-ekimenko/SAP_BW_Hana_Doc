!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strToEl=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}},function(e,t,n){"use strict";var i=o(n(2)),r=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}n(4);var s=document.querySelector(".dm-breadcrumb"),a=void 0;document.addEventListener("DOMContentLoaded",function(){var e=window.headerInitArgs?window.headerInitArgs:window.header_init_args;new i.default(e),(a=new r.default(e)).rePopulateSubNavigation(),a.renderActions()}),window.addEventListener("message",function(e){try{var t=JSON.parse(e.data);if(t.message)if("authIFrameLoaded"===t.message)(window.headerInitArgs?window.headerInitArgs:window.header_init_args).user&&(s.classList.remove("dm-user--unauthenticated"),s.classList.contains("dm-user--authenticated")||s.classList.add("dm-user--authenticated")),a.renderActions()}catch(e){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0);var o=function(){function e(t){var n=t.breadcrumbItems,i=void 0===n?[]:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$breadcrumb=document.querySelector(".dm-breadcrumb"),this.$navList=this.$breadcrumb.querySelector(".dm-breadcrumb-nav"),this.items=i,this.populateDefaultBreadcrumbItems(),this.populateBreadcrumb()}return i(e,[{key:"populateBreadcrumb",value:function(){var e=this,t=this.items.sort(function(e,t){return e.position&&t.position?e.position-t.position:0}).map(function(t){var n=t.text,i=t.href;return e.renderItem(n,i)}).reduce(function(e,t){return e.appendChild(t),e},document.createDocumentFragment());this.$navList.appendChild(t)}},{key:"populateDefaultBreadcrumbItems",value:function(){SCN_HEADER_CONF.landscape.defaultBreadcrumb&&SCN_HEADER_CONF.landscape.defaultBreadcrumb.map(function(e){return{id:e.id,href:e.url,text:e.name,link:document.getElementById(e.id)}}).filter(function(e){return e.link}).forEach(function(e){e.link.href=e.href,e.link.text=e.text,e.link.title=e.text})}},{key:"renderItem",value:function(e,t){var n=t?'<a href="'+t+'" title="'+e+'">'+e+"</a>":e;return(0,r.strToEl)("<li>"+n+"</li>")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0);var o=window.SCN_HEADER_CONF.landscape,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$actionsList=document.querySelector(".dm-breadcrumb-actions"),this.$userActionsDropdown=this.$actionsList.querySelector(".dm-breadcrumb-actions__dropdown"),this.$userActionsList=this.$actionsList.querySelector(".dm-breadcrumb-actions__dropdown-menu"),this.$userActionsOpener=this.$actionsList.querySelector(".dm-breadcrumb-actions__dropdown-toggle"),this.$createQuestionItem=this.$actionsList.querySelector("#comm-shdr-AskQuestion"),this.$createBlogpostItem=this.$actionsList.querySelector("#comm-shdr-WriteBlogPost"),this.args=t,this.currentUser=this.args.user,this._onClickOutside=this._onClickOutside.bind(this),this._onEscape=this._onEscape.bind(this),this._onOpenerClick=this._onOpenerClick.bind(this),this.initEventListeners()}return i(e,[{key:"renderActions",value:function(){var e=[].concat(this._getStandardActions()).concat(this._getUserActions()).map(function(e){var t=e.url,n=e.id,i=e.name;return(0,r.strToEl)('<li id="'+n+'"><a href="'+t+'" title="'+i+'">'+i+"</a></li>")}).reduce(function(e,t){return e.appendChild(t),e},document.createDocumentFragment());this.$userActionsList.innerHTML="",this.$userActionsList.appendChild(e),this.$userActionsList.classList.add("comm-shdr-populated")}},{key:"rePopulateSubNavigation",value:function(){var e=o.subHeaderActions.subnavigation,t=void 0===e?[]:e,n=this.args.subnavigation;this._updateAskQuestion(t,n),this._updateWriteBlogpost(t,n)}},{key:"toggleUserActions",value:function(){this.isUserActionsOpen()?this.hideUserActions():this.showUserActions()}},{key:"showUserActions",value:function(){this.$userActionsDropdown.classList.add("dm-breadcrumb-actions__dropdown--open")}},{key:"hideUserActions",value:function(){this.$userActionsDropdown.classList.remove("dm-breadcrumb-actions__dropdown--open")}},{key:"isUserActionsOpen",value:function(){return this.$userActionsDropdown.classList.contains("dm-breadcrumb-actions__dropdown--open")}},{key:"initEventListeners",value:function(){this.$userActionsOpener.addEventListener("click",this._onOpenerClick),window.addEventListener("mouseup",this._onClickOutside),window.addEventListener("touchend",this._onClickOutside),window.addEventListener("keydown",this._onEscape)}},{key:"_getStandardActions",value:function(){var e=o.subHeaderActions.standardActions,t=void 0===e?[]:e,n=this.args.subheaderOptionalActions,i=void 0===n?[]:n;return Object.keys(t).filter(function(e){return!t[e].optional||i.indexOf(e)>-1}).map(function(e){return t[e]})}},{key:"_updateAskQuestion",value:function(e,t){var n=e.askQuestion;t&&t.preFilledTopic?this.$createQuestionItem.href=n.url+"?contentTopicId="+t.preFilledTopic:this.$createQuestionItem.href=n.url}},{key:"_updateWriteBlogpost",value:function(e,t){var n=e.writeBlogPost;t&&t.preFilledTopic?this.$createBlogpostItem.href=n.url+"?contentTopicId="+t.preFilledTopic:this.$createBlogpostItem.href=n.url}},{key:"_getUserActions",value:function(){var e=o.subHeaderActions.additionalActions,t=void 0===e?[]:e,n=[];return this._isModerator()?n.push(t.moderation):n.push(t.gettingStarted),this._isAdministrator()&&n.push(t[this.args.system+"Administration"]),n.filter(function(e){return e})}},{key:"_isModerator",value:function(){var e=this.args.user;return e&&e.roles&&-1!==e.roles.indexOf("moderator")}},{key:"_isAdministrator",value:function(){var e=this.args.user;return e&&e.roles&&-1!==e.roles.indexOf("administrator")}},{key:"_onOpenerClick",value:function(e){e.preventDefault(),this.toggleUserActions()}},{key:"_onEscape",value:function(e){27===e.which&&(this.hideUserActions(),e.preventDefault())}},{key:"_onClickOutside",value:function(e){e.target===this.$userActionsOpener||this.$userActionsDropdown.contains(e.target)||this.hideUserActions()}}]),e}();t.default=s},function(e,t,n){}]);