<!DOCTYPE html>
<html class="v2" dir="ltr" lang="en"><head>
<link href="Delta%20Merges_files/2727757643-css_bundle_v2.css" rel="stylesheet" type="text/css">
<meta content="width=1100" name="viewport">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="blogger" name="generator">
<link href="http://sapkbs.blogspot.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="Delta%20Merges_files/2057046-faq-sap-hana-delta-merges_003.htm" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Helping Notes - Atom" href="http://sapkbs.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Helping Notes - RSS" href="http://sapkbs.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Helping Notes - Atom" href="https://www.blogger.com/feeds/4122317656838628332/posts/default">

<link rel="alternate" type="application/atom+xml" title="Helping Notes - Atom" href="http://sapkbs.blogspot.com/feeds/1579319339253468505/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/864213505-ieretrofit.js"></script>
<![endif]-->
<link href="Delta%20Merges_files/deltaStorage.JPG" rel="image_src">
<meta content="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html" property="og:url">
<meta content="2057046 - FAQ: SAP HANA Delta Merges" property="og:title">
<meta content="        Symptom      You want to understand merges in SAP HANA environments.           Environment      SAP HANA           Cause      1. Wha..." property="og:description">
<meta content="https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/w1200-h630-p-k-no-nu/deltaStorage.JPG" property="og:image">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Helping Notes: 2057046 - FAQ: SAP HANA Delta Merges</title>
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#66bbdd"/>
<Group description="Page Text" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#222222"/>
</Group>
<Group description="Backgrounds" selector=".body-fauxcolumns-outer">
<Variable name="body.background.color" description="Outer Background" type="color" default="#66bbdd"/>
<Variable name="content.background.color" description="Main Background" type="color" default="#ffffff"/>
<Variable name="header.background.color" description="Header Background" type="color" default="transparent"/>
</Group>
<Group description="Links" selector=".main-outer">
<Variable name="link.color" description="Link Color" type="color" default="#2288bb"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#888888"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Font" type="font"
default="normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#3399bb" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.text.color" description="Description Color" type="color"
default="#777777" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#999999"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#000000"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#f5f5f5"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Post Title" selector="h3.post-title, .comments h4">
<Variable name="post.title.font" description="Font" type="font"
default="normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
</Group>
<Group description="Date Header" selector=".date-header">
<Variable name="date.header.color" description="Text Color" type="color"
default="#666666"/>
<Variable name="date.header.background.color" description="Background Color" type="color"
default="transparent"/>
<Variable name="date.header.font" description="Text Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.header.padding" description="Date Header Padding" type="string" default="inherit"/>
<Variable name="date.header.letterspacing" description="Date Header Letter Spacing" type="string" default="inherit"/>
<Variable name="date.header.margin" description="Date Header Margin" type="string" default="inherit"/>
</Group>
<Group description="Post Footer" selector=".post-footer">
<Variable name="post.footer.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="post.footer.background.color" description="Background Color" type="color"
default="#f9f9f9"/>
<Variable name="post.footer.border.color" description="Shadow Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Gadgets" selector="h2">
<Variable name="widget.title.font" description="Title Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Title Color" type="color" default="#000000"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#999999"/>
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="#ffffff"/>
<Variable name="image.border.color" description="Border Color" type="color" default="#eeeeee"/>
<Variable name="image.text.color" description="Caption Text Color" type="color" default="#666666"/>
</Group>
<Group description="Accents" selector=".content-inner">
<Variable name="body.rule.color" description="Separator Line Color" type="color" default="#eeeeee"/>
<Variable name="tabs.border.color" description="Tabs Border Color" type="color" default="transparent"/>
</Group>
<Variable name="body.background" description="Body Background" type="background"
color="#ffffff" default="$(color) none repeat scroll top left"/>
<Variable name="body.background.override" description="Body Background Override" type="string" default=""/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="body.background.gradient.tile" description="Body Gradient Tile" type="url"
default="url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png)"/>
<Variable name="content.background.color.selector" description="Content Background Color Selector" type="string" default=".content-inner"/>
<Variable name="content.padding" description="Content Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.padding.horizontal" description="Content Horizontal Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="40px" min="0" max="100px"/>
<Variable name="content.shadow.spread.webkit" description="Content Shadow Spread (WebKit)" type="length" default="5px" min="0" max="100px"/>
<Variable name="content.shadow.spread.ie" description="Content Shadow Spread (IE)" type="length" default="10px" min="0" max="100px"/>
<Variable name="main.border.width" description="Main Border Width" type="length" default="0" min="0" max="10px"/>
<Variable name="header.background.gradient" description="Header Gradient" type="url" default="none"/>
<Variable name="header.shadow.offset.left" description="Header Shadow Offset Left" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.offset.top" description="Header Shadow Offset Top" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.spread" description="Header Shadow Spread" type="length" default="1px" min="0" max="100px"/>
<Variable name="header.padding" description="Header Padding" type="length" default="30px" min="0" max="100px"/>
<Variable name="header.border.size" description="Header Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.bottom.border.size" description="Header Bottom Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.border.horizontalsize" description="Header Horizontal Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="description.text.size" description="Description Text Size" type="string" default="140%"/>
<Variable name="tabs.margin.top" description="Tabs Margin Top" type="length" default="0" min="0" max="100px"/>
<Variable name="tabs.margin.side" description="Tabs Side Margin" type="length" default="30px" min="0" max="100px"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="tabs.border.width" description="Tabs Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="tabs.bevel.border.width" description="Tabs Bevel Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="post.margin.bottom" description="Post Bottom Margin" type="length" default="25px" min="0" max="100px"/>
<Variable name="image.border.small.size" description="Image Border Small Size" type="length" default="2px" min="0" max="10px"/>
<Variable name="image.border.large.size" description="Image Border Large Size" type="length" default="5px" min="0" max="10px"/>
<Variable name="page.width.selector" description="Page Width Selector" type="string" default=".region-inner"/>
<Variable name="page.width" description="Page Width" type="string" default="auto"/>
<Variable name="main.section.margin" description="Main Section Margin" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding" description="Main Padding" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding.top" description="Main Padding Top" type="length" default="30px" min="0" max="100px"/>
<Variable name="main.padding.bottom" description="Main Padding Bottom" type="length" default="30px" min="0" max="100px"/>
<Variable name="paging.background"
color="#ffffff"
description="Background of blog paging area" type="background"
default="transparent none no-repeat scroll top center"/>
<Variable name="footer.bevel" description="Bevel border length of footer" type="length" default="0" min="0" max="10px"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.background.size" description="Mobile Background Size" type="string" default="auto"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 12px 'Trebuchet MS', Trebuchet, Verdana, sans-serif;
color: #666666;
background: #ffffff none repeat scroll top left;
padding: 0 0 0 0;
background:url('https://3.bp.blogspot.com/-pvirZeSJpT8/VsQvPU_iBlI/AAAAAAAAAb4/q5kePAXqjvM/s1600/helping%2Bnotes%2Bbg.jpg')
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #2288bb;
}
a:visited {
text-decoration:none;
color: #888888;
}
a:hover {
text-decoration:underline;
color: #33aaff;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
background: #ffffff none repeat scroll top left;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 0 #333333;
box-shadow: 0 0 0 rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 40px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 40px 'Trebuchet MS',Trebuchet,Verdana,sans-serif;
color: #000000;
text-shadow: 0 0 0 rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #000000;
}
.Header .description {
font-size: 18px;
color: #000000;
}
.header-inner .Header .titlewrapper {
padding: 22px 0;
}
.header-inner .Header .descriptionwrapper {
padding: 0 0;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #dddddd;
}
.tabs-inner .section:first-child ul {
margin-top: -1px;
border-top: 1px solid #dddddd;
border-left: 1px solid #dddddd;
border-right: 1px solid #dddddd;
}
.tabs-inner .widget ul {
background: transparent none repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #dddddd;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 12px 'Trebuchet MS', Trebuchet, Verdana, sans-serif;
color: #000000;
border-left: 1px solid #ffffff;
border-right: 1px solid #dddddd;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid transparent;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid transparent;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid transparent;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px 'Trebuchet MS',Trebuchet,Verdana,sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: #bbbbbb;
color: #ffffff;
padding: 0.4em;
letter-spacing: 3px;
margin: inherit;
}
.main-inner {
padding-top: 35px;
padding-bottom: 65px;
}
.main-inner .column-center-inner {
padding: 0 0;
}
.main-inner .column-center-inner .section {
margin: 0 1em;
}
.post {
margin: 0 0 45px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px 'Trebuchet MS',Trebuchet,Verdana,sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #666666;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #eeeeee;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid transparent;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #eeeeee;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid transparent;
}
.blog-pager {
background: transparent url(//www.blogblog.com/1kt/simple/paging_dot.png) repeat-x scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 1px dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #666666;
}
.mobile-link-button {
background-color: #2288bb;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #dddddd;
border-bottom: 1px solid #dddddd;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #dddddd;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 1220px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1220px;
max-width: 1220px;
_width: 1220px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 350px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 350px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("350px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 350px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 350px;
margin-right: -350px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<link href="Delta%20Merges_files/authorization.css" media="all" onload="if(media!='all')media='all'" rel="stylesheet"><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=4122317656838628332&amp;zx=64ab75e5-b5bf-4855-84ed-97bab384448e' rel='stylesheet'/></noscript>

<link rel="preload" href="Delta%20Merges_files/integrator.js" as="script"><script src="Delta%20Merges_files/ca-pub-7405404871557055.js"></script><script src="Delta%20Merges_files/osd.js"></script><script src="Delta%20Merges_files/ca-pub-7405404871557055.js"></script><script type="text/javascript" src="Delta%20Merges_files/integrator.js"></script></head>
<body class="">
<div class="navbar no-items section" id="navbar" name="Navbar">
</div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="Header"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://sapkbs.blogspot.com/">
Helping Notes
</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>(We are providing this material only for education purposes)
We are not associated with any company or organisation that these documents would may refer to.</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs no-items section" id="crosscol" name="Cross-Column"></div>
<div class="tabs no-items section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="Main"><div class="widget AdSense" data-version="1" id="AdSense1">
<div class="widget-content">
<script async="" src="Delta%20Merges_files/adsbygoogle.js"></script>
<!-- sapkbs_crosscol_AdSense1_1x1_as -->
<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-7405404871557055" data-ad-host="ca-host-pub-1556223355139109" data-ad-host-channel="L0005" data-ad-slot="3390517555" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:766px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:766px;background-color:transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:766px;height:90px;" width="766" height="90" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=4122317656838628332&amp;widgetType=AdSense&amp;widgetId=AdSense1&amp;action=editWidget&amp;sectionId=main" onclick='return _WidgetManager._PopupConfig(document.getElementById("AdSense1"));' target="configAdSense1" title="Edit">
<img alt="" src="Delta%20Merges_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>Tuesday, November 1, 2016</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/s1600/deltaStorage.JPG" itemprop="image_url">
<meta content="4122317656838628332" itemprop="blogId">
<meta content="1579319339253468505" itemprop="postId">
<a name="1579319339253468505"></a>
<h3 class="post-title entry-title" itemprop="name">
2057046 - FAQ: SAP HANA Delta Merges
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-1579319339253468505" itemprop="description articleBody">
<div dir="ltr" style="text-align: left;" trbidi="on">
<div class="sapUiRespGrid sapUiRespGridHSpace1 sapUiRespGridMedia-Std-Desktop sapUiRespGridVSpace1" data-sap-ui="__section0-innerGrid" id="__section0-innerGrid">
<div class="sapUiRespGridSpanL12 sapUiRespGridSpanM12 sapUiRespGridSpanS12 sapUiRespGridSpanXL12">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout6" id="__layout6">
<div class="sapUiVltCell sapuiVltCell">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout5-__layout6-0" id="__layout5-__layout6-0">
<div class="sapUiVltCell sapuiVltCell">
<h3 class="sapMTitle sapMTitleMaxWidth sapMTitleNoWrap sapMTitleStyleH3 sapUiSelectable sapUiTinyMarginBottom sapUiTinyMarginTop" data-sap-ui="__title0-__layout6-0" id="__title0-__layout6-0">
<span id="__title0-__layout6-0-inner">Symptom</span></h3>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="myNNFV2Text sapUiSelectable" data-sap-ui-preserve="__html0-__layout6-0" id="__html0-__layout6-0">
 You want to understand merges in SAP HANA environments.<br>
 </div>
</div>
</div>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout5-__layout6-1" id="__layout5-__layout6-1">
<div class="sapUiVltCell sapuiVltCell">
<h3 class="sapMTitle sapMTitleMaxWidth sapMTitleNoWrap sapMTitleStyleH3 sapUiSelectable sapUiTinyMarginBottom sapUiTinyMarginTop" data-sap-ui="__title0-__layout6-1" id="__title0-__layout6-1">
<span id="__title0-__layout6-1-inner">Environment</span></h3>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="myNNFV2Text sapUiSelectable" data-sap-ui-preserve="__html0-__layout6-1" id="__html0-__layout6-1">
 SAP HANA<br>
 </div>
</div>
</div>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout5-__layout6-2" id="__layout5-__layout6-2">
<div class="sapUiVltCell sapuiVltCell">
<h3 class="sapMTitle sapMTitleMaxWidth sapMTitleNoWrap sapMTitleStyleH3 sapUiSelectable sapUiTinyMarginBottom sapUiTinyMarginTop" data-sap-ui="__title0-__layout6-2" id="__title0-__layout6-2">
<span id="__title0-__layout6-2-inner">Cause</span></h3>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="myNNFV2Text sapUiSelectable" data-sap-ui-preserve="__html0-__layout6-2" id="__html0-__layout6-2">
 1. What are delta merges in SAP HANA environments?<br>2. Where can I find more detailed information related to delta merges?<br>3. Which indications exist for problems in the delta merge area?<br>4. Is the delta merge an online operation?<br>5. How is a merge triggered?<br>6. How can the history of temporal tables be merged manually?<br>7. How can a manual delta merge be triggered for individual partitions?<br>8. How can delta merges and the delta storage be monitored?<br>9. How can peaks of high load due to concurrent or parallelized delta merges be prevented?<br>10. How can the load, priority and decision functions be interpreted?<br>11. Can merge related parameters be adjusted?<br>12. Why can large delta storages be critical?<br>13. What should be done in case of large delta storages?<br>14. How can I trace the merge activities in order to analyze problems with merges?<br>15. Why is more memory and disk space required during the delta merge operation?<br>16. What can be done to limit the memory requirements during delta merges?<br>17. How can I check for which tables auto merges are disabled?<br>18. How can I check for which tables persistent merges are disabled?<br>19. In which situations are critical merges executed?<br>20. Why do I see auto merges on tables although auto merges are disabled on table level?<br>21. What is the meaning of the different TYPE values in table M_DELTA_MERGE_STATISTICS?<br>22. What do the shortcuts mean which are used in the decision and cost functions?<br>23. In which scenarios can it be useful to reduce or disable auto merges?<br>24. Is the default auto merge decision function already optimal?<br>25. Is the default critical merge decision function already optimal?<br>26. What needs to be done in case of merge related errors?<br>27. Is a restart required when changing delta merge related parameters?<br>28. Is the delta storage empty after a merge?<br>29. What are reasons why auto merges aren't executed as expected?<br>30. How can I temporarily disable merges for a critical table?<br>31. Does M_DELTA_MERGE_STATISTICS also contain merge information from the secondary site of a system replication scenario?<br>32. For which services is the mergedog required?<br>
 </div>
</div>
</div>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout5-__layout6-3" id="__layout5-__layout6-3">
<div class="sapUiVltCell sapuiVltCell">
<h3 class="sapMTitle sapMTitleMaxWidth sapMTitleNoWrap sapMTitleStyleH3 sapUiSelectable sapUiTinyMarginBottom sapUiTinyMarginTop" data-sap-ui="__title0-__layout6-3" id="__title0-__layout6-3">
<span id="__title0-__layout6-3-inner">Resolution</span></h3>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="myNNFV2Text sapUiSelectable" data-sap-ui-preserve="__html0-__layout6-3" id="__html0-__layout6-3">
 <h3>
1. What are delta merges in SAP HANA environments?</h3>
Changes (INSERT, UPDATE, DELETE) to SAP HANA column store tables are 
not directly updated in the main storage. Instead the change information
 is written to a dedicated delta storage:<br>

<div class="separator" style="clear: both; text-align: left;">
<a href="https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/s1600/deltaStorage.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="Delta%20Merges_files/deltaStorage.JPG" border="0"></a></div>
<br>

From time to time the main storage needs to be updated with the 
content of the delta storage. This operation is called delta merge. The 
rough execution steps of a delta merge are illustrated in the following 
picture:<br>

<div class="separator" style="clear: both; text-align: left;">
<a href="https://4.bp.blogspot.com/-gcauplEp5aQ/WBjZ540fhpI/AAAAAAAAAes/YYxQO_os0QwmbrO_Nr07odUgdVv2iEsgQCLcB/s1600/deltaMerge.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="Delta%20Merges_files/deltaMerge.JPG" border="0"></a></div>
<br>

You can see that during a delta merge two separate main and delta storages exist.<br>

<h3>
2. Where can I find more detailed information related to delta merges?</h3>
More detailed information about the delta merge operation can be found in the <a href="http://help.sap.com/hana/SAP_HANA_Administration_Guide_en.pdf" target="_blank">SAP HANA Administration Guide</a>.<br>

The <a href="http://help.sap.com/hana/SAP_HANA_Troubleshooting_and_Performance_Analysis_Guide_en.pdf" target="_blank">SAP HANA Troubleshooting and Performance Analysis Guide</a> provides troubleshooting details for problems in the delta merge area.<br>

<h3>
3. Which indications exist for problems in the delta merge area?</h3>
The following SAP HANA alerts indicate problems in the delta merge area:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Alert</strong></td>
<td style="text-align: center;"><strong>Name</strong></td>
<td style="text-align: center;"><strong>&nbsp;Description</strong></td>
</tr>
<tr>
<td style="text-align: right;">10</td>
<td>Delta merge (mergedog) configuration</td>
<td>Determines whether or not the 'active' parameter in the 'mergedog' 
section of system configuration file(s) is 'yes'. mergedog is the system
 process that periodically checks column tables to determine whether or 
not a delta merge operation needs to be executed.</td>
</tr>
<tr>
<td style="text-align: right;">19</td>
<td>Record count of delta storage of column-store tables</td>
<td>Determines the number of records in the delta storage of column-store tables.</td>
</tr>
<tr>
<td style="text-align: right;">29</td>
<td>Size of delta storage of column-store tables</td>
<td>Determines the size of the delta storage of column tables.</td>
</tr>
<tr>
<td style="text-align: right;">88</td>
<td>Auto merge for column-store tables</td>
<td>Determines if the delta merge of a table was executed successfully or not.</td>
</tr>
</tbody>
</table>
<em>SQL: "HANA_Configuration_MiniChecks"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>, <a href="https://launchpad.support.sap.com/#/notes/1999993" target="_blank">1999993</a>) returns a potentially critical issue (C = 'X') for one of the following individual checks:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Check ID</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td style="text-align: right;">538</td>
<td>Delta merges &gt; 900 s (last day)</td>
</tr>
<tr>
<td style="text-align: right;">540</td>
<td>Failing delta merges (info messages, last day)</td>
</tr>
<tr>
<td style="text-align: right;">541</td>
<td>Failing delta merges (error messages, last day)</td>
</tr>
<tr>
<td style="text-align: right;">542</td>
<td>Auto merge tables with delta storage &gt; 5 GB</td>
</tr>
<tr>
<td style="text-align: right;">543</td>
<td>Auto merge tables with many delta records</td>
</tr>
<tr>
<td style="text-align: right;">544</td>
<td>Non-auto merge tables with delta storage &gt; 5 GB</td>
</tr>
<tr>
<td style="text-align: right;">545</td>
<td>Non-auto merge tables with many delta records</td>
</tr>
<tr>
<td style="text-align: right;">546</td>
<td>Delta size of small auto merge tables (GB)</td>
</tr>
<tr>
<td style="text-align: right;">547</td>
<td>Non BW tables with disabled auto merge</td>
</tr>
<tr>
<td style="text-align: right;">548</td>
<td>Tables with disabled persistent merge</td>
</tr>
</tbody>
</table>
<h3>
4. Is the delta merge an online operation?</h3>
Most steps of the delta merge are performed online, so concurrent 
read and write accesses to the table aren't blocked. Only during the 
following typically short periods of time a lock is acquired blocking 
change operations:<br>

<ul>
<li>Beginning of merge: Move of&nbsp;uncommitted rows&nbsp;from the source delta 
storage (Delta1) to the target delta storage (Delta2); see SAP Note <a href="https://launchpad.support.sap.com/#/notes/2098801" target="_blank">2098801</a>&nbsp;for more information</li>
<li>End of merge: Switch from source to target storages</li>
</ul>
<strong style="font-size: 16px;">5.&nbsp;How is a merge triggered?</strong><br>

Merges can be triggered in the following ways - automatically and 
manually, forced and conditioned. The following picture provides a rough
 overview:<br>

<img alt="delta__1.png" id="0050568133841EE495C73E0DF5DC73BC" src="Delta%20Merges_files/embedded_image.htm" title="delta__1.png"><br>

Additionally there&nbsp;can be&nbsp;implicit merges - independent of 
mergedog and manual triggers -&nbsp;in the following contexts:<br>

<ul>
<li>Recovery</li>
<li>Log replay</li>
</ul>
Automatic merges are performed by the mergedog which is configured with the following parameters:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Parameter</strong></td>
<td style="text-align: center;"><strong>Value</strong></td>
</tr>
<tr>
<td>
<pre>indexserver.ini -&gt; [mergedog] -&gt; active</pre>
</td>
<td>
true: Activates mergedog (default)<br>

false: Deactivates mergedog<br>

</td>
</tr>
<tr>
<td>
<pre>indexserver.ini -&gt; [mergedog] -&gt; check_interval</pre>
</td>
<td>&lt;frequency_ms&gt;: Defines the interval (in ms) of mergedog invocations (default: 60000, i.e. 1 minute)</td>
</tr>
</tbody>
</table>
Further details for the merge types can be found in the table below:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Merge Type</strong></td>
<td style="text-align: center;"><strong>Classification&nbsp;</strong></td>
<td style="text-align: center;"><strong>Usage Scenarios&nbsp;</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>Auto merge</td>
<td>automatic, conditioned</td>
<td>Normal system operation</td>
<td>
Automatic merges are performed by the <span class="scayt-misspell">mergedog</span> process when certain conditions are fulfilled.<br>

Detailed automatic merge conditions are maintained&nbsp;using the following&nbsp;parameter:<br>

<pre><span class="scayt-misspell">indexserver.ini</span> -&gt; [<span class="scayt-misspell">mergedog</span>] -&gt; <span class="scayt-misspell">auto_merge_decision_func</span></pre>
Per default the auto merge option is active for each table. If required 
it&nbsp;can be activated and deactivated on table level using the 
following SQL commands:<br>

<pre>ALTER TABLE "&lt;table_name&gt;" ENABLE AUTOMERGE</pre>
<pre>ALTER TABLE "&lt;table_name&gt;" DISABLE AUTOMERGE</pre>
</td>
</tr>
<tr>
<td>Critical merge</td>
<td>automatic, conditioned</td>
<td>During times of critical SAP HANA memory allocation</td>
<td>
Critical merges are performed by the <span class="scayt-misspell">mergedog</span> process in order to avoid system instabilities.<br>

The critical merge conditions are maintained using the following parameter:<br>

<pre><span class="scayt-misspell">indexserver.ini</span> -&gt; [<span class="scayt-misspell">mergedog</span>] -&gt; <span class="scayt-misspell">critical_merge_decision_func</span></pre>
</td>
</tr>
<tr>
<td>Hard merge</td>
<td>manual, unconditioned</td>
<td>Exceptional situations (e.g. problems with auto merge or specific tables)</td>
<td>
Hard merges are unconditioned merges controlled by the application or 
administrator. They are either executed immediately or - in case of high
 concurrent merge activity - at a later point in time.<br>

Hard merges are triggered with the following SQL command:<br>

<pre>MERGE DELTA OF "&lt;table_name&gt;" [FORCE REBUILD]</pre>
The FORCE REBUILD option doesn't indicate a forced merge, instead it 
makes sure that the delta log on disk is cleaned immediately (see SAP 
Note <a href="https://launchpad.support.sap.com/#/notes/2144274" target="_blank">2144274</a>).<br>

Alternatively you can use SAP HANA Studio for that purpose:<br><br><br>SAP HANA Studio -&gt; &lt;system&gt; -&gt; Catalog -&gt; &lt;schema&gt; -&gt; &lt;table&gt; -&gt; "Perform Delta Merge..."<br>

In exceptional cases you can trigger a hard merge of all tables using 
the following Python script delivered as part of the SAP HANA 
installation:<br>

<pre><span class="st">/usr/sap/&lt;sid&gt;/HDB&lt;inst_id&gt;/exe/python_support/mergeAllDeltaTables.py</span></pre>
<span class="st">Be aware that this action can be responsible for CPU 
and memory bottlenecks and there is normally no need to execute it, 
because reasonable merge operations are performed by the mergedog or by 
smart merges controlled by the application.</span><br>

</td>
</tr>
<tr>
<td>Forced merge</td>
<td>manual, unconditioned, immediate</td>
<td>Exceptional situations (e.g. problems with auto merge or specific tables)</td>
<td>
A forced merge is a variant of&nbsp;a hard merge&nbsp;which is generally executed immediately.<br>

Forced merges are triggered with the following command:<br>

<pre>MERGE DELTA OF "&lt;table_name&gt;" WITH PARAMETERS ('FORCED_MERGE' = 'ON')</pre>
</td>
</tr>
<tr>
<td>Smart merge</td>
<td>manual, conditioned</td>
<td>Standard approach for merges controlled by application (e.g. in 
order to avoid interference of auto merges with data load activities)</td>
<td>
Smart merges are conditioned merges controlled by the application. This 
approach can be useful during specific application scenarios like BW 
data loads. It makes sure that auto merge operations don't <span class="scayt-misspell">interfer</span> negatively with the business activities.<br>

Smart merges can be controlled by setting the following parameter to 'true' (enabled, default) or 'false' (disabled):<br>

<pre><span class="scayt-misspell">indexserver.ini</span> -&gt; [<span class="scayt-misspell">mergedog</span>] -&gt; smart_merge_enabled</pre>
When a smart merge is triggered by the application, the following parameter controls if a merge is actually executed:<br>

<pre><span class="scayt-misspell">indexserver.ini</span> -&gt; [<span class="scayt-misspell">mergedog</span>] -&gt; <span class="scayt-misspell">smart_merge_decision_func</span>
</pre>
Smart&nbsp;merges are triggered with the following command:<br>

<pre>MERGE DELTA OF "&lt;table_name&gt;" WITH PARAMETERS ('SMART_MERGE' = 'ON')</pre>
In SAP ABAP environments you can use the function module 
TREX_EXT_MERGE_DELTA_INDEX for triggering smart merges from application 
side.<br>

</td>
</tr>
<tr>
<td>Memory merge (SPS &lt;= 08)</td>
<td>manual, unconditioned, not persisted</td>
<td>Exceptional situations (e.g. to avoid disk I/O bottlenecks)</td>
<td>
Memory merges are only available up to SPS 08. Afterwards they are no 
longer possible - even if the configuration may still indicate that they
 should be done.<br>

A memory merge is a variant of a hard merge which is not persisted. The 
merge only happens in memory with the advantage of reduced disk I/O and 
the disadvantage of a longer delta log and longer recovery times.<br>

Memory merges are triggered with the following command:<br>

<pre>MERGE DELTA OF "&lt;table_name&gt;" WITH PARAMETERS ('MEMORY_MERGE' = 'ON')</pre>
Per default the persistent merge option is active for each table. If 
required it&nbsp;can be activated and deactivated on table level using 
the following SQL commands:<br>

<pre>ALTER TABLE "&lt;table_name&gt;" ENABLE PERSISTENT MERGE

ALTER TABLE "&lt;table_name&gt;" DISABLE PERSISTENT MERGE</pre>
</td>
</tr>
</tbody>
</table>
<h3>
6. How can the history of temporal tables be merged manually?</h3>
The history part of temporal tables can be merged by adding the key word HISTORY after MERGE:<br>

<pre>MERGE HISTORY DELTA OF "&lt;table_name&gt;" ...</pre>
<h3>
7. How can a manual delta merge be triggered for individual partitions?</h3>
An individual table partition can be merged by including the PART&lt;part_id&gt; clause in the MERGE command:<br>

<pre>MERGE DELTA OF "&lt;table_name&gt;" PART &lt;part_id&gt; ...</pre>
<span style="font-size: 16px; font-weight: bold;">8. How can delta merges and the delta storage be monitored?</span><br>

Delta merge activities are tracked in table M_DELTA_MERGE_STATISTICS and its history in HOST_DELTA_MERGE_STATISTICS.<br>

See SAP Note <a href="https://launchpad.support.sap.com/#/notes/2088971" target="_blank">2088971</a>&nbsp;for details how to configure the amount of data available in monitoring view M_DELTA_MERGE_STATISTICS.<br>

You can use <em>SQL: "HANA_Tables_ColumnStore_Merges"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>)
 to&nbsp;retrieve information. It provides information like execution 
time, merge type, table name, merge duration, number of rows merged and 
merge errors.<br>

<span style="text-decoration: underline;">Example output:</span><br>

<div class="separator" style="clear: both; text-align: left;">
<a href="https://1.bp.blogspot.com/-MPeGJu_1izo/WBjaJY30xdI/AAAAAAAAAew/GxhYSCALqqQq2l3JVqDZM74AOPvHVFe8wCLcB/s1600/merges.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="Delta%20Merges_files/merges.JPG" border="0"></a></div>
<br>

The current utilization of the delta storage can be analyzed using <em>SQL: "HANA_Tables_ColumnStore_DeltaStorage"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>).<br>

<span style="text-decoration: underline;">Example output:</span><br>

<div class="separator" style="clear: both; text-align: left;">
<a href="https://4.bp.blogspot.com/-31mPzwpaZdA/WBjaQa9D9nI/AAAAAAAAAe0/VRqeRu3tmHMztfsbNi35--Qj5_VqYBwOQCLcB/s1600/deltaStorage_.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="Delta%20Merges_files/deltaStorage_.JPG" border="0"></a></div>
<br>

Furthermore merge activities can be monitored in the following ways:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Tables</strong></td>
<td style="text-align: center;"><strong>SQL statement (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>)</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>M_SERVICE_THREADS<br>M_SERVICE_THREAD_SAMPLES<br>HOST_SERVICE_THREAD_SAMPLES</td>
<td><em>SQL: "HANA_Threads_CurrentThreads"<br>SQL: "HANA_Threads_ThreadSamples_FilterAndAggregation"</em><br><em>SQL: "HANA_Threads_ThreadSamples_AggregationPerTimeSlice"</em></td>
<td>Merge related thread information can provide insight which tables 
are currently merged and what kind of detailed activity is 
executed.&nbsp;See SAP Note <a href="https://launchpad.support.sap.com/#/notes/2114710" target="_blank">2114710</a>&nbsp;for more information.</td>
</tr>
<tr>
<td>M_JOB_PROGRESS</td>
<td><em>SQL: "HANA_Jobs_JobProgress"</em></td>
<td>Starting with SAP HANA SPS 10 the view M_JOB_PROGRESS contains 
information for the current M_DELTA_MERGE_STATISTICS related activities 
(JOB_NAME = 'BW F Fact Table Compression', 'Delta Merge', 'Optimize 
Compression', 'Reclaim Delta').</td>
</tr>
</tbody>
</table>
<span style="font-size: 16px; font-weight: bold;">9. How can peaks of high load due to concurrent or parallelized delta merges be prevented?</span><br>

All merge operations apart from forced merges can only start if a 
so-called merge token is assigned. If no merge token is available, the 
merges have to wait. Typical symptoms are "Semaphore Wait" locks 
on&nbsp;TRexAPI::TableMergeRequest::TableMergeRequest as described in 
SAP Note&nbsp;<a href="https://launchpad.support.sap.com/#/notes/1999998" target="_blank">1999998</a>.<br>

The total number of available merge tokens is calculated via the following parameter:<br>

<pre>indexserver.ini -&gt; [mergedog] -&gt; load_balancing_func</pre>
The value calculation includes information like the number of available CPUs, the CPU utilization and the heap memory situation.<br>

When a merge is triggered, SAP HANA calculates the number of required 
merge tokens. If this calculation is not possible, the value 
defined&nbsp;by the following parameter is used (default: 2):<br>

<pre>indexserver.ini -&gt; [mergedog] -&gt; token_per_table</pre>
Furthermore there are priority parameters that are used to calculate 
priorities of merge requests so that they can be processed in an 
optimized order:<br>

<pre>indexserver.ini -&gt; [mergedog] -&gt; auto_merge_priority_func
indexserver.ini -&gt; [mergedog] -&gt; hard_merge_priority_func
indexserver.ini -&gt; [mergedog] -&gt; smart_merge_priority_func</pre>
<strong style="font-size: 16px;">10. How can the load, priority and decision functions be interpreted?</strong><br>

The load, priority&nbsp;and decision function parameters contain quite 
complex logical expressions with several 3 character shortcuts. It is 
not trivial to understand their meaning. The <a href="http://help.sap.com/hana/SAP_HANA_Administration_Guide_en.pdf" target="_blank">SAP HANA Administration Guide</a>
 describes the shortcuts. With this information it is possible to 
understand better how the execution of merges depend on factors like 
CPU, heap memory or the delta memory size. In the following a typical 
auto merge decision function (SPS &lt;= 08) is illustrated:<br>

<pre>( ( THM &gt;= 256000 and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; At least 256 GB of heap
&nbsp;&nbsp;&nbsp; ( ( ( DMS &gt; 100 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta memory size &gt; 100 MB
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DCC &gt; 100 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta cell count &gt; 100 million (rows * columns)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DLS &gt; 1000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta log size &gt; 1 GB
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) and
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DRC &gt; MRC / 100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta row count more than 1 % of main row count
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) or
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( DMR &gt; 0.2 * MRC and &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deleted main rows &gt; 20 % of main rows and
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DMR &gt; 0.001&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deleted main rows &gt; 1000
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )
&nbsp;&nbsp;&nbsp; )
&nbsp; ) or
&nbsp; ( THM &lt; 256000 and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Less than 256 GB of heap
&nbsp;&nbsp;&nbsp; ( DMS &gt; 50 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta memory size &gt; 50 MB
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DCC &gt; 8 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta cell count &gt; 8 million (rows * columns)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DLS &gt; 100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta log size &gt; 100 MB
&nbsp;&nbsp;&nbsp; )
&nbsp; )
) and
( DUC &lt; 0.1 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Uncommitted delta row count &lt; 100000
&nbsp; 0.05 * DRC &gt;= DUC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uncommitted delta row count &lt;= 5 % of delta row count
)</pre>
With SPS 09 a different default for the auto merge decision function is in place:<br>

<pre>( ( ( DMS&gt;PAL/2000 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta memory size &gt; 0.05 % of process allocation limit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DCC&gt;100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta cell count &gt; 100 million
&nbsp;&nbsp;&nbsp; ) and 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DRC &gt; MRC/100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta row count more than 1 % of main row count
&nbsp; ) or</pre>
<pre>&nbsp; ( DMR&gt;0.2*MRC and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Deleted main rows &gt; 20 % of main rows and 
&nbsp;&nbsp;&nbsp; DMR &gt; 0.001&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Deleted main rows &gt; 1000
&nbsp; )
) and 
( DUC&lt;0.1 or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Uncommitted delta row count &lt; 100000
&nbsp; 0.05*DRC&gt;=DUC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Uncommitted delta row count &lt;= 5 % of delta row count
)</pre>
It is possible to include further general conditions into these 
functions, e.g. to change the behavior during specific times or for 
specific tables.<br>

<span style="text-decoration: underline;">Example:</span> (decision function including time dependent rules)<br>

<pre>DMS &gt; 1000 or DMS &gt; 42 and weekday(now())=6 and secondtime(now())&gt;secondtime('01:00') and secondtime(now())&lt;secondtime('02:00')</pre>
<strong style="font-size: 16px;">11. Can merge related parameters be adjusted?</strong><br>

Due to the complexity of the merge&nbsp;operation changes to the 
parameters can lead to unforeseen effects like increased system load, 
higher memory consumption or performance degradations. Therefore it is 
recommended to adjust merge related parameters only in exceptional 
situations. If parameters are adjusted for a specific task&nbsp;(e.g. as
 part of a migration activity) it is important to undo the changes after
 the activity has finished.<br>

<h3>
12. Why can large delta storages be critical?</h3>
Large delta storages can be critical for the following reasons:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Problem</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>Increased memory consumption</td>
<td>
Large delta storages increase the memory requirements because:<br>

<ul>
<li>They are compressed less efficiently than the main storages</li>
<li>Not only UPDATE and INSERT, but also DELETE operations result in a 
growing delta storage. Memory can only be reclaimed with a delta merge 
(see SAP Note <a href="https://launchpad.support.sap.com/#/notes/2088183" target="_blank">2088183</a>)</li>
</ul>
</td>
</tr>
<tr>
<td>Longer recovery times</td>
<td>Large delta storages result in large delta logs which can increase the recovery times.</td>
</tr>
<tr>
<td>Performance degradations</td>
<td>Database requests can take longer because the delta storage is not read-optimized.</td>
</tr>
<tr>
<td>Increased disk size</td>
<td>Not only the memory size, but also the disk size interferes with delta merges. See SAP Note <a href="https://launchpad.support.sap.com/#/notes/2014987" target="_blank">2014987</a>&nbsp;which describes a situation where a large disk size can be reduced by performing a delta merge operation.</td>
</tr>
</tbody>
</table>
<span style="font-size: 16px; font-weight: bold;">13. What should be done in case of large delta storages?</span><br>

At first you should check if the large delta storage really has to be 
treated as a problem. For example it is normal that there are large 
delta storages during data loads in BW, because BW often suppresses auto
 merges and uses smart merges at the end. See SAP Note <a href="https://launchpad.support.sap.com/#/notes/2043152" target="_blank">2043152</a>&nbsp;for more information.<br>

If you suffer from large delta storages you can proceed according to SAP Note <a href="https://launchpad.support.sap.com/#/notes/1977314" target="_blank">1977314</a>&nbsp;in order to understand and resolve the root cause. SAP Note <a href="https://launchpad.support.sap.com/#/notes/2039810" target="_blank">2039810</a>&nbsp;describes a scenario where auto merges are no longer executed after a table was renamed.<br>

<h3>
14. How can I trace the merge activities in order to analyze problems with merges?</h3>
To find out details about merge activities you can increase the level of
 the database trace for "mergedog" and "mergemonitor" to INFO. Results 
will be written to the standard&nbsp;service trace file.&nbsp;See SAP 
Note <a href="https://launchpad.support.sap.com/#/notes/2119087" target="_blank">2119087</a>&nbsp;for more details.<br>

<h3>
<strong>15. Why is more memory and disk space required during the delta merge operation?</strong></h3>
A delta merge needs&nbsp;about twice the size of the table (partition) 
in memory and on disk to perform the merge.&nbsp;More precisely: size of
 source main + size of target main + size of source 
delta.&nbsp;Additionally a temporary working space is needed which is 
about the size of the largest column of the table (partition).<br>

In case you have a table of 100 GB with 40 GB being the&nbsp;size of 
largest column, you would need about 100 GB * 2 + 40&nbsp;GB&nbsp;= 240 
GB while the merge is executed.<br>

<h3>
<strong>16. What can be done to limit the memory requirements during delta merges?</strong></h3>
The memory requirements during a merge depend both on the overall table 
size and the delta storage size. The following approaches exist to 
reduce the memory requirements during delta merges:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Area</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>Partitioning</td>
<td>
Partition large tables so that smaller delta <span class="scayt-misspell">storages</span> on partition level are used instead of a large table-wide delta storage.<br>

</td>
</tr>
<tr>
<td>Reduction of memory footprint</td>
<td>Reduce the memory requirements of the table by actions like cleanup 
of basis tables, archiving, reduction of indexes, reduction of <span class="scayt-misspell">CONCAT</span> attributes,&nbsp;data aging and extended storage. See SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;("Which options exist to reduce the risk of SAP <span class="scayt-misspell">HANA</span> memory issues?") for more information</td>
</tr>
<tr>
<td>Reduction of changes</td>
<td>
Check from application side if you can reduce the amount of INSERT / UPDATE / DELETE operations.<br>

</td>
</tr>
<tr>
<td>Merge parameters</td>
<td>
Make sure that the merge related parameters are set to reasonable values
 (optimally default values) and avoid settings resulting in merges of 
large delta <span class="scayt-misspell">storages</span>.<br>

In individual cases you can adjust merge parameters so that merges happen before the delta storage has grown to critical sizes.<br>

</td>
</tr>
<tr>
<td>Manual merges</td>
<td>In individual cases you can execute manual merges before the delta storage has grown to critical sizes.</td>
</tr>
</tbody>
</table>
<h3>
17. How can I check for which tables auto merges are disabled?</h3>
You can use <em>SQL: "HANA_Tables_ColumnStore_AutoMergeDisabled"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>) in order to check for tables with disabled auto merges.<br>

Disabled auto merges on table level can be a consequence of table moves 
from row store to column store using SAP ABAP functionality. See SAP 
Note <a href="https://launchpad.support.sap.com/#/notes/2196615" target="_blank">2196615</a>&nbsp;for more information.<br>

<h3>
18. How can I check for which tables persistent merges are disabled?</h3>
You can use <em>SQL: "HANA_Tables_ColumnStore_PersistentMergeDisabled"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>) in order to check for tables with disabled&nbsp;persistent merges.<br>

<h3>
19. In which situations are critical merges executed?</h3>
Critical merges are controlled by the critical_merge_decision_func parameter. A typical default value is:<br>

<pre>UPT &gt; 43200 and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Indexserver uptime at least 43200 seconds (12 hours)
( ( MMS &lt; 10000 and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Main memory size &lt; 10 GB
&nbsp;&nbsp;&nbsp; DMS &gt; 1000 and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Delta memory size &gt; 1 GB
&nbsp;&nbsp;&nbsp; TMD &gt; 86400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Table merge delay (time since last merge, in seconds)
&nbsp; ) or 
&nbsp; TMD&gt;604800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Table merge delay (time since last merge, in seconds)
)</pre>
This means that critical merges are only executed when the indexserver 
runs already for at least 12 hour and additionally at least one of the 
following conditions is fulfilled:<br>

<ul>
<li>The table main size is smaller than 10 GB, the table delta size is 
greater than 1 GB and the table wasn't merged since at least one day</li>
<li>The table wasn't merged since around 7 days</li>
</ul>
&nbsp;So we can see that - among others - an unconditioned merge of 
tables is performed when the last merge happened more than 7 days ago.<br>

<h3>
20. Why do I see auto merges on tables although auto merges are disabled on table level?</h3>
Up to SAP HANA Rev. 121 critical merges are registered with MOTIVATION =
 'AUTO' in views like M_DELTA_MERGE_STATISTICS and 
HOST_DELTA_MERGE_STATISTICS. Therefore you can see a merge categorized 
as 'AUTO' when a critical merge was executed (e.g. because no successful
 merge happened within the last 7 days).<br>

Starting with SAP HANA Rev. 122 critical merges are recorded with MOTIVATION = 'CRITICAL' in M_DELTA_MERGE_STATISTICS.<br>

<h3>
21. What is the meaning of the different TYPE values in table M_DELTA_MERGE_STATISTICS?</h3>
In fact not all entries in M_DELTA_MERGE_STATISTICS actually reflect 
merge operations, it depends on the TYPE. The following TYPE values 
exist in M_DELTA_MERGE_STATISTICS:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Type</strong></td>
<td style="text-align: center;"><strong>Merge&nbsp;</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>FACT</td>
<td style="text-align: center;">No</td>
<td>BW fact table compression (BW_F_FACT_TABLE_COMPRESSION)</td>
</tr>
<tr>
<td>HINT</td>
<td style="text-align: center;">No</td>
<td>Smart merge request triggered by application, 
smart_merge_decision_func is evaluated and - if merge is indicated - a 
subsequent MERGE step is performed</td>
</tr>
<tr>
<td>MERGE</td>
<td style="text-align: center;">Yes</td>
<td>Delta merge</td>
</tr>
<tr>
<td>RECLAIM</td>
<td style="text-align: center;">No</td>
<td>Garbage collection in delta storage</td>
</tr>
<tr>
<td>SPARSE</td>
<td style="text-align: center;">No</td>
<td>
Compression optimization (see SAP Note <a href="https://launchpad.support.sap.com/#/notes/2112604" target="_blank">2112604</a>)<br>

Typically executed as subsequent step of an auto merge, smart merge or critical merge, can also be triggered manually<br>

Not restricted to SPARSE compression, so 'COMPRESS' would be a clearer name for this type<br>

</td>
</tr>
</tbody>
</table>
<h3>
22. What do the shortcuts mean which are used in the decision and cost functions?</h3>
The most important shortcuts used in decision and cost functions are:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Shortcut</strong></td>
<td style="text-align: center;"><strong>Unit</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>AHM</td>
<td>MB</td>
<td>Available heap memory</td>
</tr>
<tr>
<td>BASENAME</td>
<td>&nbsp;</td>
<td>Table name (SAP HANA SPS &gt;= 12)</td>
</tr>
<tr>
<td>CLA</td>
<td>%</td>
<td>CPU load average</td>
</tr>
<tr>
<td>CRCSOC</td>
<td>million</td>
<td>Changed row count since optimize compression</td>
</tr>
<tr>
<td>DCC</td>
<td>million</td>
<td>Delta cell count (number of rows in delta multiplied with number of table columns)</td>
</tr>
<tr>
<td>DLS</td>
<td>MB</td>
<td>Delta log size</td>
</tr>
<tr>
<td>DMR</td>
<td>million</td>
<td>Deleted main rows</td>
</tr>
<tr>
<td>DMS</td>
<td>MB</td>
<td>Delta memory size</td>
</tr>
<tr>
<td>DRC</td>
<td>million</td>
<td>Delta row count (uncommitted rows are not always taken into account)</td>
</tr>
<tr>
<td>DUC</td>
<td>million</td>
<td>Uncommitted delta row count</td>
</tr>
<tr>
<td>FULLNAME</td>
<td>&nbsp;</td>
<td>
Internal table name (SAP HANA SPS &gt;= 12):<br>

<ul>
<li>Table partitioned: _SYS_SPLIT/&lt;table_name&gt;~&lt;part_id&gt;</li>
<li>Table not partitioned: &lt;table_name&gt;</li>
</ul>
</td>
</tr>
<tr>
<td>GAL</td>
<td>MB</td>
<td>Global allocation limit</td>
</tr>
<tr>
<td>IF(&lt;arg1&gt;, &lt;arg2&gt;, &lt;arg3&gt;)</td>
<td>&nbsp;</td>
<td>Returns &lt;arg2&gt; if &lt;arg1&gt; is fullfilled (i.e. true or not 0), otherwise &lt;arg3&gt;</td>
</tr>
<tr>
<td>INSTR(&lt;full_string&gt;, &lt;sub_string&gt;)</td>
<td>&nbsp;</td>
<td>Returns 0 if &lt;sub_string&gt; isn't contained in 
&lt;full_string&gt;, otherwise the position of the first occurrence of 
&lt;sub_string&gt; in &lt;full_string&gt; is returned</td>
</tr>
<tr>
<td>LCC</td>
<td>&nbsp;</td>
<td>Logical CPU count</td>
</tr>
<tr>
<td>LOADED</td>
<td>&nbsp;</td>
<td>TRUE if table is loaded, otherwise FALSE</td>
</tr>
<tr>
<td>MMS</td>
<td>MB</td>
<td>Main memory size</td>
</tr>
<tr>
<td>MMU</td>
<td>million</td>
<td>Main max UDIV</td>
</tr>
<tr>
<td>MRC</td>
<td>million</td>
<td>Main row count</td>
</tr>
<tr>
<td>NAME</td>
<td>&nbsp;</td>
<td>
Internal table name:<br>

<ul>
<li>Table partitioned: _SYS_SPLIT/&lt;table_name&gt;~&lt;part_id&gt;</li>
<li>Table not partitioned: &lt;table_name&gt;</li>
</ul>
Due to the special naming convention for partitioned tables you have to 
use BASENAME (SAP HANA SPS &gt;= 12) or&nbsp;the 
following&nbsp;approach&nbsp;if you want to&nbsp;refer to a partitioned 
table:<br>

INSTR(NAME, '&lt;table_name&gt;') &gt; 0<br>

</td>
</tr>
<tr>
<td>NMU</td>
<td>million</td>
<td>
<div align="left">
Main max UDIV (&gt;= SPS 09)&nbsp;</div>
</td>
</tr>
<tr>
<td>NOW()</td>
<td>&nbsp;</td>
<td>
<div align="left">
Current date and time (localtime of the server timezone)</div>
</td>
</tr>
<tr>
<td>OCRC</td>
<td>million</td>
<td>(Last) optimize compression row count</td>
</tr>
<tr>
<td>PAL</td>
<td>MB</td>
<td>Process allocation limit</td>
</tr>
<tr>
<td>QDW</td>
<td>s</td>
<td>Queuing delay wait (wait time for assignment of token)</td>
</tr>
<tr>
<td>RHM</td>
<td>MB</td>
<td>Estimated required heap memory to complete table optimization</td>
</tr>
<tr>
<td>RP</td>
<td>boolean</td>
<td>TRUE if table is range partitioned, otherwise false</td>
</tr>
<tr>
<td>SCHEMA</td>
<td>&nbsp;</td>
<td>Schema name</td>
</tr>
<tr>
<td>THM</td>
<td>MB</td>
<td>Total heap memory</td>
</tr>
<tr>
<td>TMD</td>
<td>s</td>
<td>Time since last merge of table</td>
</tr>
<tr>
<td>UPT</td>
<td>s</td>
<td>Uptime of indexserver</td>
</tr>
</tbody>
</table>
<h3>
23. In which scenarios can it be useful to reduce or disable auto merges?</h3>
Disabling auto merges is mainly useful in scenarios of mass changes, 
e.g. data loads (many INSERTs) or archiving (many DELETEs). Several 
standard functionalities already work in this way:<br>

<ul>
<li>In BW environments auto merges are explicitly disabled for certain 
table types in order to speed up operations like data loads. BW relies 
on smart merges triggered&nbsp;on application side.</li>
<li>Migration tools disable auto merges or set the&nbsp;auto_merge_decision_func to values that result in less auto merges.</li>
</ul>
The effect of reducing or disabling auto merges depends on several 
factors like the COMMIT frequency and the actual DML activities. 
Furthermore it is a trade-off between performance and memory 
consumption. The fewer merges are done, the larger is the memory 
requirement. Therefore&nbsp;a general rule of thumb is not available and
 you have to test the different options if you perform time-critical 
mass changes.<br>

<h3>
24. Is the default auto merge decision function already optimal?</h3>
The default auto merge decision function has changed a few times. 
Regardless of these changes it tends to merge small tables with large 
delta storages too rarely with SPS 09 and below. For example, an auto 
merge is typically not triggered for a table with 20 MB main storage and
 90 MB delta storage, because the threshold for delta storage sizes is 
100 MB or higher. As a consequence the memory allocation is higher than 
necessary and the performance can suffer.<br>

In order to eliminate this issue, you can adjust the 
auto_merge_decision_func parameter by adding the&nbsp;following 
condition after the first bracket&nbsp;in its value:<br>

<pre>(DRC * TMD &gt; 3600 * ( MRC + 0.0001 )) or</pre>
This formula compares the delta row count with the main row count and 
additionally takes the time since the last merge into account, so that 
e.g. a small table with the same number of records in main and delta 
storage will typically be merged after 1 hour.<br>

<span style="text-decoration: underline;">Example (Rev. 82):</span><br>

<pre>ALTER SYSTEM ALTER CONFIGURATION ('indexserver.ini', 'SYSTEM') SET ('mergedog','auto_merge_decision_func')=
'((DRC*TMD&gt;3600*(MRC+0.0001)) or (THM&gt;=256000 and (((DMS&gt;100 or DCC&gt;100 or DLS&gt;1000) and DRC&gt;MRC/100) or (DMR&gt;0.2*MRC and DMR&gt;0.001))) or 
(THM&lt;256000 and (DMS&gt;50 or DCC&gt;8 or DLS&gt;100))) and (DUC&lt;0.1 or 0.05*DRC&gt;=DUC)' WITH RECONFIGURE</pre>
Be aware that you should always take the default value for the auto 
merge decision function in the system as a basis and only add the 
additional term at the beginning. If you upgrade to a later SAP HANA 
revision, you should revisit this parameter setting and adjust it if the
 default has changed. With SPS 10 and higher the default parameter value
 has been adjusted so that also small tables are properly considered. 
Thus, you have to remove this special configuration when you uses SPS 10
 or higher.<br>

<h3>
25. Is the default critical merge decision function already optimal?</h3>
Up to SAP HANA SPS 10 the default value&nbsp;of the critical_merge_decision_func parameter is:<br>

<pre>UPT&gt;43200 and ((MMS&lt;10000 and DMS&gt;1000 and TMD&gt;86400) or TMD&gt;604800)</pre>
When a table wasn't merged for more than one day and a high amount of 
changes are executed without COMMIT, so that the delta storage size 
exceeds 1 GB, the critical merge will kick in. When moving the 
uncommitted changes to the new delta storage, DML operations on the 
table are blocked (SAP Note <a href="https://launchpad.support.sap.com/#/notes/2098801" target="_blank">2098801</a>).
 This can take significant time in case of a high amount of uncommitted 
changes. Therefore it is useful to adjust the 
critical_merge_decision_func parameter so that the critical merge is 
only executed when the amount of uncommitted changes is on a reasonably 
low level:<br>

<pre>UPT&gt;43200 and ((MMS&lt;10000 and DMS&gt;1000 and TMD&gt;86400) or TMD&gt;604800) and DUC&lt;0.1</pre>
Starting with SAP HANA SPS 11 this change is incorporated per default.<br>

<h3>
26. What needs to be done in case of merge related errors?</h3>
Delta merges can fail with various errors, and the details are written 
to columns LAST_ERROR and ERROR_DESCRIPTION in monitoring view 
M_DELTA_MERGE_STATISTICS and its history HOST_DELTA_MERGE_STATISTICS. 
You can check for the top error messages using <em>SQL: "HANA_Tables_ColumnStore_Merges"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>).<br>

<span style="text-decoration: underline;">Example:</span><br>

<div class="separator" style="clear: both; text-align: left;">
<a href="https://4.bp.blogspot.com/-IxiE0siFBmA/WBjaYxPI1ZI/AAAAAAAAAe4/eaidaLvXa4AXmOjS_Rgo9FFYVm1j725pACLcB/s1600/mergeErrors.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="Delta%20Merges_files/mergeErrors.JPG" border="0"></a></div>
<br>

Be aware that error details aren't available in earlier revisions. For 
some time M_DELTA_MERGE_STATISTICS contained the ERROR_DESCRIPTION, but 
HOST_DELTA_MERGE_STATISTICS not.<br>

Typical errors and required actions are described below. The 
"Description" of an error code depends on the SAP HANA patch level and 
so you find more than one description for some of the error codes. The 
underlying meaning is nevertheless the same. The term "table 
optimization" in some of the error messages covers merges and 
compression optimizations.<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Error</strong></td>
<td style="text-align: center;"><strong>Description</strong></td>
<td style="text-align: center;"><strong>Recommendations</strong></td>
</tr>
<tr>
<td style="text-align: right;">1527</td>
<td>exception during deltalog replay. See trace file for more information</td>
<td>
This error typically indicates an inconsistency. Check the trace file for further details and proceed according to SAP Note <a href="https://launchpad.support.sap.com/#/notes/2116157" target="_blank">2116157</a>&nbsp;in order to analyze and resolve the corruption.<br>

If the error is reported for merges on secondary sites of system replication scenarios (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999880" target="_blank">1999880</a>), the bug described in SAP Note <a href="https://launchpad.support.sap.com/#/notes/2348480" target="_blank">2348480</a>&nbsp;(Rev. 110 - 112.02, Rev. 120) can be responsible.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">1999</td>
<td>General error (no further information available)</td>
<td>Check the indexserver trace file for more details.</td>
</tr>
<tr>
<td style="text-align: right;">2009</td>
<td>
Memory allocation failed<br>

</td>
<td>
This error is issued when no more memory is available. See SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;and make sure that sufficient memory is available.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2450</td>
<td>Error during merge of delta index occurred</td>
<td>
Check the indexserver trace file for more details, e.g. OOM situations. In case of memory problems, see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;for more details.<br>

Don't execute memory merges on tables with LOB columns ("main memory merge not supported on tables containing disk lobs!").<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2454</td>
<td>general error during historisation of data</td>
<td>
This error can happen when merges are executed on temporal tables.<br>

For SAP HANA Revisions &lt;= 61 see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1895207" target="_blank">1895207</a>.<br>

In case the history table is a SAP HANA-optimized DSO you can convert this DSO to a optimized standard DSO (see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1849497" target="_blank">1849497</a>&nbsp;and <a href="https://launchpad.support.sap.com/#/notes/1849498" target="_blank">1849498</a>) without keeping change log.<br>

If the problem happens on newer Revisions, check the trace files for 
content. Open a SAP incident if you are not able to resolve the issue.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2458</td>
<td>
aborted as cancel requested<br>

Table delta merge aborted as cancel was manually requested by a kill session call<br>

</td>
<td>If it happens repeatedly: Check why sessions are cancelled manually.</td>
</tr>
<tr>
<td style="text-align: right;">2461</td>
<td>
error during optimizeCompression occurred<br>

</td>
<td>Check the trace file for more details about the underlying error.</td>
</tr>
<tr>
<td style="text-align: right;">2465</td>
<td>
not enough merge tokens for delta merge<br>

</td>
<td>
This error is issued if during recovery a merge isn't able to proceed due to a lack of merge tokens.<br>

This typically happens in system replication environments (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999880" target="_blank">1999880</a>) with a configured logreplay replication mode.&nbsp;SAP Note <a href="https://launchpad.support.sap.com/#/notes/2351926" target="_blank">2351926</a>&nbsp;describes
 a bug that can result in these errors with SAP HANA Rev. 110 to 112.04 
and 120 to 122.00. Also with newer Revisions this error is still 
possible, but typically harmless. If you nevertheless want to reduce it,
 you can increase the number of merge tokens as a workaround by 
adjusting indexserver.ini -&gt; [mergedog] -&gt; load_balancing_func and
 reconfiguring the secondary site as described in SAP Note <a href="https://launchpad.support.sap.com/#/notes/2351926" target="_blank">2351926</a>.<br>

You can use <em>SQL: "HANA_Tables_ColumnStore_Merges_TokenOwners"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>) to understand which activities occupy how many merge tokens.<br>

Normally this error isn't critical because a merge will be repeated at a
 later time when the current number of tokens is not sufficient.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2480</td>
<td>
same table optimization is ongoing<br>

The table in question is already being merged.<br>

</td>
<td>If it happens repeatedly: Check why concurrent merge requests are issued against the same table.</td>
</tr>
<tr>
<td style="text-align: right;">2481</td>
<td>
same table optimization requested multiple times<br>

There are already other smart merge requests for this table in the queue.<br>

</td>
<td>
If it happens repeatedly: Check why concurrent smart merge requests are issued against the same table.<br>

The following application SAP Notes can help to reduce the number of unnecessary smart merge request in specific scenarios:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>SAP Note</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://launchpad.support.sap.com/#/notes/2243673" target="_blank">2243673</a></td>
<td>Less smart merges for classic BW DSO tables with RFC calls</td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://launchpad.support.sap.com/#/notes/2245078" target="_blank">2245078</a></td>
<td>Reduction of smart merges in Bank Analyzer scenarios</td>
</tr>
</tbody>
</table>
<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2482</td>
<td>
table optimization was not indicated<br>

The delta storage is empty or the evaluation of the smart merge cost function indicated that a merge is not necessary.<br>

</td>
<td>
Usually this error is harmless and can be ignored (SAP Note <a href="https://launchpad.support.sap.com/#/notes/2250715" target="_blank">2250715</a>).<br>

The following application SAP Notes can help to reduce the number of unnecessary smart merge request in specific scenarios:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>SAP Note</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://launchpad.support.sap.com/#/notes/2243673" target="_blank">2243673</a></td>
<td>Less smart merges for classic BW DSO tables with RFC calls</td>
</tr>
<tr>
<td style="text-align: center;"><a href="https://launchpad.support.sap.com/#/notes/2245078" target="_blank">2245078</a></td>
<td>Reduction of smart merges in Bank Analyzer scenarios</td>
</tr>
</tbody>
</table>
In case of doubts you can check if the parameter 
smart_merge_decision_func is set properly (optimally: default value) and
 if smart merge logic on application side works correctly.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2483</td>
<td>
table optimization was disabled<br>

Smart merge is not active (parameter smart_merge_enabled=no)<br>

</td>
<td>Check why smart merges are disabled globally and activate them if 
possible by unsetting parameter indexserver.ini -&gt; [mergedog] -&gt; 
smart_merge_enabled.</td>
</tr>
<tr>
<td style="text-align: right;">2484</td>
<td>
not enough memory for table optimization<br>

Memory required to optimize table exceeds heap limit<br>

</td>
<td>Analyze and resolve memory shortages or misconfigurations&nbsp;(see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;for more details).</td>
</tr>
<tr>
<td style="text-align: right;">2485</td>
<td>table optimization was rolled back</td>
<td>Check the indexserver trace file for more details.</td>
</tr>
<tr>
<td style="text-align: right;">2486</td>
<td>table optimization did not have an effect because all rows in delta were not optimizable</td>
<td>
If it happens repeatedly: Check why&nbsp;merge operations are started although no row can be processed.<br>

This situation can happen if all records in the delta storage have to be
 moved to the new delta storage because they are still uncommitted.<br>

</td>
</tr>
<tr>
<td style="text-align: right;">2487</td>
<td>table optimization was not possible due to open metadata changes</td>
<td>Check the indexserver trace file for more details. Perform a 
consistency check using CHECK_TABLE_CONSISTENCY in order to identify 
possible underlying corruptions (see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1977584" target="_blank">1977584</a>). Open a SAP incident on component HAN-DB if your require assistance from SAP.</td>
</tr>
<tr>
<td style="text-align: right;">2594</td>
<td>General partitioning error</td>
<td>Check the indexserver trace file for more details. Among others, SAP HANA bugs in the area of paged attributes (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1871386" target="_blank">1871386</a>) can be responsible for this error.</td>
</tr>
<tr>
<td style="text-align: right;">2953</td>
<td>BW F Fact Table Compression failed</td>
<td>Check the indexserver trace file for more details.</td>
</tr>
<tr>
<td style="text-align: right;">6900</td>
<td>
Internal error<br>

Attribute engine failed<br>

</td>
<td>Check the indexserver trace file for more details.</td>
</tr>
<tr>
<td style="text-align: right;">6923</td>
<td>
Attribute load failed<br>

</td>
<td>Check the indexserver trace file for more details, e.g. OOM situations. In case of memory problems, see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;for more details.</td>
</tr>
<tr>
<td style="text-align: right;">6924</td>
<td>Attribute save failed</td>
<td>Check the indexserver trace file for more details, e.g. OOM situations. In case of memory problems, see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;for more details.</td>
</tr>
<tr>
<td style="text-align: right;">6939</td>
<td>AttributeEngine: commit() or rollback() was called without calling prepare() first</td>
<td>This error can be the consequence of a SAP HANA bug that can result 
in an inconsistency between existing columns and metadata information. 
Upgrade to SAP HANA SPS 09 or higher in order to fix this 
issue.&nbsp;Open a SAP incident on component HAN-DB if your require 
assistance from SAP.</td>
</tr>
<tr>
<td style="text-align: right;">6952</td>
<td>
AttributeEngine: not enough memory<br>

</td>
<td>This error is issued when no more memory is available. See SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999997" target="_blank">1999997</a>&nbsp;and make sure that sufficient memory is available.</td>
</tr>
<tr>
<td style="text-align: right;">29020</td>
<td>ltt::exception caught while operating on $STORAGEOBJECT$</td>
<td>This error is related to the persistence layer. Check the indexserver trace file for more details.</td>
</tr>
<tr>
<td style="text-align: right;">999999</td>
<td>message not found</td>
<td>This error can be returned if the underlying table is corrupted or 
has reached the 2 billion record limit. Check the indexserver trace file
 for more details. Perform a consistency check using 
CHECK_TABLE_CONSISTENCY in order to identify possible underlying 
corruptions (see SAP Note <a href="https://launchpad.support.sap.com/#/notes/1977584" target="_blank">1977584</a>). Open a SAP incident on component HAN-DB if your require assistance from SAP.</td>
</tr>
</tbody>
</table>
When an auto merge fails due to an error, the mergedog waits for some 
time (typically 1 hour) before trying the same auto merge again.<br>

<h3>
27. Is a restart required when changing delta merge related parameters?</h3>
Delta merge parameters can be changed online and immediately take effect. No restart is required.<br>

<h3>
28. Is the delta storage empty after a merge?</h3>
No, not necessarily:<br>

<ul>
<li>Only committed data is moved from delta storage to main storage. 
Uncommitted records remain in delta storage. It is a good practice (also
 considered by the auto merge decision function) to avoid merges if a 
high fraction of records in delta storage is not committed, yet.</li>
<li>Changes performed during the delta merge will also appear in the new delta storage.</li>
</ul>
<h3>
29. What are reasons why auto merges aren't executed as expected?</h3>
If tables aren't automatically merged although the delta storage is 
filled significantly, you can check the following potential reasons:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Reason</strong></td>
<td style="text-align: center;"><strong>Details</strong></td>
</tr>
<tr>
<td>Inadequate auto merge decision function</td>
<td>
Make sure that the auto_merge_decision_func parameter is default or set to a reasonable value.<br>

Check if the conditions of the tables in question&nbsp;fulfill the auto_merge_decision_func.<br>

</td>
</tr>
<tr>
<td>Auto merges deactivated on table level</td>
<td>Check via <em>SQL: "HANA_Tables_ColumnStore_AutoMergeDisabled"</em> (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1969700" target="_blank">1969700</a>) if auto merges are disabled on table level and enable them if required.</td>
</tr>
<tr>
<td>Mergedog deactivated</td>
<td>
Make sure that<br>

<pre>indexserver.ini -&gt; [mergedog] -&gt; active</pre>
isn't explicitly switched off ('false'), because this would disable the mergedog and no more auto merges are performed.<br>

</td>
</tr>
<tr>
<td>Tables assigned to wrong service</td>
<td>
The mergedog only considers tables related to the services with own 
persistent tables like indexserver and statisticsserver. If tables are 
assigned to other services (e.g scriptserver), no auto merge will 
happen.<br>

</td>
</tr>
</tbody>
</table>
<h3>
30. How can I temporarily disable merges for a critical table?</h3>
In some situations (e.g. in case of a corrupted table) it can be useful 
to disable both auto and critical merge for a specific table on a 
temporary basis and enable it again once the problem is fixed. This can 
be achieved in the following way:<br>

<table cellspacing="0" cellpadding="3" border="1">
<tbody>
<tr>
<td style="text-align: center;"><strong>Merge type</strong></td>
<td style="text-align: center;"><strong>Deactivation command</strong></td>
<td style="text-align: center;"><strong>Activation command</strong></td>
</tr>
<tr>
<td style="text-align: center;">
AUTO<br>

</td>
<td>
<pre>ALTER TABLE "&lt;table_name&gt;" DISABLE AUTOMERGE</pre>
</td>
<td>
<pre>ALTER TABLE "&lt;table_name&gt;"&nbsp;ENABLE AUTOMERGE</pre>
</td>
</tr>
<tr>
<td style="text-align: center;">
CRITICAL<br>

</td>
<td>
<pre>ALTER SYSTEM ALTER CONFIGURATION ('indexserver.ini','SYSTEM') 
SET ('mergedog', 'critical_merge_decision_func') = &nbsp;
<strong>'INSTR(NAME, ''&lt;table_name&gt;'') = 0</strong> AND&nbsp;&lt;original_critical_merge_decision_func_value&gt;'
WITH RECONFIGURE</pre>
</td>
<td>
If DEFAULT value is used:<br>

<pre>ALTER SYSTEM ALTER CONFIGURATION ('indexserver.ini','SYSTEM') 
UNSET ('mergedog', 'critical_merge_decision_func') WITH RECONFIGURE</pre>
If system specific value is used:<br>

<pre>ALTER SYSTEM ALTER CONFIGURATION ('indexserver.ini','SYSTEM') 
SET ('mergedog', 'critical_merge_decision_func') = &nbsp;
'&lt;original_critical_merge_decision_func_value&gt;' WITH RECONFIGURE</pre>
</td>
</tr>
</tbody>
</table>
<h3>
31. Does M_DELTA_MERGE_STATISTICS also contain merge information from the secondary site of a system replication scenario?</h3>
Starting with SAP HANA Rev. 111 the view M_DELTA_MERGE_STATISTICS can 
also contain merge information from the secondary site of a system 
replication scenario (SAP Note <a href="https://launchpad.support.sap.com/#/notes/1999880" target="_blank">1999880</a>). Certain conditions like identical SAP HANA patch level needs to be fulfilled for this feature.<br>

This new behavior can result in some confusion, e.g.:<br>

<ul>
<li>Merge errors 2465 ("not enough merge tokens for delta merge") 
reported: See "What needs to be done in case of merge related errors?" 
for more information.</li>
<li>Long merge durations due to the fact that a merge on the secondary 
site needs to synchronize with the recovery queue and so it can't be 
committed immediately. This can in general be considered as harmless.</li>
</ul>
<h3>
32. For which services is the mergedog required?</h3>
The mergedog is only activated for services with column store tables:<br>

<ul>
<li>indexserver</li>
<li>(standalone) statistics server</li>
</ul>
For other services the mergedog is intentionally disabled. SAP Note <a href="https://launchpad.support.sap.com/#/notes/2240059" target="_blank">2240059</a>&nbsp;describes
 a statistics server bug that can result in false positive alerts if the
 mergedog is (correctly) disabled for the dpserver service and suggests 
to activate the mergedog for the dpserver as a temporary workaround.<br>
 </div>
</div>
</div>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="sapUiVlt sapuiVlt" data-sap-ui="__layout5-__layout6-4" id="__layout5-__layout6-4">
<div class="sapUiVltCell sapuiVltCell">
<h3 class="sapMTitle sapMTitleMaxWidth sapMTitleNoWrap sapMTitleStyleH3 sapUiSelectable sapUiTinyMarginBottom sapUiTinyMarginTop" data-sap-ui="__title0-__layout6-4" id="__title0-__layout6-4">
<span id="__title0-__layout6-4-inner">Keywords</span></h3>
</div>
<div class="sapUiVltCell sapuiVltCell">
<div class="myNNFV2Text sapUiSelectable" data-sap-ui-preserve="__html0-__layout6-4" id="__html0-__layout6-4">
 SAP HANA delta merge M_DELTA_MERGE_STATISTICS optimzable [sic]</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Posted by
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<span itemprop="name">NGS</span>
</span>
</span>
<span class="post-timestamp">
at
<meta content="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html" itemprop="url">
<a class="timestamp-link" href="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2016-11-01T11:10:00-07:00">11:10 AM</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-1934301291">
<a href="https://www.blogger.com/post-edit.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;from=pencil" title="Edit Post">
<img alt="" class="icon-action" src="Delta%20Merges_files/icon18_edit_allbkg.gif" width="18" height="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;target=blog" onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;target=facebook" onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a><div class="goog-inline-block google-plus-share-container"><g:plusone source="blogger:blog:plusone" href="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html" size="medium" width="300" annotation="inline"></g:plusone></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>2 comments:</h4>
<div class="comments-content">
<script async="async" src="Delta%20Merges_files/comments.js" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = [{'id': '7272926023494232579', 'body': '\x3cbr /\x3eThank you for giving this best information. It&#8217;s a very nice topic\x3cbr /\x3e\x3ca href\x3d\x22http://chantisoft.com/sap-hana-remote-online-access/\x22 rel\x3d\x22nofollow\x22\x3e SAP HANA Remote Online Access\x3c/a\x3e', 'timestamp': '1521801517838', 'permalink': 'http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html?showComment\x3d1521801517838#c7272926023494232579', 'author': {'name': 'Resma Biswal', 'avatarUrl': '//lh4.googleusercontent.com/-gTc9UvxxtkE/AAAAAAAAAAI/AAAAAAAAAAw/wlCEvNYiqag/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/16853463881645085010'}, 'displayTime': 'March 23, 2018 at 3:38 AM', 'deleteclass': 'item-control blog-admin pid-1165663331'}, {'id': '4699005049890096771', 'body': '\x3ca href\x3d\x22https://www.aswinitech.com/\x22 rel\x3d\x22nofollow\x22\x3eSAP Business One\x3c/a\x3e provides instant access to critical business information and accurate result oriented insights to the owners and their employees so that they can make informed business decisions like never before.', 'timestamp': '1531909572447', 'permalink': 'http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html?showComment\x3d1531909572447#c4699005049890096771', 'author': {'name': 'Sravya', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/15626706262386656288'}, 'displayTime': 'July 18, 2018 at 3:26 AM', 'deleteclass': 'item-control blog-admin pid-57401130'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more!', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '4122317656838628332', 'postId': '1579319339253468505', 'feed': 'http://sapkbs.blogspot.com/feeds/1579319339253468505/comments/default', 'authorName': 'NGS', 'authorUrl': 'https://www.blogger.com/profile/17226631007275619305', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        var text = (entry &&
                    ((entry.content && entry.content.$t) ||
                     (entry.summary && entry.summary.$t))) ||
            '';
        if (entry && entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + text + '</span>';
            }
          }
        }
        return text;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id="comment-holder">

<div id="bc_0_3C" kind="c"><div id="bc_0_3CT"><div id="bc_0_2T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_2TB"><li id="bc_0_0B" class="comment" kind="b"><div class="avatar-image-container"><img src="Delta%20Merges_files/photo.jpg"></div><div id="c7272926023494232579" class="comment-block"><div id="bc_0_0M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16853463881645085010">Resma Biswal</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html?showComment=1521801517838#c7272926023494232579">March 23, 2018 at 3:38 AM</a></span></div><p id="bc_0_0MC" class="comment-content"><br>Thank you for giving this best information. Its a very nice topic<br><a href="http://chantisoft.com/sap-hana-remote-online-access/" rel="nofollow"> SAP HANA Remote Online Access</a></p><span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1165663331"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4122317656838628332&amp;postID=7272926023494232579">Delete</a></span></span></div><div id="bc_0_0BR" class="comment-replies"></div><div id="bc_0_0B_box" class="comment-replybox-single"></div></li><li id="bc_0_1B" class="comment" kind="b"><div class="avatar-image-container"><img src="Delta%20Merges_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png"></div><div id="c4699005049890096771" class="comment-block"><div id="bc_0_1M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/15626706262386656288">Sravya</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html?showComment=1531909572447#c4699005049890096771">July 18, 2018 at 3:26 AM</a></span></div><p id="bc_0_1MC" class="comment-content"><a href="https://www.aswinitech.com/" rel="nofollow">SAP Business One</a>
 provides instant access to critical business information and accurate 
result oriented insights to the owners and their employees so that they 
can make informed business decisions like never before.</p><span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-57401130"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4122317656838628332&amp;postID=4699005049890096771">Delete</a></span></span></div><div id="bc_0_1BR" class="comment-replies"></div><div id="bc_0_1B_box" class="comment-replybox-single"></div></li></ol><div id="bc_0_2I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">Add comment</a></div><div id="bc_0_2T_box" class="comment-replybox-thread"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" id="comment-editor" name="comment-editor" src="Delta%20Merges_files/comment-iframe.htm" style="display: block;" data-resized="true" width="100%" height="213px" frameborder="0"></iframe></div><div id="bc_0_2L" class="loadmore loaded" kind="rb"><a href="javascript:;" target="_self">Load more...</a></div></div></div></div></div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=4122317656838628332&amp;postID=1579319339253468505&amp;blogspotRpcToken=2607709" id="comment-editor-src"></a>

<script src="Delta%20Merges_files/2567313873-comment_from_post_iframe.js" type="text/javascript"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>
<div class="inline-ad">
<script type="text/javascript">
    google_ad_client = "ca-pub-7405404871557055";
    google_ad_host = "ca-host-pub-1556223355139109";
    google_ad_host_channel = "L0007";
    google_ad_slot = "6343983953";
    google_ad_width = 728;
    google_ad_height = 15;
</script>
<!-- sapkbs_main_Blog1_728x15_0ads_al_s -->
<script type="text/javascript" src="Delta%20Merges_files/show_ads.js">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:728px;height:15px;" width="728" height="15" frameborder="0"></iframe></ins></ins>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://sapkbs.blogspot.com/2016/11/1898317-how-to-handle-hana-alert-1-host.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://sapkbs.blogspot.com/2016/06/643396-button-wrongly-translated-in.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://sapkbs.blogspot.com/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://sapkbs.blogspot.com/feeds/1579319339253468505/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
<script type="text/javascript">
    window.___gcfg = { 'lang': 'en' };
  </script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget BlogSearch" data-version="1" id="BlogSearch1">
<h2 class="title">Search Notes</h2>
<div class="widget-content">
<div id="BlogSearch1_form">
<form action="http://sapkbs.blogspot.com/search" class="gsc-search-box" target="_top">
<table class="gsc-search-box" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gsc-input">
<input autocomplete="off" class="gsc-input" name="q" size="10" title="search" type="text">
</td>
<td class="gsc-search-button">
<input class="gsc-search-button" title="search" value="Search" type="submit">
</td>
</tr>
</tbody>
</table>
</form>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=4122317656838628332&amp;widgetType=BlogSearch&amp;widgetId=BlogSearch1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogSearch1"));' target="configBlogSearch1" title="Edit">
<img alt="" src="Delta%20Merges_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget AdSense" data-version="1" id="AdSense2">
<div class="widget-content">
<script async="" src="Delta%20Merges_files/adsbygoogle.js"></script>
<!-- sapkbs_sidebar-right-1_AdSense2_1x1_as -->
<ins class="adsbygoogle" style="display: block; height: 250px;" data-ad-client="ca-pub-7405404871557055" data-ad-host="ca-host-pub-1556223355139109" data-ad-host-channel="L0001" data-ad-slot="4867250757" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:290px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:290px;background-color:transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:290px;height:250px;" width="290" height="250" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=4122317656838628332&amp;widgetType=AdSense&amp;widgetId=AdSense2&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("AdSense2"));' target="configAdSense2" title="Edit">
<img alt="" src="Delta%20Merges_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://sapkbs.blogspot.com/2016/">
2016
</a>
<span class="post-count" dir="ltr">(544)</span>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://sapkbs.blogspot.com/2016/11/">
November
</a>
<span class="post-count" dir="ltr">(6)</span>
<ul class="posts">
<li><a href="http://sapkbs.blogspot.com/2016/11/1900257-how-to-handle-hana-alert-43.html">1900257 - How to handle HANA Alert 43: 'Memory Usa...</a></li>
<li><a href="http://sapkbs.blogspot.com/2016/11/1977268-how-to-handle-hana-alert-40.html">1977268 - How to handle HANA Alert 40: 'Total memo...</a></li>
<li><a href="http://sapkbs.blogspot.com/2016/11/1977101-how-to-handle-hana-alert-12.html">1977101 - How to handle HANA Alert 12: 'Memory usa...</a></li>
<li><a href="http://sapkbs.blogspot.com/2016/11/1840954-alerts-related-to-hana-memory.html">1840954 - Alerts related to HANA memory consumptio...</a></li>
<li><a href="http://sapkbs.blogspot.com/2016/11/1898317-how-to-handle-hana-alert-1-host.html">1898317 - How to handle HANA Alert 1: Host physic...</a></li>
<li><a href="http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html">2057046 - FAQ: SAP HANA Delta Merges</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://sapkbs.blogspot.com/2016/06/">
June
</a>
<span class="post-count" dir="ltr">(25)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://sapkbs.blogspot.com/2016/02/">
February
</a>
<span class="post-count" dir="ltr">(446)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://sapkbs.blogspot.com/2016/01/">
January
</a>
<span class="post-count" dir="ltr">(67)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=4122317656838628332&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target="configBlogArchive1" title="Edit">
<img alt="" src="Delta%20Merges_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot no-items section" id="footer-1"></div>
<table class="section-columns columns-2" cellspacing="0" cellpadding="0" border="0">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot no-items section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot no-items section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="Footer"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=4122317656838628332&amp;widgetType=Attribution&amp;widgetId=Attribution1&amp;action=editWidget&amp;sectionId=footer-3" onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' target="configAttribution1" title="Edit">
<img alt="" src="Delta%20Merges_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>

<script type="text/javascript" src="Delta%20Merges_files/2383172227-widgets.js"></script>
<script type="text/javascript">
window['__wavt'] = 'AOuZoY6EskF-OmDzUvRWMPmPdgcy7vN70Q:1539325595611';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d4122317656838628332','//sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html','4122317656838628332');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '4122317656838628332', 'title': 'Helping Notes', 'url': 'http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html', 'canonicalUrl': 'http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html', 'homepageUrl': 'http://sapkbs.blogspot.com/', 'searchUrl': 'http://sapkbs.blogspot.com/search', 'canonicalHomepageUrl': 'http://sapkbs.blogspot.com/', 'blogspotFaviconUrl': 'http://sapkbs.blogspot.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Helping Notes - Atom\x22 href\x3d\x22http://sapkbs.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Helping Notes - RSS\x22 href\x3d\x22http://sapkbs.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Helping Notes - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/4122317656838628332/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Helping Notes - Atom\x22 href\x3d\x22http://sapkbs.blogspot.com/feeds/1579319339253468505/comments/default\x22 /\x3e\n', 'meTag': '', 'adsenseClientId': 'pub-7405404871557055', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': true, 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/864213505-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/a12e5b06def43927', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Share to Google+', 'target': 'googleplus'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '1579319339253468505', 'postImageThumbnailUrl': 'https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/s72-c/deltaStorage.JPG', 'postImageUrl': 'https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/s1600/deltaStorage.JPG', 'pageName': '2057046 - FAQ: SAP HANA Delta Merges', 'pageTitle': 'Helping Notes: 2057046 - FAQ: SAP HANA Delta Merges'}}, {'name': 'features', 'data': {'cmt_anon_warn': 'true', 'sharing_get_link_dialog': 'true', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': '2057046 - FAQ: SAP HANA Delta Merges', 'description': '        Symptom      You want to understand merges in SAP HANA environments.           Environment      SAP HANA           Cause      1. Wha...', 'featuredImage': 'https://4.bp.blogspot.com/-7I84QnPFnSc/WBjZxRTS-_I/AAAAAAAAAeo/hv1p8bzkC9sBhqvRCp75rR1n86jER6I6gCLcB/s1600/deltaStorage.JPG', 'url': 'http://sapkbs.blogspot.com/2016/11/2057046-faq-sap-hana-delta-merges.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 1579319339253468505}}]);
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense1', 'main', document.getElementById('AdSense1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'useNgc': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/2214962715-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogSearchView', new _WidgetInfo('BlogSearch1', 'sidebar-right-1', document.getElementById('BlogSearch1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense2', 'sidebar-right-1', document.getElementById('AdSense2'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>

<iframe id="google_osd_static_frame_4276662900065" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe><link type="text/css" rel="stylesheet" href="Delta%20Merges_files/368954415-lightbox_bundle.css"><script type="text/javascript" src="Delta%20Merges_files/2214962715-lbx.js"></script></body></html>