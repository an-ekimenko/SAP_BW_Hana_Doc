"use strict";var targetDataId,targetModal,activeClass="dm-lightbox--active",imageIdx="data-index",lightboxDataId="data-id",modalSelector=".dm-lightbox",clickableImgSelector="img.dm-lightbox__img",closeIconSelector=".lightbox__header .dm-icon-encoded--close",prevButtonSelector=".lightbox-gallery-button--prev",nextButtonSelector=".lightbox-gallery-button--next",zoomInButtonSelector=".lightbox-zoom-in",zoomOutButtonSelector=".lightbox-zoom-out",slideNextVal=1,slidePrevVal=-1,maxMobileWindowWidth=980,modals=document.querySelectorAll(modalSelector),closeIcon=document.querySelectorAll(closeIconSelector),clickableImg=document.querySelectorAll(clickableImgSelector),lightboxPrevButtons=document.querySelectorAll(prevButtonSelector),lightboxNextButtons=document.querySelectorAll(nextButtonSelector),zoomInButtons=document.querySelectorAll(zoomInButtonSelector),zoomOutButtons=document.querySelectorAll(zoomOutButtonSelector),slideIndex=1,windowWidth=window.innerWidth,scrollbarWid=getScrollbarWidth();document.addEventListener("keydown",function(t){t||(t=window.event),"Escape"!==t.key&&"Esc"!==t.key||targetModal&&targetModal.classList.contains(activeClass)&&(targetModal.classList.remove(activeClass),enableBackgroundScroll())}),window.addEventListener("click",function(t){t||(t=window.event),closeClickOutsideLightbox(t)}),window.addEventListener("resize",updateWindowSize);for(var i=0;i<zoomInButtons.length;i++)zoomInButtons[i].addEventListener("click",zoomin);for(var _i=0;_i<zoomOutButtons.length;_i++)zoomOutButtons[_i].addEventListener("click",zoomout);for(var _i2=0;_i2<closeIcon.length;_i2++)closeIcon[_i2].addEventListener("click",function(t){t||(t=window.event),toggleLightbox(t)});initLightboxImgWrappingAnchor(),windowWidth<maxMobileWindowWidth&&toggleLightboxImgWrappingAnchor(!0,!1);for(var _i3=0;_i3<clickableImg.length;_i3++)clickableImg[_i3].addEventListener("click",function(t){t||(t=window.event);var e=parseInt(t.target.getAttribute(imageIdx));toggleLightbox(t,e)});for(var _i4=0;_i4<lightboxPrevButtons.length;_i4++)lightboxPrevButtons[_i4].addEventListener("click",function(t){t||(t=window.event);var e=t.target.closest(modalSelector).getAttribute(lightboxDataId);plusSlides(slidePrevVal,""+e)});for(var _i5=0;_i5<lightboxNextButtons.length;_i5++)lightboxNextButtons[_i5].addEventListener("click",function(t){t||(t=window.event);var e=t.target.closest(modalSelector).getAttribute(lightboxDataId);plusSlides(slideNextVal,""+e)});function toggleLightboxImgWrappingAnchor(t,e){for(var o=0;o<clickableImg.length;o++)for(var i=jQuery(clickableImg[o]).parents("a[href]"),l=0;l<i.length;l++)e&&i[l].setAttribute("data-href",i[l].href),i[l].href=t?i[l].getAttribute("data-href"):"javascript:void(0);"}function initLightboxImgWrappingAnchor(){toggleLightboxImgWrappingAnchor(!1,!0)}function updateWindowSize(){windowWidth=window.innerWidth,scrollbarWid=getScrollbarWidth(),windowWidth<maxMobileWindowWidth?(targetModal&&targetModal.classList.contains(activeClass)&&(targetModal.classList.remove(activeClass),enableBackgroundScroll()),toggleLightboxImgWrappingAnchor(!0,!1)):toggleLightboxImgWrappingAnchor(!1,!1)}function closeClickOutsideLightbox(t){t.target==targetModal&&(targetModal.classList.remove(activeClass),enableBackgroundScroll())}function enableBackgroundScroll(){document.body.style.overflow="",document.body.style.paddingRight=""}function getScrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth}function toggleLightbox(t,e){maxMobileWindowWidth<=windowWidth&&(targetDataId="I"===t.target.tagName?t.target.closest(modalSelector).getAttribute(lightboxDataId):t.target.getAttribute(lightboxDataId),modals.forEach(function(t,e){t.getAttribute(lightboxDataId)===targetDataId&&(targetModal=t)}),targetModal?targetModal.classList.contains(activeClass)?(targetModal.classList.remove(activeClass),enableBackgroundScroll()):(targetModal.classList.add(activeClass),document.body.style.overflow="hidden",document.body.style.paddingRight=scrollbarWid+"px",void 0!==e&&currentSlide(e,targetDataId)):console.error('No target modal found, Please check "data-id" attributes!'))}function plusSlides(t,e){showSlides(slideIndex+=t,e)}function currentSlide(t,e){showSlides(slideIndex=t,e)}function updateSlideNum(t,e,o){var i=document.querySelector('.dm-lightbox[data-id="'+o+'"] .dm-lightbox__slideNumber');i.querySelector("span.dm-lightbox__slideNumber--current").innerHTML=t,i.querySelector("span.dm-lightbox__slideNumber--total").innerHTML=e}function showSlides(t,e){var o=document.querySelectorAll('.dm-lightbox[data-id="'+e+'"] .dm-lightbox__slide');t>o.length&&(slideIndex=1),t<1&&(slideIndex=o.length);for(var i=0;i<o.length;i++)o[i].style.display="none";updateSlideNum(slideIndex,o.length,e),o[slideIndex-1].style.display="flex"}function zoomin(){var t=targetModal.querySelectorAll(".dm-lightbox__slide")[slideIndex-1].querySelector("img.dm-lightbox__slide--img"),e=t.clientWidth;t.style.width=e+100+"px"}function zoomout(){var t=targetModal.querySelectorAll(".dm-lightbox__slide")[slideIndex-1].querySelector("img.dm-lightbox__slide--img"),e=t.clientWidth;if(100==e)return!1;t.style.width=e-100+"px"}